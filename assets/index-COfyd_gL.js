function Ib(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Ct=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Pb(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var dg={exports:{}},Za={},fg={exports:{}},Q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ao=Symbol.for("react.element"),Ab=Symbol.for("react.portal"),Ob=Symbol.for("react.fragment"),Rb=Symbol.for("react.strict_mode"),$b=Symbol.for("react.profiler"),Lb=Symbol.for("react.provider"),Db=Symbol.for("react.context"),Fb=Symbol.for("react.forward_ref"),Ub=Symbol.for("react.suspense"),Mb=Symbol.for("react.memo"),zb=Symbol.for("react.lazy"),oh=Symbol.iterator;function Bb(t){return t===null||typeof t!="object"?null:(t=oh&&t[oh]||t["@@iterator"],typeof t=="function"?t:null)}var hg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pg=Object.assign,mg={};function Vs(t,e,r){this.props=t,this.context=e,this.refs=mg,this.updater=r||hg}Vs.prototype.isReactComponent={};Vs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Vs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function gg(){}gg.prototype=Vs.prototype;function gd(t,e,r){this.props=t,this.context=e,this.refs=mg,this.updater=r||hg}var yd=gd.prototype=new gg;yd.constructor=gd;pg(yd,Vs.prototype);yd.isPureReactComponent=!0;var ah=Array.isArray,yg=Object.prototype.hasOwnProperty,vd={current:null},vg={key:!0,ref:!0,__self:!0,__source:!0};function wg(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)yg.call(e,n)&&!vg.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:ao,type:t,key:i,ref:o,props:s,_owner:vd.current}}function Vb(t,e){return{$$typeof:ao,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function wd(t){return typeof t=="object"&&t!==null&&t.$$typeof===ao}function Hb(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var lh=/\/+/g;function Jl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Hb(""+t.key):e.toString(36)}function Ko(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ao:case Ab:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+Jl(o,0):n,ah(s)?(r="",t!=null&&(r=t.replace(lh,"$&/")+"/"),Ko(s,e,r,"",function(u){return u})):s!=null&&(wd(s)&&(s=Vb(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(lh,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",ah(t))for(var a=0;a<t.length;a++){i=t[a];var c=n+Jl(i,a);o+=Ko(i,e,r,c,s)}else if(c=Bb(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=n+Jl(i,a++),o+=Ko(i,e,r,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ko(t,e,r){if(t==null)return t;var n=[],s=0;return Ko(t,n,"","",function(i){return e.call(r,i,s++)}),n}function qb(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Je={current:null},Jo={transition:null},Wb={ReactCurrentDispatcher:Je,ReactCurrentBatchConfig:Jo,ReactCurrentOwner:vd};function bg(){throw Error("act(...) is not supported in production builds of React.")}Q.Children={map:ko,forEach:function(t,e,r){ko(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ko(t,function(){e++}),e},toArray:function(t){return ko(t,function(e){return e})||[]},only:function(t){if(!wd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Q.Component=Vs;Q.Fragment=Ob;Q.Profiler=$b;Q.PureComponent=gd;Q.StrictMode=Rb;Q.Suspense=Ub;Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wb;Q.act=bg;Q.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=pg({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=vd.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)yg.call(e,c)&&!vg.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:ao,type:t.type,key:s,ref:i,props:n,_owner:o}};Q.createContext=function(t){return t={$$typeof:Db,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Lb,_context:t},t.Consumer=t};Q.createElement=wg;Q.createFactory=function(t){var e=wg.bind(null,t);return e.type=t,e};Q.createRef=function(){return{current:null}};Q.forwardRef=function(t){return{$$typeof:Fb,render:t}};Q.isValidElement=wd;Q.lazy=function(t){return{$$typeof:zb,_payload:{_status:-1,_result:t},_init:qb}};Q.memo=function(t,e){return{$$typeof:Mb,type:t,compare:e===void 0?null:e}};Q.startTransition=function(t){var e=Jo.transition;Jo.transition={};try{t()}finally{Jo.transition=e}};Q.unstable_act=bg;Q.useCallback=function(t,e){return Je.current.useCallback(t,e)};Q.useContext=function(t){return Je.current.useContext(t)};Q.useDebugValue=function(){};Q.useDeferredValue=function(t){return Je.current.useDeferredValue(t)};Q.useEffect=function(t,e){return Je.current.useEffect(t,e)};Q.useId=function(){return Je.current.useId()};Q.useImperativeHandle=function(t,e,r){return Je.current.useImperativeHandle(t,e,r)};Q.useInsertionEffect=function(t,e){return Je.current.useInsertionEffect(t,e)};Q.useLayoutEffect=function(t,e){return Je.current.useLayoutEffect(t,e)};Q.useMemo=function(t,e){return Je.current.useMemo(t,e)};Q.useReducer=function(t,e,r){return Je.current.useReducer(t,e,r)};Q.useRef=function(t){return Je.current.useRef(t)};Q.useState=function(t){return Je.current.useState(t)};Q.useSyncExternalStore=function(t,e,r){return Je.current.useSyncExternalStore(t,e,r)};Q.useTransition=function(){return Je.current.useTransition()};Q.version="18.3.1";fg.exports=Q;var b=fg.exports;const bd=Xa(b),Gb=Ib({__proto__:null,default:bd},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kb=b,Jb=Symbol.for("react.element"),Yb=Symbol.for("react.fragment"),Qb=Object.prototype.hasOwnProperty,Xb=Kb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Zb={key:!0,ref:!0,__self:!0,__source:!0};function xg(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Qb.call(e,n)&&!Zb.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:Jb,type:t,key:i,ref:o,props:s,_owner:Xb.current}}Za.Fragment=Yb;Za.jsx=xg;Za.jsxs=xg;dg.exports=Za;var l=dg.exports,Wc={},_g={exports:{}},yt={},Sg={exports:{}},kg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(C,O){var N=C.length;C.push(O);e:for(;0<N;){var $=N-1>>>1,K=C[$];if(0<s(K,O))C[$]=O,C[N]=K,N=$;else break e}}function r(C){return C.length===0?null:C[0]}function n(C){if(C.length===0)return null;var O=C[0],N=C.pop();if(N!==O){C[0]=N;e:for(var $=0,K=C.length,te=K>>>1;$<te;){var _e=2*($+1)-1,ct=C[_e],Ue=_e+1,B=C[Ue];if(0>s(ct,N))Ue<K&&0>s(B,ct)?(C[$]=B,C[Ue]=N,$=Ue):(C[$]=ct,C[_e]=N,$=_e);else if(Ue<K&&0>s(B,N))C[$]=B,C[Ue]=N,$=Ue;else break e}}return O}function s(C,O){var N=C.sortIndex-O.sortIndex;return N!==0?N:C.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],d=1,f=null,h=3,m=!1,v=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(C){for(var O=r(u);O!==null;){if(O.callback===null)n(u);else if(O.startTime<=C)n(u),O.sortIndex=O.expirationTime,e(c,O);else break;O=r(u)}}function x(C){if(w=!1,y(C),!v)if(r(c)!==null)v=!0,ue(E);else{var O=r(u);O!==null&&pe(x,O.startTime-C)}}function E(C,O){v=!1,w&&(w=!1,g(A),A=-1),m=!0;var N=h;try{for(y(O),f=r(c);f!==null&&(!(f.expirationTime>O)||C&&!I());){var $=f.callback;if(typeof $=="function"){f.callback=null,h=f.priorityLevel;var K=$(f.expirationTime<=O);O=t.unstable_now(),typeof K=="function"?f.callback=K:f===r(c)&&n(c),y(O)}else n(c);f=r(c)}if(f!==null)var te=!0;else{var _e=r(u);_e!==null&&pe(x,_e.startTime-O),te=!1}return te}finally{f=null,h=N,m=!1}}var k=!1,T=null,A=-1,U=5,S=-1;function I(){return!(t.unstable_now()-S<U)}function M(){if(T!==null){var C=t.unstable_now();S=C;var O=!0;try{O=T(!0,C)}finally{O?H():(k=!1,T=null)}}else k=!1}var H;if(typeof p=="function")H=function(){p(M)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,R=W.port2;W.port1.onmessage=M,H=function(){R.postMessage(null)}}else H=function(){_(M,0)};function ue(C){T=C,k||(k=!0,H())}function pe(C,O){A=_(function(){C(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,ue(E))},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(C){switch(h){case 1:case 2:case 3:var O=3;break;default:O=h}var N=h;h=O;try{return C()}finally{h=N}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(C,O){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var N=h;h=C;try{return O()}finally{h=N}},t.unstable_scheduleCallback=function(C,O,N){var $=t.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?$+N:$):N=$,C){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=N+K,C={id:d++,callback:O,priorityLevel:C,startTime:N,expirationTime:K,sortIndex:-1},N>$?(C.sortIndex=N,e(u,C),r(c)===null&&C===r(u)&&(w?(g(A),A=-1):w=!0,pe(x,N-$))):(C.sortIndex=K,e(c,C),v||m||(v=!0,ue(E))),C},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(C){var O=h;return function(){var N=h;h=O;try{return C.apply(this,arguments)}finally{h=N}}}})(kg);Sg.exports=kg;var ex=Sg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tx=b,gt=ex;function P(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Eg=new Set,Ri={};function Wn(t,e){As(t,e),As(t+"Capture",e)}function As(t,e){for(Ri[t]=e,t=0;t<e.length;t++)Eg.add(e[t])}var wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gc=Object.prototype.hasOwnProperty,rx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ch={},uh={};function nx(t){return Gc.call(uh,t)?!0:Gc.call(ch,t)?!1:rx.test(t)?uh[t]=!0:(ch[t]=!0,!1)}function sx(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ix(t,e,r,n){if(e===null||typeof e>"u"||sx(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ye(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Fe[t]=new Ye(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Fe[e]=new Ye(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Fe[t]=new Ye(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Fe[t]=new Ye(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Fe[t]=new Ye(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Fe[t]=new Ye(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Fe[t]=new Ye(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Fe[t]=new Ye(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Fe[t]=new Ye(t,5,!1,t.toLowerCase(),null,!1,!1)});var xd=/[\-:]([a-z])/g;function _d(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(xd,_d);Fe[e]=new Ye(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(xd,_d);Fe[e]=new Ye(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(xd,_d);Fe[e]=new Ye(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Fe[t]=new Ye(t,1,!1,t.toLowerCase(),null,!1,!1)});Fe.xlinkHref=new Ye("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Fe[t]=new Ye(t,1,!1,t.toLowerCase(),null,!0,!0)});function Sd(t,e,r,n){var s=Fe.hasOwnProperty(e)?Fe[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ix(e,r,s,n)&&(r=null),n||s===null?nx(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Tr=tx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Eo=Symbol.for("react.element"),ls=Symbol.for("react.portal"),cs=Symbol.for("react.fragment"),kd=Symbol.for("react.strict_mode"),Kc=Symbol.for("react.profiler"),Tg=Symbol.for("react.provider"),jg=Symbol.for("react.context"),Ed=Symbol.for("react.forward_ref"),Jc=Symbol.for("react.suspense"),Yc=Symbol.for("react.suspense_list"),Td=Symbol.for("react.memo"),Lr=Symbol.for("react.lazy"),Cg=Symbol.for("react.offscreen"),dh=Symbol.iterator;function ei(t){return t===null||typeof t!="object"?null:(t=dh&&t[dh]||t["@@iterator"],typeof t=="function"?t:null)}var we=Object.assign,Yl;function ui(t){if(Yl===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Yl=e&&e[1]||""}return`
`+Yl+t}var Ql=!1;function Xl(t,e){if(!t||Ql)return"";Ql=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{Ql=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?ui(t):""}function ox(t){switch(t.tag){case 5:return ui(t.type);case 16:return ui("Lazy");case 13:return ui("Suspense");case 19:return ui("SuspenseList");case 0:case 2:case 15:return t=Xl(t.type,!1),t;case 11:return t=Xl(t.type.render,!1),t;case 1:return t=Xl(t.type,!0),t;default:return""}}function Qc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case cs:return"Fragment";case ls:return"Portal";case Kc:return"Profiler";case kd:return"StrictMode";case Jc:return"Suspense";case Yc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case jg:return(t.displayName||"Context")+".Consumer";case Tg:return(t._context.displayName||"Context")+".Provider";case Ed:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Td:return e=t.displayName||null,e!==null?e:Qc(t.type)||"Memo";case Lr:e=t._payload,t=t._init;try{return Qc(t(e))}catch{}}return null}function ax(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qc(e);case 8:return e===kd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function cn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ng(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function lx(t){var e=Ng(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function To(t){t._valueTracker||(t._valueTracker=lx(t))}function Ig(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Ng(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function pa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Xc(t,e){var r=e.checked;return we({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function fh(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=cn(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Pg(t,e){e=e.checked,e!=null&&Sd(t,"checked",e,!1)}function Zc(t,e){Pg(t,e);var r=cn(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?eu(t,e.type,r):e.hasOwnProperty("defaultValue")&&eu(t,e.type,cn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function hh(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function eu(t,e,r){(e!=="number"||pa(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var di=Array.isArray;function _s(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+cn(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function tu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(P(91));return we({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ph(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(P(92));if(di(r)){if(1<r.length)throw Error(P(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:cn(r)}}function Ag(t,e){var r=cn(e.value),n=cn(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function mh(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Og(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ru(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Og(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var jo,Rg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(jo=jo||document.createElement("div"),jo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=jo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function $i(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var vi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cx=["Webkit","ms","Moz","O"];Object.keys(vi).forEach(function(t){cx.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),vi[e]=vi[t]})});function $g(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||vi.hasOwnProperty(t)&&vi[t]?(""+e).trim():e+"px"}function Lg(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=$g(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var ux=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nu(t,e){if(e){if(ux[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(P(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(P(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(P(61))}if(e.style!=null&&typeof e.style!="object")throw Error(P(62))}}function su(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iu=null;function jd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ou=null,Ss=null,ks=null;function gh(t){if(t=uo(t)){if(typeof ou!="function")throw Error(P(280));var e=t.stateNode;e&&(e=sl(e),ou(t.stateNode,t.type,e))}}function Dg(t){Ss?ks?ks.push(t):ks=[t]:Ss=t}function Fg(){if(Ss){var t=Ss,e=ks;if(ks=Ss=null,gh(t),e)for(t=0;t<e.length;t++)gh(e[t])}}function Ug(t,e){return t(e)}function Mg(){}var Zl=!1;function zg(t,e,r){if(Zl)return t(e,r);Zl=!0;try{return Ug(t,e,r)}finally{Zl=!1,(Ss!==null||ks!==null)&&(Mg(),Fg())}}function Li(t,e){var r=t.stateNode;if(r===null)return null;var n=sl(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(P(231,e,typeof r));return r}var au=!1;if(wr)try{var ti={};Object.defineProperty(ti,"passive",{get:function(){au=!0}}),window.addEventListener("test",ti,ti),window.removeEventListener("test",ti,ti)}catch{au=!1}function dx(t,e,r,n,s,i,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var wi=!1,ma=null,ga=!1,lu=null,fx={onError:function(t){wi=!0,ma=t}};function hx(t,e,r,n,s,i,o,a,c){wi=!1,ma=null,dx.apply(fx,arguments)}function px(t,e,r,n,s,i,o,a,c){if(hx.apply(this,arguments),wi){if(wi){var u=ma;wi=!1,ma=null}else throw Error(P(198));ga||(ga=!0,lu=u)}}function Gn(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Bg(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function yh(t){if(Gn(t)!==t)throw Error(P(188))}function mx(t){var e=t.alternate;if(!e){if(e=Gn(t),e===null)throw Error(P(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return yh(s),t;if(i===n)return yh(s),e;i=i.sibling}throw Error(P(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(P(189))}}if(r.alternate!==n)throw Error(P(190))}if(r.tag!==3)throw Error(P(188));return r.stateNode.current===r?t:e}function Vg(t){return t=mx(t),t!==null?Hg(t):null}function Hg(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Hg(t);if(e!==null)return e;t=t.sibling}return null}var qg=gt.unstable_scheduleCallback,vh=gt.unstable_cancelCallback,gx=gt.unstable_shouldYield,yx=gt.unstable_requestPaint,Se=gt.unstable_now,vx=gt.unstable_getCurrentPriorityLevel,Cd=gt.unstable_ImmediatePriority,Wg=gt.unstable_UserBlockingPriority,ya=gt.unstable_NormalPriority,wx=gt.unstable_LowPriority,Gg=gt.unstable_IdlePriority,el=null,Kt=null;function bx(t){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(el,t,void 0,(t.current.flags&128)===128)}catch{}}var Dt=Math.clz32?Math.clz32:Sx,xx=Math.log,_x=Math.LN2;function Sx(t){return t>>>=0,t===0?32:31-(xx(t)/_x|0)|0}var Co=64,No=4194304;function fi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function va(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=fi(a):(i&=o,i!==0&&(n=fi(i)))}else o=r&~s,o!==0?n=fi(o):i!==0&&(n=fi(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Dt(e),s=1<<r,n|=t[r],e&=~s;return n}function kx(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ex(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Dt(i),a=1<<o,c=s[o];c===-1?(!(a&r)||a&n)&&(s[o]=kx(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function cu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Kg(){var t=Co;return Co<<=1,!(Co&4194240)&&(Co=64),t}function ec(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function lo(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Dt(e),t[e]=r}function Tx(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Dt(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function Nd(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Dt(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var ne=0;function Jg(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Yg,Id,Qg,Xg,Zg,uu=!1,Io=[],Qr=null,Xr=null,Zr=null,Di=new Map,Fi=new Map,Mr=[],jx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wh(t,e){switch(t){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":Di.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fi.delete(e.pointerId)}}function ri(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=uo(e),e!==null&&Id(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Cx(t,e,r,n,s){switch(e){case"focusin":return Qr=ri(Qr,t,e,r,n,s),!0;case"dragenter":return Xr=ri(Xr,t,e,r,n,s),!0;case"mouseover":return Zr=ri(Zr,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Di.set(i,ri(Di.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Fi.set(i,ri(Fi.get(i)||null,t,e,r,n,s)),!0}return!1}function ey(t){var e=jn(t.target);if(e!==null){var r=Gn(e);if(r!==null){if(e=r.tag,e===13){if(e=Bg(r),e!==null){t.blockedOn=e,Zg(t.priority,function(){Qg(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=du(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);iu=n,r.target.dispatchEvent(n),iu=null}else return e=uo(r),e!==null&&Id(e),t.blockedOn=r,!1;e.shift()}return!0}function bh(t,e,r){Yo(t)&&r.delete(e)}function Nx(){uu=!1,Qr!==null&&Yo(Qr)&&(Qr=null),Xr!==null&&Yo(Xr)&&(Xr=null),Zr!==null&&Yo(Zr)&&(Zr=null),Di.forEach(bh),Fi.forEach(bh)}function ni(t,e){t.blockedOn===e&&(t.blockedOn=null,uu||(uu=!0,gt.unstable_scheduleCallback(gt.unstable_NormalPriority,Nx)))}function Ui(t){function e(s){return ni(s,t)}if(0<Io.length){ni(Io[0],t);for(var r=1;r<Io.length;r++){var n=Io[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Qr!==null&&ni(Qr,t),Xr!==null&&ni(Xr,t),Zr!==null&&ni(Zr,t),Di.forEach(e),Fi.forEach(e),r=0;r<Mr.length;r++)n=Mr[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Mr.length&&(r=Mr[0],r.blockedOn===null);)ey(r),r.blockedOn===null&&Mr.shift()}var Es=Tr.ReactCurrentBatchConfig,wa=!0;function Ix(t,e,r,n){var s=ne,i=Es.transition;Es.transition=null;try{ne=1,Pd(t,e,r,n)}finally{ne=s,Es.transition=i}}function Px(t,e,r,n){var s=ne,i=Es.transition;Es.transition=null;try{ne=4,Pd(t,e,r,n)}finally{ne=s,Es.transition=i}}function Pd(t,e,r,n){if(wa){var s=du(t,e,r,n);if(s===null)uc(t,e,n,ba,r),wh(t,n);else if(Cx(s,t,e,r,n))n.stopPropagation();else if(wh(t,n),e&4&&-1<jx.indexOf(t)){for(;s!==null;){var i=uo(s);if(i!==null&&Yg(i),i=du(t,e,r,n),i===null&&uc(t,e,n,ba,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else uc(t,e,n,null,r)}}var ba=null;function du(t,e,r,n){if(ba=null,t=jd(n),t=jn(t),t!==null)if(e=Gn(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Bg(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ba=t,null}function ty(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vx()){case Cd:return 1;case Wg:return 4;case ya:case wx:return 16;case Gg:return 536870912;default:return 16}default:return 16}}var Gr=null,Ad=null,Qo=null;function ry(){if(Qo)return Qo;var t,e=Ad,r=e.length,n,s="value"in Gr?Gr.value:Gr.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return Qo=s.slice(t,1<n?1-n:void 0)}function Xo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Po(){return!0}function xh(){return!1}function vt(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Po:xh,this.isPropagationStopped=xh,this}return we(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Po)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Po)},persist:function(){},isPersistent:Po}),e}var Hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Od=vt(Hs),co=we({},Hs,{view:0,detail:0}),Ax=vt(co),tc,rc,si,tl=we({},co,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==si&&(si&&t.type==="mousemove"?(tc=t.screenX-si.screenX,rc=t.screenY-si.screenY):rc=tc=0,si=t),tc)},movementY:function(t){return"movementY"in t?t.movementY:rc}}),_h=vt(tl),Ox=we({},tl,{dataTransfer:0}),Rx=vt(Ox),$x=we({},co,{relatedTarget:0}),nc=vt($x),Lx=we({},Hs,{animationName:0,elapsedTime:0,pseudoElement:0}),Dx=vt(Lx),Fx=we({},Hs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ux=vt(Fx),Mx=we({},Hs,{data:0}),Sh=vt(Mx),zx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hx(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Vx[t])?!!e[t]:!1}function Rd(){return Hx}var qx=we({},co,{key:function(t){if(t.key){var e=zx[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Xo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rd,charCode:function(t){return t.type==="keypress"?Xo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Wx=vt(qx),Gx=we({},tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kh=vt(Gx),Kx=we({},co,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rd}),Jx=vt(Kx),Yx=we({},Hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qx=vt(Yx),Xx=we({},tl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Zx=vt(Xx),e_=[9,13,27,32],$d=wr&&"CompositionEvent"in window,bi=null;wr&&"documentMode"in document&&(bi=document.documentMode);var t_=wr&&"TextEvent"in window&&!bi,ny=wr&&(!$d||bi&&8<bi&&11>=bi),Eh=" ",Th=!1;function sy(t,e){switch(t){case"keyup":return e_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iy(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var us=!1;function r_(t,e){switch(t){case"compositionend":return iy(e);case"keypress":return e.which!==32?null:(Th=!0,Eh);case"textInput":return t=e.data,t===Eh&&Th?null:t;default:return null}}function n_(t,e){if(us)return t==="compositionend"||!$d&&sy(t,e)?(t=ry(),Qo=Ad=Gr=null,us=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ny&&e.locale!=="ko"?null:e.data;default:return null}}var s_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!s_[t.type]:e==="textarea"}function oy(t,e,r,n){Dg(n),e=xa(e,"onChange"),0<e.length&&(r=new Od("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var xi=null,Mi=null;function i_(t){yy(t,0)}function rl(t){var e=hs(t);if(Ig(e))return t}function o_(t,e){if(t==="change")return e}var ay=!1;if(wr){var sc;if(wr){var ic="oninput"in document;if(!ic){var Ch=document.createElement("div");Ch.setAttribute("oninput","return;"),ic=typeof Ch.oninput=="function"}sc=ic}else sc=!1;ay=sc&&(!document.documentMode||9<document.documentMode)}function Nh(){xi&&(xi.detachEvent("onpropertychange",ly),Mi=xi=null)}function ly(t){if(t.propertyName==="value"&&rl(Mi)){var e=[];oy(e,Mi,t,jd(t)),zg(i_,e)}}function a_(t,e,r){t==="focusin"?(Nh(),xi=e,Mi=r,xi.attachEvent("onpropertychange",ly)):t==="focusout"&&Nh()}function l_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rl(Mi)}function c_(t,e){if(t==="click")return rl(e)}function u_(t,e){if(t==="input"||t==="change")return rl(e)}function d_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ut=typeof Object.is=="function"?Object.is:d_;function zi(t,e){if(Ut(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Gc.call(e,s)||!Ut(t[s],e[s]))return!1}return!0}function Ih(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ph(t,e){var r=Ih(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ih(r)}}function cy(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?cy(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function uy(){for(var t=window,e=pa();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=pa(t.document)}return e}function Ld(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function f_(t){var e=uy(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&cy(r.ownerDocument.documentElement,r)){if(n!==null&&Ld(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Ph(r,i);var o=Ph(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var h_=wr&&"documentMode"in document&&11>=document.documentMode,ds=null,fu=null,_i=null,hu=!1;function Ah(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;hu||ds==null||ds!==pa(n)||(n=ds,"selectionStart"in n&&Ld(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),_i&&zi(_i,n)||(_i=n,n=xa(fu,"onSelect"),0<n.length&&(e=new Od("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=ds)))}function Ao(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var fs={animationend:Ao("Animation","AnimationEnd"),animationiteration:Ao("Animation","AnimationIteration"),animationstart:Ao("Animation","AnimationStart"),transitionend:Ao("Transition","TransitionEnd")},oc={},dy={};wr&&(dy=document.createElement("div").style,"AnimationEvent"in window||(delete fs.animationend.animation,delete fs.animationiteration.animation,delete fs.animationstart.animation),"TransitionEvent"in window||delete fs.transitionend.transition);function nl(t){if(oc[t])return oc[t];if(!fs[t])return t;var e=fs[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in dy)return oc[t]=e[r];return t}var fy=nl("animationend"),hy=nl("animationiteration"),py=nl("animationstart"),my=nl("transitionend"),gy=new Map,Oh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fn(t,e){gy.set(t,e),Wn(e,[t])}for(var ac=0;ac<Oh.length;ac++){var lc=Oh[ac],p_=lc.toLowerCase(),m_=lc[0].toUpperCase()+lc.slice(1);fn(p_,"on"+m_)}fn(fy,"onAnimationEnd");fn(hy,"onAnimationIteration");fn(py,"onAnimationStart");fn("dblclick","onDoubleClick");fn("focusin","onFocus");fn("focusout","onBlur");fn(my,"onTransitionEnd");As("onMouseEnter",["mouseout","mouseover"]);As("onMouseLeave",["mouseout","mouseover"]);As("onPointerEnter",["pointerout","pointerover"]);As("onPointerLeave",["pointerout","pointerover"]);Wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),g_=new Set("cancel close invalid load scroll toggle".split(" ").concat(hi));function Rh(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,px(n,e,void 0,t),t.currentTarget=null}function yy(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;Rh(s,a,u),i=c}else for(o=0;o<n.length;o++){if(a=n[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;Rh(s,a,u),i=c}}}if(ga)throw t=lu,ga=!1,lu=null,t}function de(t,e){var r=e[vu];r===void 0&&(r=e[vu]=new Set);var n=t+"__bubble";r.has(n)||(vy(e,t,2,!1),r.add(n))}function cc(t,e,r){var n=0;e&&(n|=4),vy(r,t,n,e)}var Oo="_reactListening"+Math.random().toString(36).slice(2);function Bi(t){if(!t[Oo]){t[Oo]=!0,Eg.forEach(function(r){r!=="selectionchange"&&(g_.has(r)||cc(r,!1,t),cc(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Oo]||(e[Oo]=!0,cc("selectionchange",!1,e))}}function vy(t,e,r,n){switch(ty(e)){case 1:var s=Ix;break;case 4:s=Px;break;default:s=Pd}r=s.bind(null,e,r,t),s=void 0,!au||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function uc(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=jn(a),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}a=a.parentNode}}n=n.return}zg(function(){var u=i,d=jd(r),f=[];e:{var h=gy.get(t);if(h!==void 0){var m=Od,v=t;switch(t){case"keypress":if(Xo(r)===0)break e;case"keydown":case"keyup":m=Wx;break;case"focusin":v="focus",m=nc;break;case"focusout":v="blur",m=nc;break;case"beforeblur":case"afterblur":m=nc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=_h;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Rx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Jx;break;case fy:case hy:case py:m=Dx;break;case my:m=Qx;break;case"scroll":m=Ax;break;case"wheel":m=Zx;break;case"copy":case"cut":case"paste":m=Ux;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=kh}var w=(e&4)!==0,_=!w&&t==="scroll",g=w?h!==null?h+"Capture":null:h;w=[];for(var p=u,y;p!==null;){y=p;var x=y.stateNode;if(y.tag===5&&x!==null&&(y=x,g!==null&&(x=Li(p,g),x!=null&&w.push(Vi(p,x,y)))),_)break;p=p.return}0<w.length&&(h=new m(h,v,null,r,d),f.push({event:h,listeners:w}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&r!==iu&&(v=r.relatedTarget||r.fromElement)&&(jn(v)||v[br]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=r.relatedTarget||r.toElement,m=u,v=v?jn(v):null,v!==null&&(_=Gn(v),v!==_||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(w=_h,x="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(w=kh,x="onPointerLeave",g="onPointerEnter",p="pointer"),_=m==null?h:hs(m),y=v==null?h:hs(v),h=new w(x,p+"leave",m,r,d),h.target=_,h.relatedTarget=y,x=null,jn(d)===u&&(w=new w(g,p+"enter",v,r,d),w.target=y,w.relatedTarget=_,x=w),_=x,m&&v)t:{for(w=m,g=v,p=0,y=w;y;y=rs(y))p++;for(y=0,x=g;x;x=rs(x))y++;for(;0<p-y;)w=rs(w),p--;for(;0<y-p;)g=rs(g),y--;for(;p--;){if(w===g||g!==null&&w===g.alternate)break t;w=rs(w),g=rs(g)}w=null}else w=null;m!==null&&$h(f,h,m,w,!1),v!==null&&_!==null&&$h(f,_,v,w,!0)}}e:{if(h=u?hs(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var E=o_;else if(jh(h))if(ay)E=u_;else{E=l_;var k=a_}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=c_);if(E&&(E=E(t,u))){oy(f,E,r,d);break e}k&&k(t,h,u),t==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&eu(h,"number",h.value)}switch(k=u?hs(u):window,t){case"focusin":(jh(k)||k.contentEditable==="true")&&(ds=k,fu=u,_i=null);break;case"focusout":_i=fu=ds=null;break;case"mousedown":hu=!0;break;case"contextmenu":case"mouseup":case"dragend":hu=!1,Ah(f,r,d);break;case"selectionchange":if(h_)break;case"keydown":case"keyup":Ah(f,r,d)}var T;if($d)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else us?sy(t,r)&&(A="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(ny&&r.locale!=="ko"&&(us||A!=="onCompositionStart"?A==="onCompositionEnd"&&us&&(T=ry()):(Gr=d,Ad="value"in Gr?Gr.value:Gr.textContent,us=!0)),k=xa(u,A),0<k.length&&(A=new Sh(A,t,null,r,d),f.push({event:A,listeners:k}),T?A.data=T:(T=iy(r),T!==null&&(A.data=T)))),(T=t_?r_(t,r):n_(t,r))&&(u=xa(u,"onBeforeInput"),0<u.length&&(d=new Sh("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=T))}yy(f,e)})}function Vi(t,e,r){return{instance:t,listener:e,currentTarget:r}}function xa(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Li(t,r),i!=null&&n.unshift(Vi(t,i,s)),i=Li(t,e),i!=null&&n.push(Vi(t,i,s))),t=t.return}return n}function rs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function $h(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var a=r,c=a.alternate,u=a.stateNode;if(c!==null&&c===n)break;a.tag===5&&u!==null&&(a=u,s?(c=Li(r,i),c!=null&&o.unshift(Vi(r,c,a))):s||(c=Li(r,i),c!=null&&o.push(Vi(r,c,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var y_=/\r\n?/g,v_=/\u0000|\uFFFD/g;function Lh(t){return(typeof t=="string"?t:""+t).replace(y_,`
`).replace(v_,"")}function Ro(t,e,r){if(e=Lh(e),Lh(t)!==e&&r)throw Error(P(425))}function _a(){}var pu=null,mu=null;function gu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var yu=typeof setTimeout=="function"?setTimeout:void 0,w_=typeof clearTimeout=="function"?clearTimeout:void 0,Dh=typeof Promise=="function"?Promise:void 0,b_=typeof queueMicrotask=="function"?queueMicrotask:typeof Dh<"u"?function(t){return Dh.resolve(null).then(t).catch(x_)}:yu;function x_(t){setTimeout(function(){throw t})}function dc(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Ui(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Ui(e)}function en(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Fh(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var qs=Math.random().toString(36).slice(2),Wt="__reactFiber$"+qs,Hi="__reactProps$"+qs,br="__reactContainer$"+qs,vu="__reactEvents$"+qs,__="__reactListeners$"+qs,S_="__reactHandles$"+qs;function jn(t){var e=t[Wt];if(e)return e;for(var r=t.parentNode;r;){if(e=r[br]||r[Wt]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Fh(t);t!==null;){if(r=t[Wt])return r;t=Fh(t)}return e}t=r,r=t.parentNode}return null}function uo(t){return t=t[Wt]||t[br],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function hs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(P(33))}function sl(t){return t[Hi]||null}var wu=[],ps=-1;function hn(t){return{current:t}}function he(t){0>ps||(t.current=wu[ps],wu[ps]=null,ps--)}function ce(t,e){ps++,wu[ps]=t.current,t.current=e}var un={},Ve=hn(un),it=hn(!1),$n=un;function Os(t,e){var r=t.type.contextTypes;if(!r)return un;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function ot(t){return t=t.childContextTypes,t!=null}function Sa(){he(it),he(Ve)}function Uh(t,e,r){if(Ve.current!==un)throw Error(P(168));ce(Ve,e),ce(it,r)}function wy(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(P(108,ax(t)||"Unknown",s));return we({},r,n)}function ka(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||un,$n=Ve.current,ce(Ve,t),ce(it,it.current),!0}function Mh(t,e,r){var n=t.stateNode;if(!n)throw Error(P(169));r?(t=wy(t,e,$n),n.__reactInternalMemoizedMergedChildContext=t,he(it),he(Ve),ce(Ve,t)):he(it),ce(it,r)}var lr=null,il=!1,fc=!1;function by(t){lr===null?lr=[t]:lr.push(t)}function k_(t){il=!0,by(t)}function pn(){if(!fc&&lr!==null){fc=!0;var t=0,e=ne;try{var r=lr;for(ne=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}lr=null,il=!1}catch(s){throw lr!==null&&(lr=lr.slice(t+1)),qg(Cd,pn),s}finally{ne=e,fc=!1}}return null}var ms=[],gs=0,Ea=null,Ta=0,St=[],kt=0,Ln=null,dr=1,fr="";function _n(t,e){ms[gs++]=Ta,ms[gs++]=Ea,Ea=t,Ta=e}function xy(t,e,r){St[kt++]=dr,St[kt++]=fr,St[kt++]=Ln,Ln=t;var n=dr;t=fr;var s=32-Dt(n)-1;n&=~(1<<s),r+=1;var i=32-Dt(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,dr=1<<32-Dt(e)+s|r<<s|n,fr=i+t}else dr=1<<i|r<<s|n,fr=t}function Dd(t){t.return!==null&&(_n(t,1),xy(t,1,0))}function Fd(t){for(;t===Ea;)Ea=ms[--gs],ms[gs]=null,Ta=ms[--gs],ms[gs]=null;for(;t===Ln;)Ln=St[--kt],St[kt]=null,fr=St[--kt],St[kt]=null,dr=St[--kt],St[kt]=null}var pt=null,ht=null,ge=!1,Lt=null;function _y(t,e){var r=Tt(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function zh(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,pt=t,ht=en(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,pt=t,ht=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Ln!==null?{id:dr,overflow:fr}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Tt(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,pt=t,ht=null,!0):!1;default:return!1}}function bu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function xu(t){if(ge){var e=ht;if(e){var r=e;if(!zh(t,e)){if(bu(t))throw Error(P(418));e=en(r.nextSibling);var n=pt;e&&zh(t,e)?_y(n,r):(t.flags=t.flags&-4097|2,ge=!1,pt=t)}}else{if(bu(t))throw Error(P(418));t.flags=t.flags&-4097|2,ge=!1,pt=t}}}function Bh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;pt=t}function $o(t){if(t!==pt)return!1;if(!ge)return Bh(t),ge=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!gu(t.type,t.memoizedProps)),e&&(e=ht)){if(bu(t))throw Sy(),Error(P(418));for(;e;)_y(t,e),e=en(e.nextSibling)}if(Bh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){ht=en(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}ht=null}}else ht=pt?en(t.stateNode.nextSibling):null;return!0}function Sy(){for(var t=ht;t;)t=en(t.nextSibling)}function Rs(){ht=pt=null,ge=!1}function Ud(t){Lt===null?Lt=[t]:Lt.push(t)}var E_=Tr.ReactCurrentBatchConfig;function ii(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(P(309));var n=r.stateNode}if(!n)throw Error(P(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(P(284));if(!r._owner)throw Error(P(290,t))}return t}function Lo(t,e){throw t=Object.prototype.toString.call(e),Error(P(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Vh(t){var e=t._init;return e(t._payload)}function ky(t){function e(g,p){if(t){var y=g.deletions;y===null?(g.deletions=[p],g.flags|=16):y.push(p)}}function r(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function n(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=sn(g,p),g.index=0,g.sibling=null,g}function i(g,p,y){return g.index=y,t?(y=g.alternate,y!==null?(y=y.index,y<p?(g.flags|=2,p):y):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,p,y,x){return p===null||p.tag!==6?(p=wc(y,g.mode,x),p.return=g,p):(p=s(p,y),p.return=g,p)}function c(g,p,y,x){var E=y.type;return E===cs?d(g,p,y.props.children,x,y.key):p!==null&&(p.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Lr&&Vh(E)===p.type)?(x=s(p,y.props),x.ref=ii(g,p,y),x.return=g,x):(x=ia(y.type,y.key,y.props,null,g.mode,x),x.ref=ii(g,p,y),x.return=g,x)}function u(g,p,y,x){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=bc(y,g.mode,x),p.return=g,p):(p=s(p,y.children||[]),p.return=g,p)}function d(g,p,y,x,E){return p===null||p.tag!==7?(p=On(y,g.mode,x,E),p.return=g,p):(p=s(p,y),p.return=g,p)}function f(g,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=wc(""+p,g.mode,y),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Eo:return y=ia(p.type,p.key,p.props,null,g.mode,y),y.ref=ii(g,null,p),y.return=g,y;case ls:return p=bc(p,g.mode,y),p.return=g,p;case Lr:var x=p._init;return f(g,x(p._payload),y)}if(di(p)||ei(p))return p=On(p,g.mode,y,null),p.return=g,p;Lo(g,p)}return null}function h(g,p,y,x){var E=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return E!==null?null:a(g,p,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Eo:return y.key===E?c(g,p,y,x):null;case ls:return y.key===E?u(g,p,y,x):null;case Lr:return E=y._init,h(g,p,E(y._payload),x)}if(di(y)||ei(y))return E!==null?null:d(g,p,y,x,null);Lo(g,y)}return null}function m(g,p,y,x,E){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(y)||null,a(p,g,""+x,E);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Eo:return g=g.get(x.key===null?y:x.key)||null,c(p,g,x,E);case ls:return g=g.get(x.key===null?y:x.key)||null,u(p,g,x,E);case Lr:var k=x._init;return m(g,p,y,k(x._payload),E)}if(di(x)||ei(x))return g=g.get(y)||null,d(p,g,x,E,null);Lo(p,x)}return null}function v(g,p,y,x){for(var E=null,k=null,T=p,A=p=0,U=null;T!==null&&A<y.length;A++){T.index>A?(U=T,T=null):U=T.sibling;var S=h(g,T,y[A],x);if(S===null){T===null&&(T=U);break}t&&T&&S.alternate===null&&e(g,T),p=i(S,p,A),k===null?E=S:k.sibling=S,k=S,T=U}if(A===y.length)return r(g,T),ge&&_n(g,A),E;if(T===null){for(;A<y.length;A++)T=f(g,y[A],x),T!==null&&(p=i(T,p,A),k===null?E=T:k.sibling=T,k=T);return ge&&_n(g,A),E}for(T=n(g,T);A<y.length;A++)U=m(T,g,A,y[A],x),U!==null&&(t&&U.alternate!==null&&T.delete(U.key===null?A:U.key),p=i(U,p,A),k===null?E=U:k.sibling=U,k=U);return t&&T.forEach(function(I){return e(g,I)}),ge&&_n(g,A),E}function w(g,p,y,x){var E=ei(y);if(typeof E!="function")throw Error(P(150));if(y=E.call(y),y==null)throw Error(P(151));for(var k=E=null,T=p,A=p=0,U=null,S=y.next();T!==null&&!S.done;A++,S=y.next()){T.index>A?(U=T,T=null):U=T.sibling;var I=h(g,T,S.value,x);if(I===null){T===null&&(T=U);break}t&&T&&I.alternate===null&&e(g,T),p=i(I,p,A),k===null?E=I:k.sibling=I,k=I,T=U}if(S.done)return r(g,T),ge&&_n(g,A),E;if(T===null){for(;!S.done;A++,S=y.next())S=f(g,S.value,x),S!==null&&(p=i(S,p,A),k===null?E=S:k.sibling=S,k=S);return ge&&_n(g,A),E}for(T=n(g,T);!S.done;A++,S=y.next())S=m(T,g,A,S.value,x),S!==null&&(t&&S.alternate!==null&&T.delete(S.key===null?A:S.key),p=i(S,p,A),k===null?E=S:k.sibling=S,k=S);return t&&T.forEach(function(M){return e(g,M)}),ge&&_n(g,A),E}function _(g,p,y,x){if(typeof y=="object"&&y!==null&&y.type===cs&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Eo:e:{for(var E=y.key,k=p;k!==null;){if(k.key===E){if(E=y.type,E===cs){if(k.tag===7){r(g,k.sibling),p=s(k,y.props.children),p.return=g,g=p;break e}}else if(k.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Lr&&Vh(E)===k.type){r(g,k.sibling),p=s(k,y.props),p.ref=ii(g,k,y),p.return=g,g=p;break e}r(g,k);break}else e(g,k);k=k.sibling}y.type===cs?(p=On(y.props.children,g.mode,x,y.key),p.return=g,g=p):(x=ia(y.type,y.key,y.props,null,g.mode,x),x.ref=ii(g,p,y),x.return=g,g=x)}return o(g);case ls:e:{for(k=y.key;p!==null;){if(p.key===k)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){r(g,p.sibling),p=s(p,y.children||[]),p.return=g,g=p;break e}else{r(g,p);break}else e(g,p);p=p.sibling}p=bc(y,g.mode,x),p.return=g,g=p}return o(g);case Lr:return k=y._init,_(g,p,k(y._payload),x)}if(di(y))return v(g,p,y,x);if(ei(y))return w(g,p,y,x);Lo(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(r(g,p.sibling),p=s(p,y),p.return=g,g=p):(r(g,p),p=wc(y,g.mode,x),p.return=g,g=p),o(g)):r(g,p)}return _}var $s=ky(!0),Ey=ky(!1),ja=hn(null),Ca=null,ys=null,Md=null;function zd(){Md=ys=Ca=null}function Bd(t){var e=ja.current;he(ja),t._currentValue=e}function _u(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Ts(t,e){Ca=t,Md=ys=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(st=!0),t.firstContext=null)}function Nt(t){var e=t._currentValue;if(Md!==t)if(t={context:t,memoizedValue:e,next:null},ys===null){if(Ca===null)throw Error(P(308));ys=t,Ca.dependencies={lanes:0,firstContext:t}}else ys=ys.next=t;return e}var Cn=null;function Vd(t){Cn===null?Cn=[t]:Cn.push(t)}function Ty(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Vd(e)):(r.next=s.next,s.next=r),e.interleaved=r,xr(t,n)}function xr(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Dr=!1;function Hd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jy(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function tn(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Z&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,xr(t,r)}return s=n.interleaved,s===null?(e.next=e,Vd(n)):(e.next=s.next,s.next=e),n.interleaved=e,xr(t,r)}function Zo(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Nd(t,r)}}function Hh(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Na(t,e,r,n){var s=t.updateQueue;Dr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,a=i;do{var h=a.lane,m=a.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,w=a;switch(h=e,m=r,w.tag){case 1:if(v=w.payload,typeof v=="function"){f=v.call(m,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,h=typeof v=="function"?v.call(m,f,h):v,h==null)break e;f=we({},f,h);break e;case 2:Dr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Fn|=o,t.lanes=o,t.memoizedState=f}}function qh(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(P(191,s));s.call(n)}}}var fo={},Jt=hn(fo),qi=hn(fo),Wi=hn(fo);function Nn(t){if(t===fo)throw Error(P(174));return t}function qd(t,e){switch(ce(Wi,e),ce(qi,t),ce(Jt,fo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ru(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ru(e,t)}he(Jt),ce(Jt,e)}function Ls(){he(Jt),he(qi),he(Wi)}function Cy(t){Nn(Wi.current);var e=Nn(Jt.current),r=ru(e,t.type);e!==r&&(ce(qi,t),ce(Jt,r))}function Wd(t){qi.current===t&&(he(Jt),he(qi))}var ye=hn(0);function Ia(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var hc=[];function Gd(){for(var t=0;t<hc.length;t++)hc[t]._workInProgressVersionPrimary=null;hc.length=0}var ea=Tr.ReactCurrentDispatcher,pc=Tr.ReactCurrentBatchConfig,Dn=0,ve=null,je=null,Ie=null,Pa=!1,Si=!1,Gi=0,T_=0;function Me(){throw Error(P(321))}function Kd(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ut(t[r],e[r]))return!1;return!0}function Jd(t,e,r,n,s,i){if(Dn=i,ve=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ea.current=t===null||t.memoizedState===null?I_:P_,t=r(n,s),Si){i=0;do{if(Si=!1,Gi=0,25<=i)throw Error(P(301));i+=1,Ie=je=null,e.updateQueue=null,ea.current=A_,t=r(n,s)}while(Si)}if(ea.current=Aa,e=je!==null&&je.next!==null,Dn=0,Ie=je=ve=null,Pa=!1,e)throw Error(P(300));return t}function Yd(){var t=Gi!==0;return Gi=0,t}function Ht(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?ve.memoizedState=Ie=t:Ie=Ie.next=t,Ie}function It(){if(je===null){var t=ve.alternate;t=t!==null?t.memoizedState:null}else t=je.next;var e=Ie===null?ve.memoizedState:Ie.next;if(e!==null)Ie=e,je=t;else{if(t===null)throw Error(P(310));je=t,t={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},Ie===null?ve.memoizedState=Ie=t:Ie=Ie.next=t}return Ie}function Ki(t,e){return typeof e=="function"?e(t):e}function mc(t){var e=It(),r=e.queue;if(r===null)throw Error(P(311));r.lastRenderedReducer=t;var n=je,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,c=null,u=i;do{var d=u.lane;if((Dn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=f,o=n):c=c.next=f,ve.lanes|=d,Fn|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=a,Ut(n,e.memoizedState)||(st=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,ve.lanes|=i,Fn|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function gc(t){var e=It(),r=e.queue;if(r===null)throw Error(P(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Ut(i,e.memoizedState)||(st=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function Ny(){}function Iy(t,e){var r=ve,n=It(),s=e(),i=!Ut(n.memoizedState,s);if(i&&(n.memoizedState=s,st=!0),n=n.queue,Qd(Oy.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||Ie!==null&&Ie.memoizedState.tag&1){if(r.flags|=2048,Ji(9,Ay.bind(null,r,n,s,e),void 0,null),Pe===null)throw Error(P(349));Dn&30||Py(r,e,s)}return s}function Py(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ve.updateQueue,e===null?(e={lastEffect:null,stores:null},ve.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Ay(t,e,r,n){e.value=r,e.getSnapshot=n,Ry(e)&&$y(t)}function Oy(t,e,r){return r(function(){Ry(e)&&$y(t)})}function Ry(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ut(t,r)}catch{return!0}}function $y(t){var e=xr(t,1);e!==null&&Ft(e,t,1,-1)}function Wh(t){var e=Ht();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:t},e.queue=t,t=t.dispatch=N_.bind(null,ve,t),[e.memoizedState,t]}function Ji(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ve.updateQueue,e===null?(e={lastEffect:null,stores:null},ve.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Ly(){return It().memoizedState}function ta(t,e,r,n){var s=Ht();ve.flags|=t,s.memoizedState=Ji(1|e,r,void 0,n===void 0?null:n)}function ol(t,e,r,n){var s=It();n=n===void 0?null:n;var i=void 0;if(je!==null){var o=je.memoizedState;if(i=o.destroy,n!==null&&Kd(n,o.deps)){s.memoizedState=Ji(e,r,i,n);return}}ve.flags|=t,s.memoizedState=Ji(1|e,r,i,n)}function Gh(t,e){return ta(8390656,8,t,e)}function Qd(t,e){return ol(2048,8,t,e)}function Dy(t,e){return ol(4,2,t,e)}function Fy(t,e){return ol(4,4,t,e)}function Uy(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function My(t,e,r){return r=r!=null?r.concat([t]):null,ol(4,4,Uy.bind(null,e,t),r)}function Xd(){}function zy(t,e){var r=It();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Kd(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function By(t,e){var r=It();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Kd(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Vy(t,e,r){return Dn&21?(Ut(r,e)||(r=Kg(),ve.lanes|=r,Fn|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,st=!0),t.memoizedState=r)}function j_(t,e){var r=ne;ne=r!==0&&4>r?r:4,t(!0);var n=pc.transition;pc.transition={};try{t(!1),e()}finally{ne=r,pc.transition=n}}function Hy(){return It().memoizedState}function C_(t,e,r){var n=nn(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},qy(t))Wy(e,r);else if(r=Ty(t,e,r,n),r!==null){var s=Ge();Ft(r,t,n,s),Gy(r,e,n)}}function N_(t,e,r){var n=nn(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(qy(t))Wy(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,Ut(a,o)){var c=e.interleaved;c===null?(s.next=s,Vd(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}r=Ty(t,e,s,n),r!==null&&(s=Ge(),Ft(r,t,n,s),Gy(r,e,n))}}function qy(t){var e=t.alternate;return t===ve||e!==null&&e===ve}function Wy(t,e){Si=Pa=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Gy(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Nd(t,r)}}var Aa={readContext:Nt,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useInsertionEffect:Me,useLayoutEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useMutableSource:Me,useSyncExternalStore:Me,useId:Me,unstable_isNewReconciler:!1},I_={readContext:Nt,useCallback:function(t,e){return Ht().memoizedState=[t,e===void 0?null:e],t},useContext:Nt,useEffect:Gh,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,ta(4194308,4,Uy.bind(null,e,t),r)},useLayoutEffect:function(t,e){return ta(4194308,4,t,e)},useInsertionEffect:function(t,e){return ta(4,2,t,e)},useMemo:function(t,e){var r=Ht();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Ht();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=C_.bind(null,ve,t),[n.memoizedState,t]},useRef:function(t){var e=Ht();return t={current:t},e.memoizedState=t},useState:Wh,useDebugValue:Xd,useDeferredValue:function(t){return Ht().memoizedState=t},useTransition:function(){var t=Wh(!1),e=t[0];return t=j_.bind(null,t[1]),Ht().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ve,s=Ht();if(ge){if(r===void 0)throw Error(P(407));r=r()}else{if(r=e(),Pe===null)throw Error(P(349));Dn&30||Py(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,Gh(Oy.bind(null,n,i,t),[t]),n.flags|=2048,Ji(9,Ay.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=Ht(),e=Pe.identifierPrefix;if(ge){var r=fr,n=dr;r=(n&~(1<<32-Dt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Gi++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=T_++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},P_={readContext:Nt,useCallback:zy,useContext:Nt,useEffect:Qd,useImperativeHandle:My,useInsertionEffect:Dy,useLayoutEffect:Fy,useMemo:By,useReducer:mc,useRef:Ly,useState:function(){return mc(Ki)},useDebugValue:Xd,useDeferredValue:function(t){var e=It();return Vy(e,je.memoizedState,t)},useTransition:function(){var t=mc(Ki)[0],e=It().memoizedState;return[t,e]},useMutableSource:Ny,useSyncExternalStore:Iy,useId:Hy,unstable_isNewReconciler:!1},A_={readContext:Nt,useCallback:zy,useContext:Nt,useEffect:Qd,useImperativeHandle:My,useInsertionEffect:Dy,useLayoutEffect:Fy,useMemo:By,useReducer:gc,useRef:Ly,useState:function(){return gc(Ki)},useDebugValue:Xd,useDeferredValue:function(t){var e=It();return je===null?e.memoizedState=t:Vy(e,je.memoizedState,t)},useTransition:function(){var t=gc(Ki)[0],e=It().memoizedState;return[t,e]},useMutableSource:Ny,useSyncExternalStore:Iy,useId:Hy,unstable_isNewReconciler:!1};function Ot(t,e){if(t&&t.defaultProps){e=we({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Su(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:we({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var al={isMounted:function(t){return(t=t._reactInternals)?Gn(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Ge(),s=nn(t),i=gr(n,s);i.payload=e,r!=null&&(i.callback=r),e=tn(t,i,s),e!==null&&(Ft(e,t,s,n),Zo(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Ge(),s=nn(t),i=gr(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=tn(t,i,s),e!==null&&(Ft(e,t,s,n),Zo(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ge(),n=nn(t),s=gr(r,n);s.tag=2,e!=null&&(s.callback=e),e=tn(t,s,n),e!==null&&(Ft(e,t,n,r),Zo(e,t,n))}};function Kh(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!zi(r,n)||!zi(s,i):!0}function Ky(t,e,r){var n=!1,s=un,i=e.contextType;return typeof i=="object"&&i!==null?i=Nt(i):(s=ot(e)?$n:Ve.current,n=e.contextTypes,i=(n=n!=null)?Os(t,s):un),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=al,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Jh(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&al.enqueueReplaceState(e,e.state,null)}function ku(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Hd(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Nt(i):(i=ot(e)?$n:Ve.current,s.context=Os(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Su(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&al.enqueueReplaceState(s,s.state,null),Na(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ds(t,e){try{var r="",n=e;do r+=ox(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function yc(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Eu(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var O_=typeof WeakMap=="function"?WeakMap:Map;function Jy(t,e,r){r=gr(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Ra||(Ra=!0,$u=n),Eu(t,e)},r}function Yy(t,e,r){r=gr(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Eu(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Eu(t,e),typeof n!="function"&&(rn===null?rn=new Set([this]):rn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Yh(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new O_;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=G_.bind(null,t,e,r),e.then(t,t))}function Qh(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Xh(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=gr(-1,1),e.tag=2,tn(r,e,1))),r.lanes|=1),t)}var R_=Tr.ReactCurrentOwner,st=!1;function We(t,e,r,n){e.child=t===null?Ey(e,null,r,n):$s(e,t.child,r,n)}function Zh(t,e,r,n,s){r=r.render;var i=e.ref;return Ts(e,s),n=Jd(t,e,r,n,i,s),r=Yd(),t!==null&&!st?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,_r(t,e,s)):(ge&&r&&Dd(e),e.flags|=1,We(t,e,n,s),e.child)}function ep(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!af(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,Qy(t,e,i,n,s)):(t=ia(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:zi,r(o,n)&&t.ref===e.ref)return _r(t,e,s)}return e.flags|=1,t=sn(i,n),t.ref=e.ref,t.return=e,e.child=t}function Qy(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(zi(i,n)&&t.ref===e.ref)if(st=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(st=!0);else return e.lanes=t.lanes,_r(t,e,s)}return Tu(t,e,r,n,s)}function Xy(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(ws,dt),dt|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ce(ws,dt),dt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,ce(ws,dt),dt|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,ce(ws,dt),dt|=n;return We(t,e,s,r),e.child}function Zy(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Tu(t,e,r,n,s){var i=ot(r)?$n:Ve.current;return i=Os(e,i),Ts(e,s),r=Jd(t,e,r,n,i,s),n=Yd(),t!==null&&!st?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,_r(t,e,s)):(ge&&n&&Dd(e),e.flags|=1,We(t,e,r,s),e.child)}function tp(t,e,r,n,s){if(ot(r)){var i=!0;ka(e)}else i=!1;if(Ts(e,s),e.stateNode===null)ra(t,e),Ky(e,r,n),ku(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Nt(u):(u=ot(r)?$n:Ve.current,u=Os(e,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||c!==u)&&Jh(e,o,n,u),Dr=!1;var h=e.memoizedState;o.state=h,Na(e,n,o,s),c=e.memoizedState,a!==n||h!==c||it.current||Dr?(typeof d=="function"&&(Su(e,r,d,n),c=e.memoizedState),(a=Dr||Kh(e,r,a,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,jy(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Ot(e.type,a),o.props=u,f=e.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Nt(c):(c=ot(r)?$n:Ve.current,c=Os(e,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==c)&&Jh(e,o,n,c),Dr=!1,h=e.memoizedState,o.state=h,Na(e,n,o,s);var v=e.memoizedState;a!==f||h!==v||it.current||Dr?(typeof m=="function"&&(Su(e,r,m,n),v=e.memoizedState),(u=Dr||Kh(e,r,u,n,h,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),o.props=n,o.state=v,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return ju(t,e,r,n,i,s)}function ju(t,e,r,n,s,i){Zy(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&Mh(e,r,!1),_r(t,e,i);n=e.stateNode,R_.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=$s(e,t.child,null,i),e.child=$s(e,null,a,i)):We(t,e,a,i),e.memoizedState=n.state,s&&Mh(e,r,!0),e.child}function ev(t){var e=t.stateNode;e.pendingContext?Uh(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Uh(t,e.context,!1),qd(t,e.containerInfo)}function rp(t,e,r,n,s){return Rs(),Ud(s),e.flags|=256,We(t,e,r,n),e.child}var Cu={dehydrated:null,treeContext:null,retryLane:0};function Nu(t){return{baseLanes:t,cachePool:null,transitions:null}}function tv(t,e,r){var n=e.pendingProps,s=ye.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ce(ye,s&1),t===null)return xu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ul(o,n,0,null),t=On(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Nu(r),e.memoizedState=Cu,t):Zd(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return $_(t,e,o,n,a,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=sn(s,c),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=sn(a,i):(i=On(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?Nu(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=Cu,n}return i=t.child,t=i.sibling,n=sn(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Zd(t,e){return e=ul({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Do(t,e,r,n){return n!==null&&Ud(n),$s(e,t.child,null,r),t=Zd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function $_(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=yc(Error(P(422))),Do(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=ul({mode:"visible",children:n.children},s,0,null),i=On(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&$s(e,t.child,null,o),e.child.memoizedState=Nu(o),e.memoizedState=Cu,i);if(!(e.mode&1))return Do(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(P(419)),n=yc(i,n,void 0),Do(t,e,o,n)}if(a=(o&t.childLanes)!==0,st||a){if(n=Pe,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,xr(t,s),Ft(n,t,s,-1))}return of(),n=yc(Error(P(421))),Do(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=K_.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,ht=en(s.nextSibling),pt=e,ge=!0,Lt=null,t!==null&&(St[kt++]=dr,St[kt++]=fr,St[kt++]=Ln,dr=t.id,fr=t.overflow,Ln=e),e=Zd(e,n.children),e.flags|=4096,e)}function np(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),_u(t.return,e,r)}function vc(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function rv(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(We(t,e,n.children,r),n=ye.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&np(t,r,e);else if(t.tag===19)np(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ce(ye,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Ia(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),vc(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ia(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}vc(e,!0,r,null,i);break;case"together":vc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ra(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _r(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Fn|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(P(153));if(e.child!==null){for(t=e.child,r=sn(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=sn(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function L_(t,e,r){switch(e.tag){case 3:ev(e),Rs();break;case 5:Cy(e);break;case 1:ot(e.type)&&ka(e);break;case 4:qd(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;ce(ja,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(ce(ye,ye.current&1),e.flags|=128,null):r&e.child.childLanes?tv(t,e,r):(ce(ye,ye.current&1),t=_r(t,e,r),t!==null?t.sibling:null);ce(ye,ye.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return rv(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ce(ye,ye.current),n)break;return null;case 22:case 23:return e.lanes=0,Xy(t,e,r)}return _r(t,e,r)}var nv,Iu,sv,iv;nv=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Iu=function(){};sv=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Nn(Jt.current);var i=null;switch(r){case"input":s=Xc(t,s),n=Xc(t,n),i=[];break;case"select":s=we({},s,{value:void 0}),n=we({},n,{value:void 0}),i=[];break;case"textarea":s=tu(t,s),n=tu(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=_a)}nu(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ri.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ri.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&de("scroll",t),i||a===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};iv=function(t,e,r,n){r!==n&&(e.flags|=4)};function oi(t,e){if(!ge)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ze(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function D_(t,e,r){var n=e.pendingProps;switch(Fd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(e),null;case 1:return ot(e.type)&&Sa(),ze(e),null;case 3:return n=e.stateNode,Ls(),he(it),he(Ve),Gd(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&($o(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Lt!==null&&(Fu(Lt),Lt=null))),Iu(t,e),ze(e),null;case 5:Wd(e);var s=Nn(Wi.current);if(r=e.type,t!==null&&e.stateNode!=null)sv(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(P(166));return ze(e),null}if(t=Nn(Jt.current),$o(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[Wt]=e,n[Hi]=i,t=(e.mode&1)!==0,r){case"dialog":de("cancel",n),de("close",n);break;case"iframe":case"object":case"embed":de("load",n);break;case"video":case"audio":for(s=0;s<hi.length;s++)de(hi[s],n);break;case"source":de("error",n);break;case"img":case"image":case"link":de("error",n),de("load",n);break;case"details":de("toggle",n);break;case"input":fh(n,i),de("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},de("invalid",n);break;case"textarea":ph(n,i),de("invalid",n)}nu(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ro(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ro(n.textContent,a,t),s=["children",""+a]):Ri.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&de("scroll",n)}switch(r){case"input":To(n),hh(n,i,!0);break;case"textarea":To(n),mh(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=_a)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Og(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Wt]=e,t[Hi]=n,nv(t,e,!1,!1),e.stateNode=t;e:{switch(o=su(r,n),r){case"dialog":de("cancel",t),de("close",t),s=n;break;case"iframe":case"object":case"embed":de("load",t),s=n;break;case"video":case"audio":for(s=0;s<hi.length;s++)de(hi[s],t);s=n;break;case"source":de("error",t),s=n;break;case"img":case"image":case"link":de("error",t),de("load",t),s=n;break;case"details":de("toggle",t),s=n;break;case"input":fh(t,n),s=Xc(t,n),de("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=we({},n,{value:void 0}),de("invalid",t);break;case"textarea":ph(t,n),s=tu(t,n),de("invalid",t);break;default:s=n}nu(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?Lg(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Rg(t,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&$i(t,c):typeof c=="number"&&$i(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ri.hasOwnProperty(i)?c!=null&&i==="onScroll"&&de("scroll",t):c!=null&&Sd(t,i,c,o))}switch(r){case"input":To(t),hh(t,n,!1);break;case"textarea":To(t),mh(t);break;case"option":n.value!=null&&t.setAttribute("value",""+cn(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?_s(t,!!n.multiple,i,!1):n.defaultValue!=null&&_s(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=_a)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ze(e),null;case 6:if(t&&e.stateNode!=null)iv(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(P(166));if(r=Nn(Wi.current),Nn(Jt.current),$o(e)){if(n=e.stateNode,r=e.memoizedProps,n[Wt]=e,(i=n.nodeValue!==r)&&(t=pt,t!==null))switch(t.tag){case 3:Ro(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ro(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Wt]=e,e.stateNode=n}return ze(e),null;case 13:if(he(ye),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ge&&ht!==null&&e.mode&1&&!(e.flags&128))Sy(),Rs(),e.flags|=98560,i=!1;else if(i=$o(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(P(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(P(317));i[Wt]=e}else Rs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ze(e),i=!1}else Lt!==null&&(Fu(Lt),Lt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||ye.current&1?Ce===0&&(Ce=3):of())),e.updateQueue!==null&&(e.flags|=4),ze(e),null);case 4:return Ls(),Iu(t,e),t===null&&Bi(e.stateNode.containerInfo),ze(e),null;case 10:return Bd(e.type._context),ze(e),null;case 17:return ot(e.type)&&Sa(),ze(e),null;case 19:if(he(ye),i=e.memoizedState,i===null)return ze(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)oi(i,!1);else{if(Ce!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ia(t),o!==null){for(e.flags|=128,oi(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ce(ye,ye.current&1|2),e.child}t=t.sibling}i.tail!==null&&Se()>Fs&&(e.flags|=128,n=!0,oi(i,!1),e.lanes=4194304)}else{if(!n)if(t=Ia(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),oi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ge)return ze(e),null}else 2*Se()-i.renderingStartTime>Fs&&r!==1073741824&&(e.flags|=128,n=!0,oi(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Se(),e.sibling=null,r=ye.current,ce(ye,n?r&1|2:r&1),e):(ze(e),null);case 22:case 23:return sf(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?dt&1073741824&&(ze(e),e.subtreeFlags&6&&(e.flags|=8192)):ze(e),null;case 24:return null;case 25:return null}throw Error(P(156,e.tag))}function F_(t,e){switch(Fd(e),e.tag){case 1:return ot(e.type)&&Sa(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ls(),he(it),he(Ve),Gd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Wd(e),null;case 13:if(he(ye),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(P(340));Rs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return he(ye),null;case 4:return Ls(),null;case 10:return Bd(e.type._context),null;case 22:case 23:return sf(),null;case 24:return null;default:return null}}var Fo=!1,Be=!1,U_=typeof WeakSet=="function"?WeakSet:Set,D=null;function vs(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){xe(t,e,n)}else r.current=null}function Pu(t,e,r){try{r()}catch(n){xe(t,e,n)}}var sp=!1;function M_(t,e){if(pu=wa,t=uy(),Ld(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,c=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var m;f!==r||s!==0&&f.nodeType!==3||(a=o+s),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===r&&++u===s&&(a=o),h===i&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=a===-1||c===-1?null:{start:a,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(mu={focusedElem:t,selectionRange:r},wa=!1,D=e;D!==null;)if(e=D,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,D=t;else for(;D!==null;){e=D;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,_=v.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?w:Ot(e.type,w),_);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(x){xe(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,D=t;break}D=e.return}return v=sp,sp=!1,v}function ki(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Pu(e,r,i)}s=s.next}while(s!==n)}}function ll(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Au(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function ov(t){var e=t.alternate;e!==null&&(t.alternate=null,ov(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Wt],delete e[Hi],delete e[vu],delete e[__],delete e[S_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function av(t){return t.tag===5||t.tag===3||t.tag===4}function ip(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||av(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ou(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=_a));else if(n!==4&&(t=t.child,t!==null))for(Ou(t,e,r),t=t.sibling;t!==null;)Ou(t,e,r),t=t.sibling}function Ru(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Ru(t,e,r),t=t.sibling;t!==null;)Ru(t,e,r),t=t.sibling}var $e=null,Rt=!1;function Pr(t,e,r){for(r=r.child;r!==null;)lv(t,e,r),r=r.sibling}function lv(t,e,r){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(el,r)}catch{}switch(r.tag){case 5:Be||vs(r,e);case 6:var n=$e,s=Rt;$e=null,Pr(t,e,r),$e=n,Rt=s,$e!==null&&(Rt?(t=$e,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):$e.removeChild(r.stateNode));break;case 18:$e!==null&&(Rt?(t=$e,r=r.stateNode,t.nodeType===8?dc(t.parentNode,r):t.nodeType===1&&dc(t,r),Ui(t)):dc($e,r.stateNode));break;case 4:n=$e,s=Rt,$e=r.stateNode.containerInfo,Rt=!0,Pr(t,e,r),$e=n,Rt=s;break;case 0:case 11:case 14:case 15:if(!Be&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Pu(r,e,o),s=s.next}while(s!==n)}Pr(t,e,r);break;case 1:if(!Be&&(vs(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){xe(r,e,a)}Pr(t,e,r);break;case 21:Pr(t,e,r);break;case 22:r.mode&1?(Be=(n=Be)||r.memoizedState!==null,Pr(t,e,r),Be=n):Pr(t,e,r);break;default:Pr(t,e,r)}}function op(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new U_),e.forEach(function(n){var s=J_.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Pt(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:$e=a.stateNode,Rt=!1;break e;case 3:$e=a.stateNode.containerInfo,Rt=!0;break e;case 4:$e=a.stateNode.containerInfo,Rt=!0;break e}a=a.return}if($e===null)throw Error(P(160));lv(i,o,s),$e=null,Rt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){xe(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)cv(e,t),e=e.sibling}function cv(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Pt(e,t),Bt(t),n&4){try{ki(3,t,t.return),ll(3,t)}catch(w){xe(t,t.return,w)}try{ki(5,t,t.return)}catch(w){xe(t,t.return,w)}}break;case 1:Pt(e,t),Bt(t),n&512&&r!==null&&vs(r,r.return);break;case 5:if(Pt(e,t),Bt(t),n&512&&r!==null&&vs(r,r.return),t.flags&32){var s=t.stateNode;try{$i(s,"")}catch(w){xe(t,t.return,w)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Pg(s,i),su(a,o);var u=su(a,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?Lg(s,f):d==="dangerouslySetInnerHTML"?Rg(s,f):d==="children"?$i(s,f):Sd(s,d,f,u)}switch(a){case"input":Zc(s,i);break;case"textarea":Ag(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?_s(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?_s(s,!!i.multiple,i.defaultValue,!0):_s(s,!!i.multiple,i.multiple?[]:"",!1))}s[Hi]=i}catch(w){xe(t,t.return,w)}}break;case 6:if(Pt(e,t),Bt(t),n&4){if(t.stateNode===null)throw Error(P(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){xe(t,t.return,w)}}break;case 3:if(Pt(e,t),Bt(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ui(e.containerInfo)}catch(w){xe(t,t.return,w)}break;case 4:Pt(e,t),Bt(t);break;case 13:Pt(e,t),Bt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(rf=Se())),n&4&&op(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Be=(u=Be)||d,Pt(e,t),Be=u):Pt(e,t),Bt(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(D=t,d=t.child;d!==null;){for(f=D=d;D!==null;){switch(h=D,m=h.child,h.tag){case 0:case 11:case 14:case 15:ki(4,h,h.return);break;case 1:vs(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(w){xe(n,r,w)}}break;case 5:vs(h,h.return);break;case 22:if(h.memoizedState!==null){lp(f);continue}}m!==null?(m.return=h,D=m):lp(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=$g("display",o))}catch(w){xe(t,t.return,w)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){xe(t,t.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Pt(e,t),Bt(t),n&4&&op(t);break;case 21:break;default:Pt(e,t),Bt(t)}}function Bt(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(av(r)){var n=r;break e}r=r.return}throw Error(P(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&($i(s,""),n.flags&=-33);var i=ip(t);Ru(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=ip(t);Ou(t,a,o);break;default:throw Error(P(161))}}catch(c){xe(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function z_(t,e,r){D=t,uv(t)}function uv(t,e,r){for(var n=(t.mode&1)!==0;D!==null;){var s=D,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Fo;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Be;a=Fo;var u=Be;if(Fo=o,(Be=c)&&!u)for(D=s;D!==null;)o=D,c=o.child,o.tag===22&&o.memoizedState!==null?cp(s):c!==null?(c.return=o,D=c):cp(s);for(;i!==null;)D=i,uv(i),i=i.sibling;D=s,Fo=a,Be=u}ap(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,D=i):ap(t)}}function ap(t){for(;D!==null;){var e=D;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Be||ll(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Be)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Ot(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&qh(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}qh(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ui(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}Be||e.flags&512&&Au(e)}catch(h){xe(e,e.return,h)}}if(e===t){D=null;break}if(r=e.sibling,r!==null){r.return=e.return,D=r;break}D=e.return}}function lp(t){for(;D!==null;){var e=D;if(e===t){D=null;break}var r=e.sibling;if(r!==null){r.return=e.return,D=r;break}D=e.return}}function cp(t){for(;D!==null;){var e=D;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{ll(4,e)}catch(c){xe(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){xe(e,s,c)}}var i=e.return;try{Au(e)}catch(c){xe(e,i,c)}break;case 5:var o=e.return;try{Au(e)}catch(c){xe(e,o,c)}}}catch(c){xe(e,e.return,c)}if(e===t){D=null;break}var a=e.sibling;if(a!==null){a.return=e.return,D=a;break}D=e.return}}var B_=Math.ceil,Oa=Tr.ReactCurrentDispatcher,ef=Tr.ReactCurrentOwner,jt=Tr.ReactCurrentBatchConfig,Z=0,Pe=null,Te=null,De=0,dt=0,ws=hn(0),Ce=0,Yi=null,Fn=0,cl=0,tf=0,Ei=null,tt=null,rf=0,Fs=1/0,or=null,Ra=!1,$u=null,rn=null,Uo=!1,Kr=null,$a=0,Ti=0,Lu=null,na=-1,sa=0;function Ge(){return Z&6?Se():na!==-1?na:na=Se()}function nn(t){return t.mode&1?Z&2&&De!==0?De&-De:E_.transition!==null?(sa===0&&(sa=Kg()),sa):(t=ne,t!==0||(t=window.event,t=t===void 0?16:ty(t.type)),t):1}function Ft(t,e,r,n){if(50<Ti)throw Ti=0,Lu=null,Error(P(185));lo(t,r,n),(!(Z&2)||t!==Pe)&&(t===Pe&&(!(Z&2)&&(cl|=r),Ce===4&&zr(t,De)),at(t,n),r===1&&Z===0&&!(e.mode&1)&&(Fs=Se()+500,il&&pn()))}function at(t,e){var r=t.callbackNode;Ex(t,e);var n=va(t,t===Pe?De:0);if(n===0)r!==null&&vh(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&vh(r),e===1)t.tag===0?k_(up.bind(null,t)):by(up.bind(null,t)),b_(function(){!(Z&6)&&pn()}),r=null;else{switch(Jg(n)){case 1:r=Cd;break;case 4:r=Wg;break;case 16:r=ya;break;case 536870912:r=Gg;break;default:r=ya}r=vv(r,dv.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function dv(t,e){if(na=-1,sa=0,Z&6)throw Error(P(327));var r=t.callbackNode;if(js()&&t.callbackNode!==r)return null;var n=va(t,t===Pe?De:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=La(t,n);else{e=n;var s=Z;Z|=2;var i=hv();(Pe!==t||De!==e)&&(or=null,Fs=Se()+500,An(t,e));do try{q_();break}catch(a){fv(t,a)}while(!0);zd(),Oa.current=i,Z=s,Te!==null?e=0:(Pe=null,De=0,e=Ce)}if(e!==0){if(e===2&&(s=cu(t),s!==0&&(n=s,e=Du(t,s))),e===1)throw r=Yi,An(t,0),zr(t,n),at(t,Se()),r;if(e===6)zr(t,n);else{if(s=t.current.alternate,!(n&30)&&!V_(s)&&(e=La(t,n),e===2&&(i=cu(t),i!==0&&(n=i,e=Du(t,i))),e===1))throw r=Yi,An(t,0),zr(t,n),at(t,Se()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(P(345));case 2:Sn(t,tt,or);break;case 3:if(zr(t,n),(n&130023424)===n&&(e=rf+500-Se(),10<e)){if(va(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Ge(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=yu(Sn.bind(null,t,tt,or),e);break}Sn(t,tt,or);break;case 4:if(zr(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-Dt(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=Se()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*B_(n/1960))-n,10<n){t.timeoutHandle=yu(Sn.bind(null,t,tt,or),n);break}Sn(t,tt,or);break;case 5:Sn(t,tt,or);break;default:throw Error(P(329))}}}return at(t,Se()),t.callbackNode===r?dv.bind(null,t):null}function Du(t,e){var r=Ei;return t.current.memoizedState.isDehydrated&&(An(t,e).flags|=256),t=La(t,e),t!==2&&(e=tt,tt=r,e!==null&&Fu(e)),t}function Fu(t){tt===null?tt=t:tt.push.apply(tt,t)}function V_(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Ut(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function zr(t,e){for(e&=~tf,e&=~cl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Dt(e),n=1<<r;t[r]=-1,e&=~n}}function up(t){if(Z&6)throw Error(P(327));js();var e=va(t,0);if(!(e&1))return at(t,Se()),null;var r=La(t,e);if(t.tag!==0&&r===2){var n=cu(t);n!==0&&(e=n,r=Du(t,n))}if(r===1)throw r=Yi,An(t,0),zr(t,e),at(t,Se()),r;if(r===6)throw Error(P(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Sn(t,tt,or),at(t,Se()),null}function nf(t,e){var r=Z;Z|=1;try{return t(e)}finally{Z=r,Z===0&&(Fs=Se()+500,il&&pn())}}function Un(t){Kr!==null&&Kr.tag===0&&!(Z&6)&&js();var e=Z;Z|=1;var r=jt.transition,n=ne;try{if(jt.transition=null,ne=1,t)return t()}finally{ne=n,jt.transition=r,Z=e,!(Z&6)&&pn()}}function sf(){dt=ws.current,he(ws)}function An(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,w_(r)),Te!==null)for(r=Te.return;r!==null;){var n=r;switch(Fd(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Sa();break;case 3:Ls(),he(it),he(Ve),Gd();break;case 5:Wd(n);break;case 4:Ls();break;case 13:he(ye);break;case 19:he(ye);break;case 10:Bd(n.type._context);break;case 22:case 23:sf()}r=r.return}if(Pe=t,Te=t=sn(t.current,null),De=dt=e,Ce=0,Yi=null,tf=cl=Fn=0,tt=Ei=null,Cn!==null){for(e=0;e<Cn.length;e++)if(r=Cn[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Cn=null}return t}function fv(t,e){do{var r=Te;try{if(zd(),ea.current=Aa,Pa){for(var n=ve.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Pa=!1}if(Dn=0,Ie=je=ve=null,Si=!1,Gi=0,ef.current=null,r===null||r.return===null){Ce=1,Yi=e,Te=null;break}e:{var i=t,o=r.return,a=r,c=e;if(e=De,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Qh(o);if(m!==null){m.flags&=-257,Xh(m,o,a,i,e),m.mode&1&&Yh(i,u,e),e=m,c=u;var v=e.updateQueue;if(v===null){var w=new Set;w.add(c),e.updateQueue=w}else v.add(c);break e}else{if(!(e&1)){Yh(i,u,e),of();break e}c=Error(P(426))}}else if(ge&&a.mode&1){var _=Qh(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Xh(_,o,a,i,e),Ud(Ds(c,a));break e}}i=c=Ds(c,a),Ce!==4&&(Ce=2),Ei===null?Ei=[i]:Ei.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=Jy(i,c,e);Hh(i,g);break e;case 1:a=c;var p=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(rn===null||!rn.has(y)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=Yy(i,a,e);Hh(i,x);break e}}i=i.return}while(i!==null)}mv(r)}catch(E){e=E,Te===r&&r!==null&&(Te=r=r.return);continue}break}while(!0)}function hv(){var t=Oa.current;return Oa.current=Aa,t===null?Aa:t}function of(){(Ce===0||Ce===3||Ce===2)&&(Ce=4),Pe===null||!(Fn&268435455)&&!(cl&268435455)||zr(Pe,De)}function La(t,e){var r=Z;Z|=2;var n=hv();(Pe!==t||De!==e)&&(or=null,An(t,e));do try{H_();break}catch(s){fv(t,s)}while(!0);if(zd(),Z=r,Oa.current=n,Te!==null)throw Error(P(261));return Pe=null,De=0,Ce}function H_(){for(;Te!==null;)pv(Te)}function q_(){for(;Te!==null&&!gx();)pv(Te)}function pv(t){var e=yv(t.alternate,t,dt);t.memoizedProps=t.pendingProps,e===null?mv(t):Te=e,ef.current=null}function mv(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=F_(r,e),r!==null){r.flags&=32767,Te=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ce=6,Te=null;return}}else if(r=D_(r,e,dt),r!==null){Te=r;return}if(e=e.sibling,e!==null){Te=e;return}Te=e=t}while(e!==null);Ce===0&&(Ce=5)}function Sn(t,e,r){var n=ne,s=jt.transition;try{jt.transition=null,ne=1,W_(t,e,r,n)}finally{jt.transition=s,ne=n}return null}function W_(t,e,r,n){do js();while(Kr!==null);if(Z&6)throw Error(P(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(P(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(Tx(t,i),t===Pe&&(Te=Pe=null,De=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Uo||(Uo=!0,vv(ya,function(){return js(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=jt.transition,jt.transition=null;var o=ne;ne=1;var a=Z;Z|=4,ef.current=null,M_(t,r),cv(r,t),f_(mu),wa=!!pu,mu=pu=null,t.current=r,z_(r),yx(),Z=a,ne=o,jt.transition=i}else t.current=r;if(Uo&&(Uo=!1,Kr=t,$a=s),i=t.pendingLanes,i===0&&(rn=null),bx(r.stateNode),at(t,Se()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Ra)throw Ra=!1,t=$u,$u=null,t;return $a&1&&t.tag!==0&&js(),i=t.pendingLanes,i&1?t===Lu?Ti++:(Ti=0,Lu=t):Ti=0,pn(),null}function js(){if(Kr!==null){var t=Jg($a),e=jt.transition,r=ne;try{if(jt.transition=null,ne=16>t?16:t,Kr===null)var n=!1;else{if(t=Kr,Kr=null,$a=0,Z&6)throw Error(P(331));var s=Z;for(Z|=4,D=t.current;D!==null;){var i=D,o=i.child;if(D.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(D=u;D!==null;){var d=D;switch(d.tag){case 0:case 11:case 15:ki(8,d,i)}var f=d.child;if(f!==null)f.return=d,D=f;else for(;D!==null;){d=D;var h=d.sibling,m=d.return;if(ov(d),d===u){D=null;break}if(h!==null){h.return=m,D=h;break}D=m}}}var v=i.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var _=w.sibling;w.sibling=null,w=_}while(w!==null)}}D=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,D=o;else e:for(;D!==null;){if(i=D,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ki(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,D=g;break e}D=i.return}}var p=t.current;for(D=p;D!==null;){o=D;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,D=y;else e:for(o=p;D!==null;){if(a=D,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ll(9,a)}}catch(E){xe(a,a.return,E)}if(a===o){D=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,D=x;break e}D=a.return}}if(Z=s,pn(),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(el,t)}catch{}n=!0}return n}finally{ne=r,jt.transition=e}}return!1}function dp(t,e,r){e=Ds(r,e),e=Jy(t,e,1),t=tn(t,e,1),e=Ge(),t!==null&&(lo(t,1,e),at(t,e))}function xe(t,e,r){if(t.tag===3)dp(t,t,r);else for(;e!==null;){if(e.tag===3){dp(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(rn===null||!rn.has(n))){t=Ds(r,t),t=Yy(e,t,1),e=tn(e,t,1),t=Ge(),e!==null&&(lo(e,1,t),at(e,t));break}}e=e.return}}function G_(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Ge(),t.pingedLanes|=t.suspendedLanes&r,Pe===t&&(De&r)===r&&(Ce===4||Ce===3&&(De&130023424)===De&&500>Se()-rf?An(t,0):tf|=r),at(t,e)}function gv(t,e){e===0&&(t.mode&1?(e=No,No<<=1,!(No&130023424)&&(No=4194304)):e=1);var r=Ge();t=xr(t,e),t!==null&&(lo(t,e,r),at(t,r))}function K_(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),gv(t,r)}function J_(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(P(314))}n!==null&&n.delete(e),gv(t,r)}var yv;yv=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||it.current)st=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return st=!1,L_(t,e,r);st=!!(t.flags&131072)}else st=!1,ge&&e.flags&1048576&&xy(e,Ta,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;ra(t,e),t=e.pendingProps;var s=Os(e,Ve.current);Ts(e,r),s=Jd(null,e,n,t,s,r);var i=Yd();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ot(n)?(i=!0,ka(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Hd(e),s.updater=al,e.stateNode=s,s._reactInternals=e,ku(e,n,t,r),e=ju(null,e,n,!0,i,r)):(e.tag=0,ge&&i&&Dd(e),We(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(ra(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=Q_(n),t=Ot(n,t),s){case 0:e=Tu(null,e,n,t,r);break e;case 1:e=tp(null,e,n,t,r);break e;case 11:e=Zh(null,e,n,t,r);break e;case 14:e=ep(null,e,n,Ot(n.type,t),r);break e}throw Error(P(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ot(n,s),Tu(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ot(n,s),tp(t,e,n,s,r);case 3:e:{if(ev(e),t===null)throw Error(P(387));n=e.pendingProps,i=e.memoizedState,s=i.element,jy(t,e),Na(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ds(Error(P(423)),e),e=rp(t,e,n,r,s);break e}else if(n!==s){s=Ds(Error(P(424)),e),e=rp(t,e,n,r,s);break e}else for(ht=en(e.stateNode.containerInfo.firstChild),pt=e,ge=!0,Lt=null,r=Ey(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Rs(),n===s){e=_r(t,e,r);break e}We(t,e,n,r)}e=e.child}return e;case 5:return Cy(e),t===null&&xu(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,gu(n,s)?o=null:i!==null&&gu(n,i)&&(e.flags|=32),Zy(t,e),We(t,e,o,r),e.child;case 6:return t===null&&xu(e),null;case 13:return tv(t,e,r);case 4:return qd(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=$s(e,null,n,r):We(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ot(n,s),Zh(t,e,n,s,r);case 7:return We(t,e,e.pendingProps,r),e.child;case 8:return We(t,e,e.pendingProps.children,r),e.child;case 12:return We(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ce(ja,n._currentValue),n._currentValue=o,i!==null)if(Ut(i.value,o)){if(i.children===s.children&&!it.current){e=_r(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=gr(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),_u(i.return,r,e),a.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(P(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),_u(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}We(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Ts(e,r),s=Nt(s),n=n(s),e.flags|=1,We(t,e,n,r),e.child;case 14:return n=e.type,s=Ot(n,e.pendingProps),s=Ot(n.type,s),ep(t,e,n,s,r);case 15:return Qy(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ot(n,s),ra(t,e),e.tag=1,ot(n)?(t=!0,ka(e)):t=!1,Ts(e,r),Ky(e,n,s),ku(e,n,s,r),ju(null,e,n,!0,t,r);case 19:return rv(t,e,r);case 22:return Xy(t,e,r)}throw Error(P(156,e.tag))};function vv(t,e){return qg(t,e)}function Y_(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(t,e,r,n){return new Y_(t,e,r,n)}function af(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Q_(t){if(typeof t=="function")return af(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ed)return 11;if(t===Td)return 14}return 2}function sn(t,e){var r=t.alternate;return r===null?(r=Tt(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function ia(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")af(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case cs:return On(r.children,s,i,e);case kd:o=8,s|=8;break;case Kc:return t=Tt(12,r,e,s|2),t.elementType=Kc,t.lanes=i,t;case Jc:return t=Tt(13,r,e,s),t.elementType=Jc,t.lanes=i,t;case Yc:return t=Tt(19,r,e,s),t.elementType=Yc,t.lanes=i,t;case Cg:return ul(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Tg:o=10;break e;case jg:o=9;break e;case Ed:o=11;break e;case Td:o=14;break e;case Lr:o=16,n=null;break e}throw Error(P(130,t==null?t:typeof t,""))}return e=Tt(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function On(t,e,r,n){return t=Tt(7,t,n,e),t.lanes=r,t}function ul(t,e,r,n){return t=Tt(22,t,n,e),t.elementType=Cg,t.lanes=r,t.stateNode={isHidden:!1},t}function wc(t,e,r){return t=Tt(6,t,null,e),t.lanes=r,t}function bc(t,e,r){return e=Tt(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function X_(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ec(0),this.expirationTimes=ec(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ec(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function lf(t,e,r,n,s,i,o,a,c){return t=new X_(t,e,r,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Tt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hd(i),t}function Z_(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ls,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function wv(t){if(!t)return un;t=t._reactInternals;e:{if(Gn(t)!==t||t.tag!==1)throw Error(P(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ot(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(P(171))}if(t.tag===1){var r=t.type;if(ot(r))return wy(t,r,e)}return e}function bv(t,e,r,n,s,i,o,a,c){return t=lf(r,n,!0,t,s,i,o,a,c),t.context=wv(null),r=t.current,n=Ge(),s=nn(r),i=gr(n,s),i.callback=e??null,tn(r,i,s),t.current.lanes=s,lo(t,s,n),at(t,n),t}function dl(t,e,r,n){var s=e.current,i=Ge(),o=nn(s);return r=wv(r),e.context===null?e.context=r:e.pendingContext=r,e=gr(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=tn(s,e,o),t!==null&&(Ft(t,s,o,i),Zo(t,s,o)),o}function Da(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function fp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function cf(t,e){fp(t,e),(t=t.alternate)&&fp(t,e)}function eS(){return null}var xv=typeof reportError=="function"?reportError:function(t){console.error(t)};function uf(t){this._internalRoot=t}fl.prototype.render=uf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(P(409));dl(t,e,null,null)};fl.prototype.unmount=uf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Un(function(){dl(null,t,null,null)}),e[br]=null}};function fl(t){this._internalRoot=t}fl.prototype.unstable_scheduleHydration=function(t){if(t){var e=Xg();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Mr.length&&e!==0&&e<Mr[r].priority;r++);Mr.splice(r,0,t),r===0&&ey(t)}};function df(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function hl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function hp(){}function tS(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Da(o);i.call(u)}}var o=bv(e,n,t,0,null,!1,!1,"",hp);return t._reactRootContainer=o,t[br]=o.current,Bi(t.nodeType===8?t.parentNode:t),Un(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=Da(c);a.call(u)}}var c=lf(t,0,!1,null,null,!1,!1,"",hp);return t._reactRootContainer=c,t[br]=c.current,Bi(t.nodeType===8?t.parentNode:t),Un(function(){dl(e,c,r,n)}),c}function pl(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=Da(o);a.call(c)}}dl(e,o,t,s)}else o=tS(r,e,t,s,n);return Da(o)}Yg=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=fi(e.pendingLanes);r!==0&&(Nd(e,r|1),at(e,Se()),!(Z&6)&&(Fs=Se()+500,pn()))}break;case 13:Un(function(){var n=xr(t,1);if(n!==null){var s=Ge();Ft(n,t,1,s)}}),cf(t,1)}};Id=function(t){if(t.tag===13){var e=xr(t,134217728);if(e!==null){var r=Ge();Ft(e,t,134217728,r)}cf(t,134217728)}};Qg=function(t){if(t.tag===13){var e=nn(t),r=xr(t,e);if(r!==null){var n=Ge();Ft(r,t,e,n)}cf(t,e)}};Xg=function(){return ne};Zg=function(t,e){var r=ne;try{return ne=t,e()}finally{ne=r}};ou=function(t,e,r){switch(e){case"input":if(Zc(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=sl(n);if(!s)throw Error(P(90));Ig(n),Zc(n,s)}}}break;case"textarea":Ag(t,r);break;case"select":e=r.value,e!=null&&_s(t,!!r.multiple,e,!1)}};Ug=nf;Mg=Un;var rS={usingClientEntryPoint:!1,Events:[uo,hs,sl,Dg,Fg,nf]},ai={findFiberByHostInstance:jn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nS={bundleType:ai.bundleType,version:ai.version,rendererPackageName:ai.rendererPackageName,rendererConfig:ai.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Vg(t),t===null?null:t.stateNode},findFiberByHostInstance:ai.findFiberByHostInstance||eS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mo.isDisabled&&Mo.supportsFiber)try{el=Mo.inject(nS),Kt=Mo}catch{}}yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rS;yt.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!df(e))throw Error(P(200));return Z_(t,e,null,r)};yt.createRoot=function(t,e){if(!df(t))throw Error(P(299));var r=!1,n="",s=xv;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=lf(t,1,!1,null,null,r,!1,n,s),t[br]=e.current,Bi(t.nodeType===8?t.parentNode:t),new uf(e)};yt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(P(188)):(t=Object.keys(t).join(","),Error(P(268,t)));return t=Vg(e),t=t===null?null:t.stateNode,t};yt.flushSync=function(t){return Un(t)};yt.hydrate=function(t,e,r){if(!hl(e))throw Error(P(200));return pl(null,t,e,!0,r)};yt.hydrateRoot=function(t,e,r){if(!df(t))throw Error(P(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=xv;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=bv(e,null,t,1,r??null,s,!1,i,o),t[br]=e.current,Bi(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new fl(e)};yt.render=function(t,e,r){if(!hl(e))throw Error(P(200));return pl(null,t,e,!1,r)};yt.unmountComponentAtNode=function(t){if(!hl(t))throw Error(P(40));return t._reactRootContainer?(Un(function(){pl(null,null,t,!1,function(){t._reactRootContainer=null,t[br]=null})}),!0):!1};yt.unstable_batchedUpdates=nf;yt.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!hl(r))throw Error(P(200));if(t==null||t._reactInternals===void 0)throw Error(P(38));return pl(t,e,r,!1,n)};yt.version="18.3.1-next-f1338f8080-20240426";function _v(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_v)}catch(t){console.error(t)}}_v(),_g.exports=yt;var sS=_g.exports,pp=sS;Wc.createRoot=pp.createRoot,Wc.hydrateRoot=pp.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qi(){return Qi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qi.apply(this,arguments)}var Jr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Jr||(Jr={}));const mp="popstate";function iS(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:o,hash:a}=n.location;return Uu("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Fa(s)}return aS(e,r,null,t)}function ke(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Sv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function oS(){return Math.random().toString(36).substr(2,8)}function gp(t,e){return{usr:t.state,key:t.key,idx:e}}function Uu(t,e,r,n){return r===void 0&&(r=null),Qi({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ws(e):e,{state:r,key:e&&e.key||n||oS()})}function Fa(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ws(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function aS(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=Jr.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Qi({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=Jr.Pop;let _=d(),g=_==null?null:_-u;u=_,c&&c({action:a,location:w.location,delta:g})}function h(_,g){a=Jr.Push;let p=Uu(w.location,_,g);u=d()+1;let y=gp(p,u),x=w.createHref(p);try{o.pushState(y,"",x)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(x)}i&&c&&c({action:a,location:w.location,delta:1})}function m(_,g){a=Jr.Replace;let p=Uu(w.location,_,g);u=d();let y=gp(p,u),x=w.createHref(p);o.replaceState(y,"",x),i&&c&&c({action:a,location:w.location,delta:0})}function v(_){let g=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof _=="string"?_:Fa(_);return p=p.replace(/ $/,"%20"),ke(g,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,g)}let w={get action(){return a},get location(){return t(s,o)},listen(_){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(mp,f),c=_,()=>{s.removeEventListener(mp,f),c=null}},createHref(_){return e(s,_)},createURL:v,encodeLocation(_){let g=v(_);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:m,go(_){return o.go(_)}};return w}var yp;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(yp||(yp={}));function lS(t,e,r){return r===void 0&&(r="/"),cS(t,e,r)}function cS(t,e,r,n){let s=typeof e=="string"?Ws(e):e,i=ff(s.pathname||"/",r);if(i==null)return null;let o=kv(t);uS(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=_S(i);a=wS(o[c],u)}return a}function kv(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(ke(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=on([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(ke(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),kv(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:yS(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of Ev(i.path))s(i,o,c)}),e}function Ev(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=Ev(n.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function uS(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:vS(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const dS=/^:[\w-]+$/,fS=3,hS=2,pS=1,mS=10,gS=-2,vp=t=>t==="*";function yS(t,e){let r=t.split("/"),n=r.length;return r.some(vp)&&(n+=gS),e&&(n+=hS),r.filter(s=>!vp(s)).reduce((s,i)=>s+(dS.test(i)?fS:i===""?pS:mS),n)}function vS(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function wS(t,e,r){let{routesMeta:n}=t,s={},i="/",o=[];for(let a=0;a<n.length;++a){let c=n[a],u=a===n.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=bS({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:on([i,f.pathname]),pathnameBase:TS(on([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=on([i,f.pathnameBase]))}return o}function bS(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=xS(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let w=a[f]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const v=a[f];return m&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function xS(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Sv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(n.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function _S(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Sv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ff(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function SS(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?Ws(t):t;return{pathname:r?r.startsWith("/")?r:kS(r,e):e,search:jS(n),hash:CS(s)}}function kS(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function xc(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ES(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function hf(t,e){let r=ES(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function pf(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=Ws(t):(s=Qi({},t),ke(!s.pathname||!s.pathname.includes("?"),xc("?","pathname","search",s)),ke(!s.pathname||!s.pathname.includes("#"),xc("#","pathname","hash",s)),ke(!s.search||!s.search.includes("#"),xc("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let f=e.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}a=f>=0?e[f]:"/"}let c=SS(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const on=t=>t.join("/").replace(/\/\/+/g,"/"),TS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),jS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,CS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function NS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Tv=["post","put","patch","delete"];new Set(Tv);const IS=["get",...Tv];new Set(IS);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xi(){return Xi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xi.apply(this,arguments)}const mf=b.createContext(null),PS=b.createContext(null),mn=b.createContext(null),ml=b.createContext(null),jr=b.createContext({outlet:null,matches:[],isDataRoute:!1}),jv=b.createContext(null);function AS(t,e){let{relative:r}=e===void 0?{}:e;Gs()||ke(!1);let{basename:n,navigator:s}=b.useContext(mn),{hash:i,pathname:o,search:a}=Nv(t,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:on([n,o])),s.createHref({pathname:c,search:a,hash:i})}function Gs(){return b.useContext(ml)!=null}function Ks(){return Gs()||ke(!1),b.useContext(ml).location}function Cv(t){b.useContext(mn).static||b.useLayoutEffect(t)}function Cr(){let{isDataRoute:t}=b.useContext(jr);return t?WS():OS()}function OS(){Gs()||ke(!1);let t=b.useContext(mf),{basename:e,future:r,navigator:n}=b.useContext(mn),{matches:s}=b.useContext(jr),{pathname:i}=Ks(),o=JSON.stringify(hf(s,r.v7_relativeSplatPath)),a=b.useRef(!1);return Cv(()=>{a.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let f=pf(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:on([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,o,i,t])}function RS(){let{matches:t}=b.useContext(jr),e=t[t.length-1];return e?e.params:{}}function Nv(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=b.useContext(mn),{matches:s}=b.useContext(jr),{pathname:i}=Ks(),o=JSON.stringify(hf(s,n.v7_relativeSplatPath));return b.useMemo(()=>pf(t,JSON.parse(o),i,r==="path"),[t,o,i,r])}function $S(t,e){return LS(t,e)}function LS(t,e,r,n){Gs()||ke(!1);let{navigator:s,static:i}=b.useContext(mn),{matches:o}=b.useContext(jr),a=o[o.length-1],c=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let d=Ks(),f;if(e){var h;let g=typeof e=="string"?Ws(e):e;u==="/"||(h=g.pathname)!=null&&h.startsWith(u)||ke(!1),f=g}else f=d;let m=f.pathname||"/",v=m;if(u!=="/"){let g=u.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(g.length).join("/")}let w=lS(t,{pathname:v}),_=zS(w&&w.map(g=>Object.assign({},g,{params:Object.assign({},c,g.params),pathname:on([u,s.encodeLocation?s.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?u:on([u,s.encodeLocation?s.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),o,r,n);return e&&_?b.createElement(ml.Provider,{value:{location:Xi({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Jr.Pop}},_):_}function DS(){let t=qS(),e=NS(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),r?b.createElement("pre",{style:s},r):null,null)}const FS=b.createElement(DS,null);class US extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?b.createElement(jr.Provider,{value:this.props.routeContext},b.createElement(jv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function MS(t){let{routeContext:e,match:r,children:n}=t,s=b.useContext(mf);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(jr.Provider,{value:e},n)}function zS(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,a=(s=r)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||ke(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,v=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,v=!1,w=null,_=null;r&&(m=a&&f.route.id?a[f.route.id]:void 0,w=f.route.errorElement||FS,c&&(u<0&&h===0?(GS("route-fallback"),v=!0,_=null):u===h&&(v=!0,_=f.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,h+1)),p=()=>{let y;return m?y=w:v?y=_:f.route.Component?y=b.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=d,b.createElement(MS,{match:f,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:y})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?b.createElement(US,{location:r.location,revalidation:r.revalidation,component:w,error:m,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):p()},null)}var Iv=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Iv||{}),Pv=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Pv||{});function BS(t){let e=b.useContext(mf);return e||ke(!1),e}function VS(t){let e=b.useContext(PS);return e||ke(!1),e}function HS(t){let e=b.useContext(jr);return e||ke(!1),e}function Av(t){let e=HS(),r=e.matches[e.matches.length-1];return r.route.id||ke(!1),r.route.id}function qS(){var t;let e=b.useContext(jv),r=VS(),n=Av();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function WS(){let{router:t}=BS(Iv.UseNavigateStable),e=Av(Pv.UseNavigateStable),r=b.useRef(!1);return Cv(()=>{r.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Xi({fromRouteId:e},i)))},[t,e])}const wp={};function GS(t,e,r){wp[t]||(wp[t]=!0)}function KS(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Ov(t){let{to:e,replace:r,state:n,relative:s}=t;Gs()||ke(!1);let{future:i,static:o}=b.useContext(mn),{matches:a}=b.useContext(jr),{pathname:c}=Ks(),u=Cr(),d=pf(e,hf(a,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return b.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function Xe(t){ke(!1)}function JS(t){let{basename:e="/",children:r=null,location:n,navigationType:s=Jr.Pop,navigator:i,static:o=!1,future:a}=t;Gs()&&ke(!1);let c=e.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:c,navigator:i,static:o,future:Xi({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof n=="string"&&(n=Ws(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:v="default"}=n,w=b.useMemo(()=>{let _=ff(d,c);return _==null?null:{location:{pathname:_,search:f,hash:h,state:m,key:v},navigationType:s}},[c,d,f,h,m,v,s]);return w==null?null:b.createElement(mn.Provider,{value:u},b.createElement(ml.Provider,{children:r,value:w}))}function YS(t){let{children:e,location:r}=t;return $S(Mu(e),r)}new Promise(()=>{});function Mu(t,e){e===void 0&&(e=[]);let r=[];return b.Children.forEach(t,(n,s)=>{if(!b.isValidElement(n))return;let i=[...e,s];if(n.type===b.Fragment){r.push.apply(r,Mu(n.props.children,i));return}n.type!==Xe&&ke(!1),!n.props.index||!n.props.children||ke(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Mu(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zu(){return zu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zu.apply(this,arguments)}function QS(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function XS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ZS(t,e){return t.button===0&&(!e||e==="_self")&&!XS(t)}const ek=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],tk="6";try{window.__reactRouterVersion=tk}catch{}const rk="startTransition",bp=Gb[rk];function nk(t){let{basename:e,children:r,future:n,window:s}=t,i=b.useRef();i.current==null&&(i.current=iS({window:s,v5Compat:!0}));let o=i.current,[a,c]=b.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=b.useCallback(f=>{u&&bp?bp(()=>c(f)):c(f)},[c,u]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.useEffect(()=>KS(n),[n]),b.createElement(JS,{basename:e,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}const sk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ik=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Et=b.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:a,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,h=QS(e,ek),{basename:m}=b.useContext(mn),v,w=!1;if(typeof u=="string"&&ik.test(u)&&(v=u,sk))try{let y=new URL(window.location.href),x=u.startsWith("//")?new URL(y.protocol+u):new URL(u),E=ff(x.pathname,m);x.origin===y.origin&&E!=null?u=E+x.search+x.hash:w=!0}catch{}let _=AS(u,{relative:s}),g=ok(u,{replace:o,state:a,target:c,preventScrollReset:d,relative:s,viewTransition:f});function p(y){n&&n(y),y.defaultPrevented||g(y)}return b.createElement("a",zu({},h,{href:v||_,onClick:w||i?n:p,ref:r,target:c}))});var xp;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(xp||(xp={}));var _p;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(_p||(_p={}));function ok(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,c=Cr(),u=Ks(),d=Nv(t,{relative:o});return b.useCallback(f=>{if(ZS(f,r)){f.preventDefault();let h=n!==void 0?n:Fa(u)===Fa(d);c(t,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,c,d,n,s,r,t,i,o,a])}var Sp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);s<128?e[r++]=s:s<2048?(e[r++]=s>>6|192,e[r++]=s&63|128):(s&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=s>>18|240,e[r++]=s>>12&63|128,e[r++]=s>>6&63|128,e[r++]=s&63|128):(e[r++]=s>>12|224,e[r++]=s>>6&63|128,e[r++]=s&63|128)}return e},ak=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const s=t[r++];if(s<128)e[n++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[r++];e[n++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[r++],o=t[r++],a=t[r++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const i=t[r++],o=t[r++];e[n++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},$v={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,d=i>>2,f=(i&3)<<4|a>>4;let h=(a&15)<<2|u>>6,m=u&63;c||(m=64,o||(h=64)),n.push(r[d],r[f],r[h],r[m])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Rv(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ak(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<t.length;){const i=r[t.charAt(s++)],a=s<t.length?r[t.charAt(s)]:0;++s;const u=s<t.length?r[t.charAt(s)]:64;++s;const f=s<t.length?r[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||f==null)throw new lk;const h=i<<2|a>>4;if(n.push(h),u!==64){const m=a<<4&240|u>>2;if(n.push(m),f!==64){const v=u<<6&192|f;n.push(v)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class lk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ck=function(t){const e=Rv(t);return $v.encodeByteArray(e,!0)},Lv=function(t){return ck(t).replace(/\./g,"")},Dv=function(t){try{return $v.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk=()=>uk().__FIREBASE_DEFAULTS__,fk=()=>{if(typeof process>"u"||typeof Sp>"u")return;const t=Sp.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},hk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Dv(t[1]);return e&&JSON.parse(e)},gf=()=>{try{return dk()||fk()||hk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},pk=t=>{var e,r;return(r=(e=gf())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},Fv=()=>{var t;return(t=gf())===null||t===void 0?void 0:t.config},Uv=t=>{var e;return(e=gf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mk=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function yk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Mv(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function vk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wk(){const t=Ke();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function zv(){try{return typeof indexedDB=="object"}catch{return!1}}function Bv(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},s.onupgradeneeded=()=>{r=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(r){e(r)}})}function bk(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk="FirebaseError";class tr extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=xk,Object.setPrototypeOf(this,tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kn.prototype.create)}}class Kn{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?_k(i,n):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new tr(s,a,n)}}function _k(t,e){return t.replace(Sk,(r,n)=>{const s=e[n];return s!=null?String(s):`<${n}?>`})}const Sk=/\{\$([^}]+)}/g;function kk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Zi(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const s of r){if(!n.includes(s))return!1;const i=t[s],o=e[s];if(kp(i)&&kp(o)){if(!Zi(i,o))return!1}else if(i!==o)return!1}for(const s of n)if(!r.includes(s))return!1;return!0}function kp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(s=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function pi(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[s,i]=n.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function mi(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function Ek(t,e){const r=new Tk(t,e);return r.subscribe.bind(r)}class Tk{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let s;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");jk(e,["next","error","complete"])?s=e:s={next:e,error:r,complete:n},s.next===void 0&&(s.next=_c),s.error===void 0&&(s.error=_c),s.complete===void 0&&(s.complete=_c);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jk(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function _c(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck=1e3,Nk=2,Ik=4*60*60*1e3,Pk=.5;function Ep(t,e=Ck,r=Nk){const n=e*Math.pow(r,t),s=Math.round(Pk*n*(Math.random()-.5)*2);return Math.min(Ik,n+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(t){return t&&t._delegate?t._delegate:t}class er{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new mk;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:r});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Rk(e))try{this.getOrInitializeService({instanceIdentifier:kn})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:s});n.resolve(i)}catch{}}}}clearInstance(e=kn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=kn){return this.instances.has(e)}getOptions(e=kn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);n===a&&o.resolve(s)}return s}onInit(e,r){var n;const s=this.normalizeInstanceIdentifier(r),i=(n=this.onInitCallbacks.get(s))!==null&&n!==void 0?n:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const s of n)try{s(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Ok(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=kn){return this.component?this.component.multipleInstances?e:kn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ok(t){return t===kn?void 0:t}function Rk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new Ak(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(oe||(oe={}));const Lk={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},Dk=oe.INFO,Fk={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},Uk=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),s=Fk[e];if(s)console[s](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yf{constructor(e){this.name=e,this._logLevel=Dk,this._logHandler=Uk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Lk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...e),this._logHandler(this,oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...e),this._logHandler(this,oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...e),this._logHandler(this,oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...e),this._logHandler(this,oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...e),this._logHandler(this,oe.ERROR,...e)}}const Mk=(t,e)=>e.some(r=>t instanceof r);let Tp,jp;function zk(){return Tp||(Tp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Bk(){return jp||(jp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Vv=new WeakMap,Bu=new WeakMap,Hv=new WeakMap,Sc=new WeakMap,vf=new WeakMap;function Vk(t){const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{r(an(t.result)),s()},o=()=>{n(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&Vv.set(r,t)}).catch(()=>{}),vf.set(e,t),e}function Hk(t){if(Bu.has(t))return;const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{r(),s()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Bu.set(t,e)}let Vu={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Bu.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Hv.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return an(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function qk(t){Vu=t(Vu)}function Wk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(kc(this),e,...r);return Hv.set(n,e.sort?e.sort():[e]),an(n)}:Bk().includes(t)?function(...e){return t.apply(kc(this),e),an(Vv.get(this))}:function(...e){return an(t.apply(kc(this),e))}}function Gk(t){return typeof t=="function"?Wk(t):(t instanceof IDBTransaction&&Hk(t),Mk(t,zk())?new Proxy(t,Vu):t)}function an(t){if(t instanceof IDBRequest)return Vk(t);if(Sc.has(t))return Sc.get(t);const e=Gk(t);return e!==t&&(Sc.set(t,e),vf.set(e,t)),e}const kc=t=>vf.get(t);function qv(t,e,{blocked:r,upgrade:n,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=an(o);return n&&o.addEventListener("upgradeneeded",c=>{n(an(o.result),c.oldVersion,c.newVersion,an(o.transaction),c)}),r&&o.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const Kk=["get","getKey","getAll","getAllKeys","count"],Jk=["put","add","delete","clear"],Ec=new Map;function Cp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ec.get(e))return Ec.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,s=Jk.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(s||Kk.includes(r)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return n&&(u=u.index(a.shift())),(await Promise.all([u[r](...a),s&&c.done]))[0]};return Ec.set(e,i),i}qk(t=>({...t,get:(e,r,n)=>Cp(e,r)||t.get(e,r,n),has:(e,r)=>!!Cp(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Qk(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function Qk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hu="@firebase/app",Np="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr=new yf("@firebase/app"),Xk="@firebase/app-compat",Zk="@firebase/analytics-compat",eE="@firebase/analytics",tE="@firebase/app-check-compat",rE="@firebase/app-check",nE="@firebase/auth",sE="@firebase/auth-compat",iE="@firebase/database",oE="@firebase/data-connect",aE="@firebase/database-compat",lE="@firebase/functions",cE="@firebase/functions-compat",uE="@firebase/installations",dE="@firebase/installations-compat",fE="@firebase/messaging",hE="@firebase/messaging-compat",pE="@firebase/performance",mE="@firebase/performance-compat",gE="@firebase/remote-config",yE="@firebase/remote-config-compat",vE="@firebase/storage",wE="@firebase/storage-compat",bE="@firebase/firestore",xE="@firebase/vertexai-preview",_E="@firebase/firestore-compat",SE="firebase",kE="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu="[DEFAULT]",EE={[Hu]:"fire-core",[Xk]:"fire-core-compat",[eE]:"fire-analytics",[Zk]:"fire-analytics-compat",[rE]:"fire-app-check",[tE]:"fire-app-check-compat",[nE]:"fire-auth",[sE]:"fire-auth-compat",[iE]:"fire-rtdb",[oE]:"fire-data-connect",[aE]:"fire-rtdb-compat",[lE]:"fire-fn",[cE]:"fire-fn-compat",[uE]:"fire-iid",[dE]:"fire-iid-compat",[fE]:"fire-fcm",[hE]:"fire-fcm-compat",[pE]:"fire-perf",[mE]:"fire-perf-compat",[gE]:"fire-rc",[yE]:"fire-rc-compat",[vE]:"fire-gcs",[wE]:"fire-gcs-compat",[bE]:"fire-fst",[_E]:"fire-fst-compat",[xE]:"fire-vertex","fire-js":"fire-js",[SE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua=new Map,TE=new Map,Wu=new Map;function Ip(t,e){try{t.container.addComponent(e)}catch(r){Sr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function kr(t){const e=t.name;if(Wu.has(e))return Sr.debug(`There were multiple attempts to register component ${e}.`),!1;Wu.set(e,t);for(const r of Ua.values())Ip(r,t);for(const r of TE.values())Ip(r,t);return!0}function Js(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Gt(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ln=new Kn("app","Firebase",jE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new er("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ln.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=kE;function Wv(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:qu,automaticDataCollectionEnabled:!1},e),s=n.name;if(typeof s!="string"||!s)throw ln.create("bad-app-name",{appName:String(s)});if(r||(r=Fv()),!r)throw ln.create("no-options");const i=Ua.get(s);if(i){if(Zi(r,i.options)&&Zi(n,i.config))return i;throw ln.create("duplicate-app",{appName:s})}const o=new $k(s);for(const c of Wu.values())o.addComponent(c);const a=new CE(r,n,o);return Ua.set(s,a),a}function Gv(t=qu){const e=Ua.get(t);if(!e&&t===qu&&Fv())return Wv();if(!e)throw ln.create("no-app",{appName:t});return e}function Yt(t,e,r){var n;let s=(n=EE[t])!==null&&n!==void 0?n:t;r&&(s+=`-${r}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Sr.warn(a.join(" "));return}kr(new er(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="firebase-heartbeat-database",IE=1,eo="firebase-heartbeat-store";let Tc=null;function Kv(){return Tc||(Tc=qv(NE,IE,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(eo)}catch(r){console.warn(r)}}}}).catch(t=>{throw ln.create("idb-open",{originalErrorMessage:t.message})})),Tc}async function PE(t){try{const r=(await Kv()).transaction(eo),n=await r.objectStore(eo).get(Jv(t));return await r.done,n}catch(e){if(e instanceof tr)Sr.warn(e.message);else{const r=ln.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Sr.warn(r.message)}}}async function Pp(t,e){try{const n=(await Kv()).transaction(eo,"readwrite");await n.objectStore(eo).put(e,Jv(t)),await n.done}catch(r){if(r instanceof tr)Sr.warn(r.message);else{const n=ln.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Sr.warn(n.message)}}}function Jv(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE=1024,OE=30*24*60*60*1e3;class RE{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new LE(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Ap();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=OE}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Sr.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Ap(),{heartbeatsToSend:n,unsentEntries:s}=$E(this._heartbeatsCache.heartbeats),i=Lv(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return Sr.warn(r),""}}}function Ap(){return new Date().toISOString().substring(0,10)}function $E(t,e=AE){const r=[];let n=t.slice();for(const s of t){const i=r.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Op(r)>e){i.dates.pop();break}}else if(r.push({agent:s.agent,dates:[s.date]}),Op(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class LE{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zv()?Bv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await PE(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return Pp(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return Pp(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Op(t){return Lv(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(t){kr(new er("platform-logger",e=>new Yk(e),"PRIVATE")),kr(new er("heartbeat",e=>new RE(e),"PRIVATE")),Yt(Hu,Np,t),Yt(Hu,Np,"esm2017"),Yt("fire-js","")}DE("");function wf(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function Yv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FE=Yv,Qv=new Kn("auth","Firebase",Yv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=new yf("@firebase/auth");function UE(t,...e){Ma.logLevel<=oe.WARN&&Ma.warn(`Auth (${po}): ${t}`,...e)}function oa(t,...e){Ma.logLevel<=oe.ERROR&&Ma.error(`Auth (${po}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(t,...e){throw bf(t,...e)}function Qt(t,...e){return bf(t,...e)}function Xv(t,e,r){const n=Object.assign(Object.assign({},FE()),{[e]:r});return new Kn("auth","Firebase",n).create(e,{appName:t.name})}function yr(t){return Xv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bf(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return Qv.create(t,...e)}function V(t,e,...r){if(!t)throw bf(e,...r)}function hr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw oa(e),new Error(e)}function Er(t,e){t||hr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function ME(){return Rp()==="http:"||Rp()==="https:"}function Rp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ME()||Mv()||"connection"in navigator)?navigator.onLine:!0}function BE(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e,r){this.shortDelay=e,this.longDelay=r,Er(r>e,"Short delay should be less than long delay!"),this.isMobile=gk()||vk()}get(){return zE()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(t,e){Er(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE=new mo(3e4,6e4);function Nr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function rr(t,e,r,n,s={}){return e0(t,s,async()=>{let i={},o={};n&&(e==="GET"?o=n:i={body:JSON.stringify(n)});const a=ho(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},i);return yk()||(u.referrerPolicy="no-referrer"),Zv.fetch()(t0(t,t.config.apiHost,r,a),u)})}async function e0(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},VE),e);try{const s=new WE(t),i=await Promise.race([r(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw zo(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw zo(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw zo(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw zo(t,"user-disabled",o);const d=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Xv(t,d,u);Mt(t,d)}}catch(s){if(s instanceof tr)throw s;Mt(t,"network-request-failed",{message:String(s)})}}async function go(t,e,r,n,s={}){const i=await rr(t,e,r,n,s);return"mfaPendingCredential"in i&&Mt(t,"multi-factor-auth-required",{_serverResponse:i}),i}function t0(t,e,r,n){const s=`${e}${r}?${n}`;return t.config.emulator?xf(t.config,s):`${t.config.apiScheme}://${s}`}function qE(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class WE{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Qt(this.auth,"network-request-failed")),HE.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function zo(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const s=Qt(t,e,n);return s.customData._tokenResponse=r,s}function $p(t){return t!==void 0&&t.enterprise!==void 0}class GE{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return qE(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function KE(t,e){return rr(t,"GET","/v2/recaptchaConfig",Nr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JE(t,e){return rr(t,"POST","/v1/accounts:delete",e)}async function r0(t,e){return rr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function YE(t,e=!1){const r=wt(t),n=await r.getIdToken(e),s=_f(n);V(s&&s.exp&&s.auth_time&&s.iat,r.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:n,authTime:ji(jc(s.auth_time)),issuedAtTime:ji(jc(s.iat)),expirationTime:ji(jc(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function jc(t){return Number(t)*1e3}function _f(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return oa("JWT malformed, contained fewer than 3 sections"),null;try{const s=Dv(r);return s?JSON.parse(s):(oa("Failed to decode base64 JWT payload"),null)}catch(s){return oa("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Lp(t){const e=_f(t);return V(e,"internal-error"),V(typeof e.exp<"u","internal-error"),V(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Us(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof tr&&QE(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function QE({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=ji(this.lastLoginAt),this.creationTime=ji(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function za(t){var e;const r=t.auth,n=await t.getIdToken(),s=await Us(t,r0(r,{idToken:n}));V(s==null?void 0:s.users.length,r,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?n0(i.providerUserInfo):[],a=eT(t.providerData,o),c=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=c?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Ku(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function ZE(t){const e=wt(t);await za(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function eT(t,e){return[...t.filter(n=>!e.some(s=>s.providerId===n.providerId)),...e]}function n0(t){return t.map(e=>{var{providerId:r}=e,n=wf(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tT(t,e){const r=await e0(t,{},async()=>{const n=ho({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=t0(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Zv.fetch()(o,{method:"POST",headers:a,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function rT(t,e){return rr(t,"POST","/v2/accounts:revokeToken",Nr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){V(e.idToken,"internal-error"),V(typeof e.idToken<"u","internal-error"),V(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Lp(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){V(e.length!==0,"internal-error");const r=Lp(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(V(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:s,expiresIn:i}=await tT(e,r);this.updateTokensAndExpiration(n,s,Number(i))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:s,expirationTime:i}=r,o=new Cs;return n&&(V(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),s&&(V(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(V(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Cs,this.toJSON())}_performRefresh(){return hr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(t,e){V(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class pr{constructor(e){var{uid:r,auth:n,stsTokenManager:s}=e,i=wf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new XE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Ku(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await Us(this,this.stsTokenManager.getToken(this.auth,e));return V(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return YE(this,e)}reload(){return ZE(this)}_assign(e){this!==e&&(V(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new pr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){V(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await za(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gt(this.auth.app))return Promise.reject(yr(this.auth));const e=await this.getIdToken();return await Us(this,JE(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,s,i,o,a,c,u,d;const f=(n=r.displayName)!==null&&n!==void 0?n:void 0,h=(s=r.email)!==null&&s!==void 0?s:void 0,m=(i=r.phoneNumber)!==null&&i!==void 0?i:void 0,v=(o=r.photoURL)!==null&&o!==void 0?o:void 0,w=(a=r.tenantId)!==null&&a!==void 0?a:void 0,_=(c=r._redirectEventId)!==null&&c!==void 0?c:void 0,g=(u=r.createdAt)!==null&&u!==void 0?u:void 0,p=(d=r.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:y,emailVerified:x,isAnonymous:E,providerData:k,stsTokenManager:T}=r;V(y&&T,e,"internal-error");const A=Cs.fromJSON(this.name,T);V(typeof y=="string",e,"internal-error"),Ar(f,e.name),Ar(h,e.name),V(typeof x=="boolean",e,"internal-error"),V(typeof E=="boolean",e,"internal-error"),Ar(m,e.name),Ar(v,e.name),Ar(w,e.name),Ar(_,e.name),Ar(g,e.name),Ar(p,e.name);const U=new pr({uid:y,auth:e,email:h,emailVerified:x,displayName:f,isAnonymous:E,photoURL:v,phoneNumber:m,tenantId:w,stsTokenManager:A,createdAt:g,lastLoginAt:p});return k&&Array.isArray(k)&&(U.providerData=k.map(S=>Object.assign({},S))),_&&(U._redirectEventId=_),U}static async _fromIdTokenResponse(e,r,n=!1){const s=new Cs;s.updateFromServerResponse(r);const i=new pr({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:n});return await za(i),i}static async _fromGetAccountInfoResponse(e,r,n){const s=r.users[0];V(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?n0(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Cs;a.updateFromIdToken(n);const c=new pr({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Ku(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp=new Map;function mr(t){Er(t instanceof Function,"Expected a class definition");let e=Dp.get(t);return e?(Er(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Dp.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}s0.type="NONE";const Fp=s0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aa(t,e,r){return`firebase:${t}:${e}:${r}`}class Ns{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:s,name:i}=this.auth;this.fullUserKey=aa(this.userKey,s.apiKey,i),this.fullPersistenceKey=aa("persistence",s.apiKey,i),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?pr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Ns(mr(Fp),e,n);const s=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||mr(Fp);const o=aa(n,e.config.apiKey,e.name);let a=null;for(const u of r)try{const d=await u._get(o);if(d){const f=pr._fromJSON(e,d);u!==i&&(a=f),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Ns(i,e,n):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(r.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Ns(i,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(l0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(i0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(u0(e))return"Blackberry";if(d0(e))return"Webos";if(o0(e))return"Safari";if((e.includes("chrome/")||a0(e))&&!e.includes("edge/"))return"Chrome";if(c0(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function i0(t=Ke()){return/firefox\//i.test(t)}function o0(t=Ke()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function a0(t=Ke()){return/crios\//i.test(t)}function l0(t=Ke()){return/iemobile/i.test(t)}function c0(t=Ke()){return/android/i.test(t)}function u0(t=Ke()){return/blackberry/i.test(t)}function d0(t=Ke()){return/webos/i.test(t)}function Sf(t=Ke()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function nT(t=Ke()){var e;return Sf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function sT(){return wk()&&document.documentMode===10}function f0(t=Ke()){return Sf(t)||c0(t)||d0(t)||u0(t)||/windows phone/i.test(t)||l0(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(t,e=[]){let r;switch(t){case"Browser":r=Up(Ke());break;case"Worker":r=`${Up(Ke())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${po}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=i=>new Promise((o,a)=>{try{const c=e(i);o(c)}catch(c){a(c)}});n.onAbort=r,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const s of r)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oT(t,e={}){return rr(t,"GET","/v2/passwordPolicy",Nr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT=6;class lT{constructor(e){var r,n,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:aT,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,s,i,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(r=c.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(n=c.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),s&&(r.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let s=0;s<e.length;s++)n=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,r,n,s){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mp(this),this.idTokenSubscription=new Mp(this),this.beforeStateQueue=new iT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=mr(r)),this._initializationPromise=this.queue(async()=>{var n,s;if(!this._deleted&&(this.persistenceManager=await Ns.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await r0(this,{idToken:e}),n=await pr._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(Gt(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,a=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return V(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await za(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BE()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gt(this.app))return Promise.reject(yr(this));const r=e?wt(e):null;return r&&V(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&V(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gt(this.app)?Promise.reject(yr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gt(this.app)?Promise.reject(yr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await oT(this),r=new lT(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Kn("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await rT(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&mr(e)||this._popupRedirectResolver;V(r,this,"argument-error"),this.redirectPersistenceManager=await Ns.create(this,[mr(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,s){if(this._deleted)return()=>{};const i=typeof r=="function"?r:r.next.bind(r);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(V(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof r=="function"){const c=e.addObserver(r,n,s);return()=>{o=!0,c()}}else{const c=e.addObserver(r);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return V(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=h0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&UE(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function gn(t){return wt(t)}class Mp{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ek(r=>this.observer=r)}get next(){return V(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gl={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uT(t){gl=t}function p0(t){return gl.loadJS(t)}function dT(){return gl.recaptchaEnterpriseScript}function fT(){return gl.gapiScript}function hT(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const pT="recaptcha-enterprise",mT="NO_RECAPTCHA";class gT{constructor(e){this.type=pT,this.auth=gn(e)}async verify(e="verify",r=!1){async function n(i){if(!r){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{KE(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new GE(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})})}function s(i,o,a){const c=window.grecaptcha;$p(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(mT)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{n(this.auth).then(a=>{if(!r&&$p(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=dT();c.length!==0&&(c+=a),p0(c).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function zp(t,e,r,n=!1){const s=new gT(t);let i;try{i=await s.verify(r)}catch{i=await s.verify(r,!0)}const o=Object.assign({},e);return n?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Ba(t,e,r,n){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await zp(t,e,r,r==="getOobCode");return n(t,i)}else return n(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await zp(t,e,r,r==="getOobCode");return n(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(t,e){const r=Js(t,"auth");if(r.isInitialized()){const s=r.getImmediate(),i=r.getOptions();if(Zi(i,e??{}))return s;Mt(s,"already-initialized")}return r.initialize({options:e})}function vT(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(mr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function wT(t,e,r){const n=gn(t);V(n._canInitEmulator,n,"emulator-config-failed"),V(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const s=!1,i=m0(e),{host:o,port:a}=bT(e),c=a===null?"":`:${a}`;n.config.emulator={url:`${i}//${o}${c}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),xT()}function m0(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function bT(t){const e=m0(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(n);if(s){const i=s[1];return{host:i,port:Bp(n.substr(i.length+1))}}else{const[i,o]=n.split(":");return{host:i,port:Bp(o)}}}function Bp(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function xT(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return hr("not implemented")}_getIdTokenResponse(e){return hr("not implemented")}_linkToIdToken(e,r){return hr("not implemented")}_getReauthenticationResolver(e){return hr("not implemented")}}async function _T(t,e){return rr(t,"POST","/v1/accounts:update",e)}async function ST(t,e){return rr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kT(t,e){return go(t,"POST","/v1/accounts:signInWithPassword",Nr(t,e))}async function ET(t,e){return rr(t,"POST","/v1/accounts:sendOobCode",Nr(t,e))}async function TT(t,e){return ET(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jT(t,e){return go(t,"POST","/v1/accounts:signInWithEmailLink",Nr(t,e))}async function CT(t,e){return go(t,"POST","/v1/accounts:signInWithEmailLink",Nr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to extends kf{constructor(e,r,n,s=null){super("password",n),this._email=e,this._password=r,this._tenantId=s}static _fromEmailAndPassword(e,r){return new to(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new to(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ba(e,r,"signInWithPassword",kT);case"emailLink":return jT(e,{email:this._email,oobCode:this._password});default:Mt(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ba(e,n,"signUpPassword",ST);case"emailLink":return CT(e,{idToken:r,email:this._email,oobCode:this._password});default:Mt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Is(t,e){return go(t,"POST","/v1/accounts:signInWithIdp",Nr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="http://localhost";class Mn extends kf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Mn(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Mt("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:s}=r,i=wf(r,["providerId","signInMethod"]);if(!n||!s)return null;const o=new Mn(n,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return Is(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Is(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Is(e,r)}buildRequest(){const e={requestUri:NT,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=ho(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function PT(t){const e=pi(mi(t)).link,r=e?pi(mi(e)).deep_link_id:null,n=pi(mi(t)).deep_link_id;return(n?pi(mi(n)).link:null)||n||r||e||t}class Ef{constructor(e){var r,n,s,i,o,a;const c=pi(mi(e)),u=(r=c.apiKey)!==null&&r!==void 0?r:null,d=(n=c.oobCode)!==null&&n!==void 0?n:null,f=IT((s=c.mode)!==null&&s!==void 0?s:null);V(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const r=PT(e);try{return new Ef(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(){this.providerId=Jn.PROVIDER_ID}static credential(e,r){return to._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=Ef.parseLink(r);return V(n,"argument-error"),to._fromEmailAndCode(e,n.code,n.tenantId)}}Jn.PROVIDER_ID="password";Jn.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Jn.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo extends g0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends yo{constructor(){super("facebook.com")}static credential(e){return Mn._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Br.credential(e.oauthAccessToken)}catch{return null}}}Br.FACEBOOK_SIGN_IN_METHOD="facebook.com";Br.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends yo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Mn._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Vr.credential(r,n)}catch{return null}}}Vr.GOOGLE_SIGN_IN_METHOD="google.com";Vr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends yo{constructor(){super("github.com")}static credential(e){return Mn._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hr.credential(e.oauthAccessToken)}catch{return null}}}Hr.GITHUB_SIGN_IN_METHOD="github.com";Hr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends yo{constructor(){super("twitter.com")}static credential(e,r){return Mn._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return qr.credential(r,n)}catch{return null}}}qr.TWITTER_SIGN_IN_METHOD="twitter.com";qr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AT(t,e){return go(t,"POST","/v1/accounts:signUp",Nr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,s=!1){const i=await pr._fromIdTokenResponse(e,n,s),o=Vp(n);return new zn({user:i,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const s=Vp(n);return new zn({user:e,providerId:s,_tokenResponse:n,operationType:r})}}function Vp(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va extends tr{constructor(e,r,n,s){var i;super(r.code,r.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,Va.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,s){return new Va(e,r,n,s)}}function y0(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Va._fromErrorAndOperation(t,i,e,n):i})}async function OT(t,e,r=!1){const n=await Us(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return zn._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v0(t,e,r=!1){const{auth:n}=t;if(Gt(n.app))return Promise.reject(yr(n));const s="reauthenticate";try{const i=await Us(t,y0(n,s,e,t),r);V(i.idToken,n,"internal-error");const o=_f(i.idToken);V(o,n,"internal-error");const{sub:a}=o;return V(t.uid===a,n,"user-mismatch"),zn._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Mt(n,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w0(t,e,r=!1){if(Gt(t.app))return Promise.reject(yr(t));const n="signIn",s=await y0(t,n,e),i=await zn._fromIdTokenResponse(t,n,s);return r||await t._updateCurrentUser(i.user),i}async function RT(t,e){return w0(gn(t),e)}async function $T(t,e){return v0(wt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b0(t){const e=gn(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function LT(t,e,r){const n=gn(t);await Ba(n,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",TT)}async function DT(t,e,r){if(Gt(t.app))return Promise.reject(yr(t));const n=gn(t),o=await Ba(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",AT).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&b0(t),c}),a=await zn._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(a.user),a}function FT(t,e,r){return Gt(t.app)?Promise.reject(yr(t)):RT(wt(t),Jn.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&b0(t),n})}function UT(t,e){return MT(wt(t),null,e)}async function MT(t,e,r){const{auth:n}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};r&&(i.password=r);const o=await Us(t,_T(n,i));await t._updateTokensIfNecessary(o,!0)}function zT(t,e,r,n){return wt(t).onIdTokenChanged(e,r,n)}function BT(t,e,r){return wt(t).beforeAuthStateChanged(e,r)}function VT(t,e,r,n){return wt(t).onAuthStateChanged(e,r,n)}function HT(t){return wt(t).signOut()}const Ha="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Ha,"1"),this.storage.removeItem(Ha),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT=1e3,WT=10;class _0 extends x0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=f0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),s=this.localCache[r];n!==s&&e(r,s,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const n=e.key;r?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},i=this.storage.getItem(n);sT()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,WT):s()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},qT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}_0.type="LOCAL";const GT=_0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0 extends x0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}S0.type="SESSION";const k0=S0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(s=>s.isListeningto(e));if(r)return r;const n=new yl(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:s,data:i}=r.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const a=Array.from(o).map(async u=>u(r.origin,i)),c=await KT(a);r.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:c})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yl.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tf(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const u=Tf("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},n);o={messageChannel:s,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(h.data.response);break;default:clearTimeout(d),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:r},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(){return window}function YT(t){Xt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(){return typeof Xt().WorkerGlobalScope<"u"&&typeof Xt().importScripts=="function"}async function QT(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XT(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function ZT(){return E0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="firebaseLocalStorageDb",ej=1,qa="firebaseLocalStorage",j0="fbase_key";class vo{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function vl(t,e){return t.transaction([qa],e?"readwrite":"readonly").objectStore(qa)}function tj(){const t=indexedDB.deleteDatabase(T0);return new vo(t).toPromise()}function Ju(){const t=indexedDB.open(T0,ej);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(qa,{keyPath:j0})}catch(s){r(s)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(qa)?e(n):(n.close(),await tj(),e(await Ju()))})})}async function Hp(t,e,r){const n=vl(t,!0).put({[j0]:e,value:r});return new vo(n).toPromise()}async function rj(t,e){const r=vl(t,!1).get(e),n=await new vo(r).toPromise();return n===void 0?null:n.value}function qp(t,e){const r=vl(t,!0).delete(e);return new vo(r).toPromise()}const nj=800,sj=3;class C0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ju(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>sj)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return E0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yl._getInstance(ZT()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await QT(),!this.activeServiceWorker)return;this.sender=new JT(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||XT()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ju();return await Hp(e,Ha,"1"),await qp(e,Ha),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>Hp(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>rj(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>qp(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=vl(s,!1).getAll();return new vo(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),r.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),r.push(s));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}C0.type="LOCAL";const ij=C0;new mo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oj(t,e){return e?mr(e):(V(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf extends kf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Is(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Is(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Is(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function aj(t){return w0(t.auth,new jf(t),t.bypassAuthState)}function lj(t){const{auth:e,user:r}=t;return V(r,e,"internal-error"),v0(r,new jf(t),t.bypassAuthState)}async function cj(t){const{auth:e,user:r}=t;return V(r,e,"internal-error"),OT(r,new jf(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e,r,n,s,i=!1){this.auth=e,this.resolver=n,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aj;case"linkViaPopup":case"linkViaRedirect":return cj;case"reauthViaPopup":case"reauthViaRedirect":return lj;default:Mt(this.auth,"internal-error")}}resolve(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj=new mo(2e3,1e4);class bs extends N0{constructor(e,r,n,s,i){super(e,r,s,i),this.provider=n,this.authWindow=null,this.pollId=null,bs.currentPopupAction&&bs.currentPopupAction.cancel(),bs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return V(e,this.auth,"internal-error"),e}async onExecution(){Er(this.filter.length===1,"Popup operations only handle one event");const e=Tf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Qt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uj.get())};e()}}bs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj="pendingRedirect",la=new Map;class fj extends N0{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=la.get(this.auth._key());if(!e){try{const n=await hj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}la.set(this.auth._key(),e)}return this.bypassAuthState||la.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hj(t,e){const r=gj(e),n=mj(t);if(!await n._isAvailable())return!1;const s=await n._get(r)==="true";return await n._remove(r),s}function pj(t,e){la.set(t._key(),e)}function mj(t){return mr(t._redirectPersistence)}function gj(t){return aa(dj,t.config.apiKey,t.name)}async function yj(t,e,r=!1){if(Gt(t.app))return Promise.reject(yr(t));const n=gn(t),s=oj(n,e),o=await new fj(n,s,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj=10*60*1e3;class wj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bj(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!I0(e)){const s=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Qt(this.auth,s))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vj&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wp(e))}saveEventToCache(e){this.cachedEventUids.add(Wp(e)),this.lastProcessedEventTime=Date.now()}}function Wp(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function I0({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function bj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return I0(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xj(t,e={}){return rr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sj=/^https?/;async function kj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await xj(t);for(const r of e)try{if(Ej(r))return}catch{}Mt(t,"unauthorized-domain")}function Ej(t){const e=Gu(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!Sj.test(r))return!1;if(_j.test(t))return n===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj=new mo(3e4,6e4);function Gp(){const t=Xt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function jj(t){return new Promise((e,r)=>{var n,s,i;function o(){Gp(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Gp(),r(Qt(t,"network-request-failed"))},timeout:Tj.get()})}if(!((s=(n=Xt().gapi)===null||n===void 0?void 0:n.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Xt().gapi)===null||i===void 0)&&i.load)o();else{const a=hT("iframefcb");return Xt()[a]=()=>{gapi.load?o():r(Qt(t,"network-request-failed"))},p0(`${fT()}?onload=${a}`).catch(c=>r(c))}}).catch(e=>{throw ca=null,e})}let ca=null;function Cj(t){return ca=ca||jj(t),ca}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj=new mo(5e3,15e3),Ij="__/auth/iframe",Pj="emulator/auth/iframe",Aj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Oj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rj(t){const e=t.config;V(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?xf(e,Pj):`https://${t.config.authDomain}/${Ij}`,n={apiKey:e.apiKey,appName:t.name,v:po},s=Oj.get(t.config.apiHost);s&&(n.eid=s);const i=t._getFrameworks();return i.length&&(n.fw=i.join(",")),`${r}?${ho(n).slice(1)}`}async function $j(t){const e=await Cj(t),r=Xt().gapi;return V(r,t,"internal-error"),e.open({where:document.body,url:Rj(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Aj,dontclear:!0},n=>new Promise(async(s,i)=>{await n.restyle({setHideOnLeave:!1});const o=Qt(t,"network-request-failed"),a=Xt().setTimeout(()=>{i(o)},Nj.get());function c(){Xt().clearTimeout(a),s(n)}n.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Dj=500,Fj=600,Uj="_blank",Mj="http://localhost";class Kp{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zj(t,e,r,n=Dj,s=Fj){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let a="";const c=Object.assign(Object.assign({},Lj),{width:n.toString(),height:s.toString(),top:i,left:o}),u=Ke().toLowerCase();r&&(a=a0(u)?Uj:r),i0(u)&&(e=e||Mj,c.scrollbars="yes");const d=Object.entries(c).reduce((h,[m,v])=>`${h}${m}=${v},`,"");if(nT(u)&&a!=="_self")return Bj(e||"",a),new Kp(null);const f=window.open(e||"",a,d);V(f,t,"popup-blocked");try{f.focus()}catch{}return new Kp(f)}function Bj(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj="__/auth/handler",Hj="emulator/auth/handler",qj=encodeURIComponent("fac");async function Jp(t,e,r,n,s,i){V(t.config.authDomain,t,"auth-domain-config-required"),V(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:po,eventId:s};if(e instanceof g0){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",kk(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof yo){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const c=await t._getAppCheckToken(),u=c?`#${qj}=${encodeURIComponent(c)}`:"";return`${Wj(t)}?${ho(a).slice(1)}${u}`}function Wj({config:t}){return t.emulator?xf(t,Hj):`https://${t.authDomain}/${Vj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc="webStorageSupport";class Gj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=k0,this._completeRedirectFn=yj,this._overrideRedirectResult=pj}async _openPopup(e,r,n,s){var i;Er((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Jp(e,r,n,Gu(),s);return zj(e,o,Tf())}async _openRedirect(e,r,n,s){await this._originValidation(e);const i=await Jp(e,r,n,Gu(),s);return YT(i),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:s,promise:i}=this.eventManagers[r];return s?Promise.resolve(s):(Er(i,"If manager is not set, promise should be"),i)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await $j(e),n=new wj(e);return r.register("authEvent",s=>(V(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Cc,{type:Cc},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Cc];o!==void 0&&r(!!o),Mt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=kj(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return f0()||o0()||Sf()}}const Kj=Gj;var Yp="@firebase/auth",Qp="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){V(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Qj(t){kr(new er("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=n.options;V(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:h0(t)},u=new cT(n,s,i,c);return vT(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),kr(new er("auth-internal",e=>{const r=gn(e.getProvider("auth").getImmediate());return(n=>new Jj(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yt(Yp,Qp,Yj(t)),Yt(Yp,Qp,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj=5*60,Zj=Uv("authIdTokenMaxAge")||Xj;let Xp=null;const eC=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>Zj)return;const s=r==null?void 0:r.token;Xp!==s&&(Xp=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function tC(t=Gv()){const e=Js(t,"auth");if(e.isInitialized())return e.getImmediate();const r=yT(t,{popupRedirectResolver:Kj,persistence:[ij,GT,k0]}),n=Uv("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(n,location.origin);if(location.origin===i.origin){const o=eC(i.toString());BT(r,o,()=>o(r.currentUser)),zT(r,a=>o(a))}}const s=pk("auth");return s&&wT(r,`http://${s}`),r}function rC(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}uT({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=s=>{const i=Qt("internal-error");i.customData=s,r(i)},n.type="text/javascript",n.charset="UTF-8",rC().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Qj("Browser");var nC="firebase",sC="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yt(nC,sC,"app");const P0="@firebase/installations",Cf="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0=1e4,O0=`w:${Cf}`,R0="FIS_v2",iC="https://firebaseinstallations.googleapis.com/v1",oC=60*60*1e3,aC="installations",lC="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Bn=new Kn(aC,lC,cC);function $0(t){return t instanceof tr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0({projectId:t}){return`${iC}/projects/${t}/installations`}function D0(t){return{token:t.token,requestStatus:2,expiresIn:dC(t.expiresIn),creationTime:Date.now()}}async function F0(t,e){const n=(await e.json()).error;return Bn.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function U0({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function uC(t,{refreshToken:e}){const r=U0(t);return r.append("Authorization",fC(e)),r}async function M0(t){const e=await t();return e.status>=500&&e.status<600?t():e}function dC(t){return Number(t.replace("s","000"))}function fC(t){return`${R0} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hC({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=L0(t),s=U0(t),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={fid:r,authVersion:R0,appId:t.appId,sdkVersion:O0},a={method:"POST",headers:s,body:JSON.stringify(o)},c=await M0(()=>fetch(n,a));if(c.ok){const u=await c.json();return{fid:u.fid||r,registrationStatus:2,refreshToken:u.refreshToken,authToken:D0(u.authToken)}}else throw await F0("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=/^[cdef][\w-]{21}$/,Yu="";function gC(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=yC(t);return mC.test(r)?r:Yu}catch{return Yu}}function yC(t){return pC(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0=new Map;function V0(t,e){const r=wl(t);H0(r,e),vC(r,e)}function H0(t,e){const r=B0.get(t);if(r)for(const n of r)n(e)}function vC(t,e){const r=wC();r&&r.postMessage({key:t,fid:e}),bC()}let In=null;function wC(){return!In&&"BroadcastChannel"in self&&(In=new BroadcastChannel("[Firebase] FID Change"),In.onmessage=t=>{H0(t.data.key,t.data.fid)}),In}function bC(){B0.size===0&&In&&(In.close(),In=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC="firebase-installations-database",_C=1,Vn="firebase-installations-store";let Nc=null;function Nf(){return Nc||(Nc=qv(xC,_C,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Vn)}}})),Nc}async function Wa(t,e){const r=wl(t),s=(await Nf()).transaction(Vn,"readwrite"),i=s.objectStore(Vn),o=await i.get(r);return await i.put(e,r),await s.done,(!o||o.fid!==e.fid)&&V0(t,e.fid),e}async function q0(t){const e=wl(t),n=(await Nf()).transaction(Vn,"readwrite");await n.objectStore(Vn).delete(e),await n.done}async function bl(t,e){const r=wl(t),s=(await Nf()).transaction(Vn,"readwrite"),i=s.objectStore(Vn),o=await i.get(r),a=e(o);return a===void 0?await i.delete(r):await i.put(a,r),await s.done,a&&(!o||o.fid!==a.fid)&&V0(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function If(t){let e;const r=await bl(t.appConfig,n=>{const s=SC(n),i=kC(t,s);return e=i.registrationPromise,i.installationEntry});return r.fid===Yu?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function SC(t){const e=t||{fid:gC(),registrationStatus:0};return W0(e)}function kC(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Bn.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=EC(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:TC(t)}:{installationEntry:e}}async function EC(t,e){try{const r=await hC(t,e);return Wa(t.appConfig,r)}catch(r){throw $0(r)&&r.customData.serverCode===409?await q0(t.appConfig):await Wa(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function TC(t){let e=await Zp(t.appConfig);for(;e.registrationStatus===1;)await z0(100),e=await Zp(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await If(t);return n||r}return e}function Zp(t){return bl(t,e=>{if(!e)throw Bn.create("installation-not-found");return W0(e)})}function W0(t){return jC(t)?{fid:t.fid,registrationStatus:0}:t}function jC(t){return t.registrationStatus===1&&t.registrationTime+A0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CC({appConfig:t,heartbeatServiceProvider:e},r){const n=NC(t,r),s=uC(t,r),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={installation:{sdkVersion:O0,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},c=await M0(()=>fetch(n,a));if(c.ok){const u=await c.json();return D0(u)}else throw await F0("Generate Auth Token",c)}function NC(t,{fid:e}){return`${L0(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pf(t,e=!1){let r;const n=await bl(t.appConfig,i=>{if(!G0(i))throw Bn.create("not-registered");const o=i.authToken;if(!e&&AC(o))return i;if(o.requestStatus===1)return r=IC(t,e),i;{if(!navigator.onLine)throw Bn.create("app-offline");const a=RC(i);return r=PC(t,a),a}});return r?await r:n.authToken}async function IC(t,e){let r=await em(t.appConfig);for(;r.authToken.requestStatus===1;)await z0(100),r=await em(t.appConfig);const n=r.authToken;return n.requestStatus===0?Pf(t,e):n}function em(t){return bl(t,e=>{if(!G0(e))throw Bn.create("not-registered");const r=e.authToken;return $C(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function PC(t,e){try{const r=await CC(t,e),n=Object.assign(Object.assign({},e),{authToken:r});return await Wa(t.appConfig,n),r}catch(r){if($0(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await q0(t.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Wa(t.appConfig,n)}throw r}}function G0(t){return t!==void 0&&t.registrationStatus===2}function AC(t){return t.requestStatus===2&&!OC(t)}function OC(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+oC}function RC(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function $C(t){return t.requestStatus===1&&t.requestTime+A0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LC(t){const e=t,{installationEntry:r,registrationPromise:n}=await If(e);return n?n.catch(console.error):Pf(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DC(t,e=!1){const r=t;return await FC(r),(await Pf(r,e)).token}async function FC(t){const{registrationPromise:e}=await If(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(t){if(!t||!t.options)throw Ic("App Configuration");if(!t.name)throw Ic("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw Ic(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Ic(t){return Bn.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0="installations",MC="installations-internal",zC=t=>{const e=t.getProvider("app").getImmediate(),r=UC(e),n=Js(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},BC=t=>{const e=t.getProvider("app").getImmediate(),r=Js(e,K0).getImmediate();return{getId:()=>LC(r),getToken:s=>DC(r,s)}};function VC(){kr(new er(K0,zC,"PUBLIC")),kr(new er(MC,BC,"PRIVATE"))}VC();Yt(P0,Cf);Yt(P0,Cf,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga="analytics",HC="firebase_id",qC="origin",WC=60*1e3,GC="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Af="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lt=new yf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},mt=new Kn("analytics","Analytics",KC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(t){if(!t.startsWith(Af)){const e=mt.create("invalid-gtag-resource",{gtagURL:t});return lt.warn(e.message),""}return t}function J0(t){return Promise.all(t.map(e=>e.catch(r=>r)))}function YC(t,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(t,e)),r}function QC(t,e){const r=YC("firebase-js-sdk-policy",{createScriptURL:JC}),n=document.createElement("script"),s=`${Af}?l=${t}&id=${e}`;n.src=r?r==null?void 0:r.createScriptURL(s):s,n.async=!0,document.head.appendChild(n)}function XC(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function ZC(t,e,r,n,s,i){const o=n[s];try{if(o)await e[o];else{const c=(await J0(r)).find(u=>u.measurementId===s);c&&await e[c.appId]}}catch(a){lt.error(a)}t("config",s,i)}async function eN(t,e,r,n,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await J0(r);for(const c of o){const u=a.find(f=>f.measurementId===c),d=u&&e[u.appId];if(d)i.push(d);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",n,s||{})}catch(i){lt.error(i)}}function tN(t,e,r,n){async function s(i,...o){try{if(i==="event"){const[a,c]=o;await eN(t,e,r,a,c)}else if(i==="config"){const[a,c]=o;await ZC(t,e,r,n,a,c)}else if(i==="consent"){const[a,c]=o;t("consent",a,c)}else if(i==="get"){const[a,c,u]=o;t("get",a,c,u)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){lt.error(a)}}return s}function rN(t,e,r,n,s){let i=function(...o){window[n].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=tN(i,t,e,r),{gtagCore:i,wrappedGtag:window[s]}}function nN(t){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(Af)&&r.src.includes(t))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN=30,iN=1e3;class oN{constructor(e={},r=iN){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Y0=new oN;function aN(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function lN(t){var e;const{appId:r,apiKey:n}=t,s={method:"GET",headers:aN(n)},i=GC.replace("{app-id}",r),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let a="";try{const c=await o.json();!((e=c.error)===null||e===void 0)&&e.message&&(a=c.error.message)}catch{}throw mt.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function cN(t,e=Y0,r){const{appId:n,apiKey:s,measurementId:i}=t.options;if(!n)throw mt.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:n};throw mt.create("no-api-key")}const o=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new fN;return setTimeout(async()=>{a.abort()},WC),Q0({appId:n,apiKey:s,measurementId:i},o,a,e)}async function Q0(t,{throttleEndTimeMillis:e,backoffCount:r},n,s=Y0){var i;const{appId:o,measurementId:a}=t;try{await uN(n,e)}catch(c){if(a)return lt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw c}try{const c=await lN(t);return s.deleteThrottleMetadata(o),c}catch(c){const u=c;if(!dN(u)){if(s.deleteThrottleMetadata(o),a)return lt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw c}const d=Number((i=u==null?void 0:u.customData)===null||i===void 0?void 0:i.httpStatus)===503?Ep(r,s.intervalMillis,sN):Ep(r,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+d,backoffCount:r+1};return s.setThrottleMetadata(o,f),lt.debug(`Calling attemptFetch again in ${d} millis`),Q0(t,f,n,s)}}function uN(t,e){return new Promise((r,n)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(r,s);t.addEventListener(()=>{clearTimeout(i),n(mt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function dN(t){if(!(t instanceof tr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class fN{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function hN(t,e,r,n,s){if(s&&s.global){t("event",r,n);return}else{const i=await e,o=Object.assign(Object.assign({},n),{send_to:i});t("event",r,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pN(){if(zv())try{await Bv()}catch(t){return lt.warn(mt.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return lt.warn(mt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function mN(t,e,r,n,s,i,o){var a;const c=cN(t);c.then(m=>{r[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&lt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>lt.error(m)),e.push(c);const u=pN().then(m=>{if(m)return n.getId()}),[d,f]=await Promise.all([c,u]);nN(i)||QC(i,d.measurementId),s("js",new Date);const h=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return h[qC]="firebase",h.update=!0,f!=null&&(h[HC]=f),s("config",d.measurementId,h),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e){this.app=e}_delete(){return delete Ci[this.app.options.appId],Promise.resolve()}}let Ci={},tm=[];const rm={};let Pc="dataLayer",yN="gtag",nm,X0,sm=!1;function vN(){const t=[];if(Mv()&&t.push("This is a browser extension environment."),bk()||t.push("Cookies are not available."),t.length>0){const e=t.map((n,s)=>`(${s+1}) ${n}`).join(" "),r=mt.create("invalid-analytics-context",{errorInfo:e});lt.warn(r.message)}}function wN(t,e,r){vN();const n=t.options.appId;if(!n)throw mt.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)lt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw mt.create("no-api-key");if(Ci[n]!=null)throw mt.create("already-exists",{id:n});if(!sm){XC(Pc);const{wrappedGtag:i,gtagCore:o}=rN(Ci,tm,rm,Pc,yN);X0=i,nm=o,sm=!0}return Ci[n]=mN(t,tm,rm,e,nm,Pc,r),new gN(t)}function bN(t=Gv()){t=wt(t);const e=Js(t,Ga);return e.isInitialized()?e.getImmediate():xN(t)}function xN(t,e={}){const r=Js(t,Ga);if(r.isInitialized()){const s=r.getImmediate();if(Zi(e,r.getOptions()))return s;throw mt.create("already-initialized")}return r.initialize({options:e})}function _N(t,e,r,n){t=wt(t),hN(X0,Ci[t.app.options.appId],e,r,n).catch(s=>lt.error(s))}const im="@firebase/analytics",om="0.10.8";function SN(){kr(new er(Ga,(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return wN(n,s,r)},"PUBLIC")),kr(new er("analytics-internal",t,"PRIVATE")),Yt(im,om),Yt(im,om,"esm2017");function t(e){try{const r=e.getProvider(Ga).getImmediate();return{logEvent:(n,s,i)=>_N(r,n,s,i)}}catch(r){throw mt.create("interop-component-reg-failed",{reason:r})}}}SN();const kN={apiKey:"AIzaSyDHjkB9XX8tHc1GSeYofMgg9ckqeMtgZmg",authDomain:"leadlines-portal.firebaseapp.com",projectId:"leadlines-portal",storageBucket:"leadlines-portal.firebasestorage.app",messagingSenderId:"966858129098",appId:"1:966858129098:web:96ee31a034cccb1a8bbe33",measurementId:"G-05EYVQS5E8"},Z0=Wv(kN),be=tC(Z0);bN(Z0);const EN="modulepreload",TN=function(t,e){return new URL(t,e).href},am={},Ms=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),c=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(u=>{if(u=TN(u,n),u in am)return;am[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(!!n)for(let v=o.length-1;v>=0;v--){const w=o[v];if(w.href===u&&(!d||w.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${f}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":EN,d||(m.as="script"),m.crossOrigin="",m.href=u,c&&m.setAttribute("nonce",c),document.head.appendChild(m),d)return new Promise((v,w)=>{m.addEventListener("load",v),m.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},jN=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ms(async()=>{const{default:n}=await Promise.resolve().then(()=>Ys);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Of extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class CN extends Of{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class NN extends Of{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class IN extends Of{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Qu;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Qu||(Qu={}));var PN=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((n=n.apply(t,e||[])).next())})};class AN{constructor(e,{headers:r={},customFetch:n,region:s=Qu.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=jN(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return PN(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let a={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(a["x-region"]=c);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:u}).catch(v=>{throw new CN(v)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new NN(d);if(!d.ok)throw new IN(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return h==="application/json"?m=yield d.json():h==="application/octet-stream"?m=yield d.blob():h==="text/event-stream"?m=d:h==="multipart/form-data"?m=yield d.formData():m=yield d.text(),{data:m,error:null}}catch(s){return{data:null,error:s}}})}}var rt={},Rf={},xl={},wo={},_l={},Sl={},ON=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},zs=ON();const RN=zs.fetch,ew=zs.fetch.bind(zs),tw=zs.Headers,$N=zs.Request,LN=zs.Response,Ys=Object.freeze(Object.defineProperty({__proto__:null,Headers:tw,Request:$N,Response:LN,default:ew,fetch:RN},Symbol.toStringTag,{value:"Module"})),DN=Pb(Ys);var kl={};Object.defineProperty(kl,"__esModule",{value:!0});let FN=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};kl.default=FN;var rw=Ct&&Ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Sl,"__esModule",{value:!0});const UN=rw(DN),MN=rw(kl);let zN=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=UN.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,c;let u=null,d=null,f=null,h=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const w=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),_=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");w&&_&&_.length>1&&(f=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const w=await i.text();try{u=JSON.parse(w),Array.isArray(u)&&i.status===404&&(d=[],u=null,h=200,m="OK")}catch{i.status===404&&w===""?(h=204,m="No Content"):u={message:w}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,m="OK"),u&&this.shouldThrowOnError)throw new MN.default(u)}return{error:u,data:d,count:f,status:h,statusText:m}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};Sl.default=zN;var BN=Ct&&Ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_l,"__esModule",{value:!0});const VN=BN(Sl);let HN=class extends VN.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const c=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};_l.default=HN;var qN=Ct&&Ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wo,"__esModule",{value:!0});const WN=qN(_l);let GN=class extends WN.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};wo.default=GN;var KN=Ct&&Ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xl,"__esModule",{value:!0});const li=KN(wo);let JN=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=r,this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new li.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(o.length>0){const a=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new li.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const c=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new li.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new li.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new li.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};xl.default=JN;var El={},Tl={};Object.defineProperty(Tl,"__esModule",{value:!0});Tl.version=void 0;Tl.version="0.0.0-automated";Object.defineProperty(El,"__esModule",{value:!0});El.DEFAULT_HEADERS=void 0;const YN=Tl;El.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${YN.version}`};var nw=Ct&&Ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Rf,"__esModule",{value:!0});const QN=nw(xl),XN=nw(wo),ZN=El;let e1=class sw{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},ZN.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new QN.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new sw(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let c;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{a.searchParams.append(d,f)})):(o="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new XN.default({method:o,url:a,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Rf.default=e1;var Qs=Ct&&Ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(rt,"__esModule",{value:!0});rt.PostgrestError=rt.PostgrestBuilder=rt.PostgrestTransformBuilder=rt.PostgrestFilterBuilder=rt.PostgrestQueryBuilder=rt.PostgrestClient=void 0;const iw=Qs(Rf);rt.PostgrestClient=iw.default;const ow=Qs(xl);rt.PostgrestQueryBuilder=ow.default;const aw=Qs(wo);rt.PostgrestFilterBuilder=aw.default;const lw=Qs(_l);rt.PostgrestTransformBuilder=lw.default;const cw=Qs(Sl);rt.PostgrestBuilder=cw.default;const uw=Qs(kl);rt.PostgrestError=uw.default;var t1=rt.default={PostgrestClient:iw.default,PostgrestQueryBuilder:ow.default,PostgrestFilterBuilder:aw.default,PostgrestTransformBuilder:lw.default,PostgrestBuilder:cw.default,PostgrestError:uw.default};const{PostgrestClient:r1,PostgrestQueryBuilder:nL,PostgrestFilterBuilder:sL,PostgrestTransformBuilder:iL,PostgrestBuilder:oL,PostgrestError:aL}=t1,n1="2.11.2",s1={"X-Client-Info":`realtime-js/${n1}`},i1="1.0.0",dw=1e4,o1=1e3;var Ps;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ps||(Ps={}));var ut;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ut||(ut={}));var $t;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})($t||($t={}));var Xu;(function(t){t.websocket="websocket"})(Xu||(Xu={}));var Tn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Tn||(Tn={}));class a1{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+s));o=o+s;const c=n.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:c,payload:u}}}class fw{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ae;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ae||(ae={}));const lm=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=l1(o,t,e,s),i),{})},l1=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?hw(i,o):Zu(o)},hw=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return f1(e,r)}switch(t){case ae.bool:return c1(e);case ae.float4:case ae.float8:case ae.int2:case ae.int4:case ae.int8:case ae.numeric:case ae.oid:return u1(e);case ae.json:case ae.jsonb:return d1(e);case ae.timestamp:return h1(e);case ae.abstime:case ae.date:case ae.daterange:case ae.int4range:case ae.int8range:case ae.money:case ae.reltime:case ae.text:case ae.time:case ae.timestamptz:case ae.timetz:case ae.tsrange:case ae.tstzrange:return Zu(e);default:return Zu(e)}},Zu=t=>t,c1=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},u1=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},d1=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},f1=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>hw(e,a))}return t},h1=t=>typeof t=="string"?t.replace(" ","T"):t,pw=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Ac{constructor(e,r,n={},s=dw){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var cm;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(cm||(cm={}));class Ni{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ni.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Ni.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ni.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),a={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(_=>_.presence_ref),m=f.map(_=>_.presence_ref),v=d.filter(_=>m.indexOf(_.presence_ref)<0),w=f.filter(_=>h.indexOf(_.presence_ref)<0);v.length>0&&(a[u]=v),w.length>0&&(c[u]=w)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:c},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,c)=>{var u;const d=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(c),d.length>0){const f=e[a].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);e[a].unshift(...h)}n(a,d,c)}),this.map(o,(a,c)=>{let u=e[a];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),e[a]=u,s(a,u,c),u.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var um;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(um||(um={}));var dm;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(dm||(dm={}));var ar;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ar||(ar={}));class $f{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=ut.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ac(this,$t.join,this.params,this.timeout),this.rejoinTimer=new fw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ut.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ut.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this._on($t.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Ni(this),this.broadcastEndpointURL=pw(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(d=>e==null?void 0:e(ar.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(ar.CLOSED));const c={},u={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){e==null||e(ar.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,m=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,v=[];for(let w=0;w<m;w++){const _=h[w],{filter:{event:g,schema:p,table:y,filter:x}}=_,E=d&&d[w];if(E&&E.event===g&&E.schema===p&&E.table===y&&E.filter===x)v.push(Object.assign(Object.assign({},_),{id:E.id}));else{this.unsubscribe(),e==null||e(ar.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(ar.SUBSCRIBED);return}}).receive("error",d=>{e==null||e(ar.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ar.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ut.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger($t.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new Ac(this,$t.leave,{},e);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ac(this,e,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:c,leave:u,join:d}=$t;if(n&&[a,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var v,w,_;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((_=(w=m.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var v,w,_,g,p,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const x=m.id,E=(v=m.filter)===null||v===void 0?void 0:v.event;return x&&((w=r.ids)===null||w===void 0?void 0:w.includes(x))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const x=(p=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return x==="*"||x===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:w,table:_,commit_timestamp:g,type:p,errors:y}=v;h=Object.assign(Object.assign({},{schema:w,table:_,commit_timestamp:g,eventType:p,new:{},old:{},errors:y}),this._getPayloadRecords(v))}m.callback(h,n)})}_isClosed(){return this.state===ut.closed}_isJoined(){return this.state===ut.joined}_isJoining(){return this.state===ut.joining}_isLeaving(){return this.state===ut.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&$f.isEqual(s.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on($t.close,{},e)}_onError(e){this._on($t.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ut.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=lm(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=lm(e.columns,e.old_record)),r}}const p1=()=>{},m1=typeof WebSocket<"u",g1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class y1{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=s1,this.params={},this.timeout=dw,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=p1,this.conn=null,this.sendBuffer=[],this.serializer=new a1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Ms(async()=>{const{default:c}=await Promise.resolve().then(()=>Ys);return{default:c}},void 0,import.meta.url).then(({default:c})=>c(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Xu.websocket}`,this.httpEndpoint=pw(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new fw(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(m1){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new v1(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Ms(async()=>{const{default:e}=await import("./browser-DqT_6bKO.js").then(r=>r.b);return{default:e}},[],import.meta.url).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:i1}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ps.connecting:return Tn.Connecting;case Ps.open:return Tn.Open;case Ps.closing:return Tn.Closing;default:return Tn.Closed}}isConnected(){return this.connectionState()===Tn.Open}channel(e,r={config:{}}){const n=new $f(`realtime:${e}`,r,this);return this.channels.push(n),n}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push($t.access_token,{access_token:r})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(o1,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(n)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger($t.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([g1],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class v1{constructor(e,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ps.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class Lf extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ne(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class w1 extends Lf{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ed extends Lf{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var b1=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((n=n.apply(t,e||[])).next())})};const mw=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ms(async()=>{const{default:n}=await Promise.resolve().then(()=>Ys);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},x1=()=>b1(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ms(()=>Promise.resolve().then(()=>Ys),void 0,import.meta.url)).Response:Response}),td=t=>{if(Array.isArray(t))return t.map(r=>td(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=td(n)}),e};var Yn=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((n=n.apply(t,e||[])).next())})};const Oc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),_1=(t,e,r)=>Yn(void 0,void 0,void 0,function*(){const n=yield x1();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{e(new w1(Oc(s),t.status||500))}).catch(s=>{e(new ed(Oc(s),s))}):e(new ed(Oc(t),t))}),S1=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function bo(t,e,r,n,s,i){return Yn(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,S1(e,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>_1(c,a,n))})})}function Ka(t,e,r,n){return Yn(this,void 0,void 0,function*(){return bo(t,"GET",e,r,n)})}function Fr(t,e,r,n,s){return Yn(this,void 0,void 0,function*(){return bo(t,"POST",e,n,s,r)})}function k1(t,e,r,n,s){return Yn(this,void 0,void 0,function*(){return bo(t,"PUT",e,n,s,r)})}function E1(t,e,r,n){return Yn(this,void 0,void 0,function*(){return bo(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function gw(t,e,r,n,s){return Yn(this,void 0,void 0,function*(){return bo(t,"DELETE",e,n,s,r)})}var Qe=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((n=n.apply(t,e||[])).next())})};const T1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},fm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class j1{constructor(e,r={},n,s){this.url=e,this.headers=r,this.bucketId=n,this.fetch=mw(s)}uploadOrUpdate(e,r,n,s){return Qe(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},fm),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(Ne(i))return{data:null,error:i};throw i}})}upload(e,r,n){return Qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return Qe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:fm.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(Ne(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return Qe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Fr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Lf("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(Ne(n))return{data:null,error:n};throw n}})}update(e,r,n){return Qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Qe(this,void 0,void 0,function*(){try{return{data:yield Fr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Ne(s))return{data:null,error:s};throw s}})}copy(e,r,n){return Qe(this,void 0,void 0,function*(){try{return{data:{path:(yield Fr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Ne(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return Qe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Fr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Ne(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return Qe(this,void 0,void 0,function*(){try{const s=yield Fr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Ne(s))return{data:null,error:s};throw s}})}download(e,r){return Qe(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Ka(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Ne(a))return{data:null,error:a};throw a}})}info(e){return Qe(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Ka(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:td(n),error:null}}catch(n){if(Ne(n))return{data:null,error:n};throw n}})}exists(e){return Qe(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield E1(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Ne(n)&&n instanceof ed){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(e){return Qe(this,void 0,void 0,function*(){try{return{data:yield gw(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(Ne(r))return{data:null,error:r};throw r}})}list(e,r,n){return Qe(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},T1),r),{prefix:e||""});return{data:yield Fr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Ne(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const C1="2.7.1",N1={"X-Client-Info":`storage-js/${C1}`};var ns=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((n=n.apply(t,e||[])).next())})};class I1{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},N1),r),this.fetch=mw(n)}listBuckets(){return ns(this,void 0,void 0,function*(){try{return{data:yield Ka(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Ne(e))return{data:null,error:e};throw e}})}getBucket(e){return ns(this,void 0,void 0,function*(){try{return{data:yield Ka(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(Ne(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return ns(this,void 0,void 0,function*(){try{return{data:yield Fr(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ne(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return ns(this,void 0,void 0,function*(){try{return{data:yield k1(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ne(n))return{data:null,error:n};throw n}})}emptyBucket(e){return ns(this,void 0,void 0,function*(){try{return{data:yield Fr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Ne(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ns(this,void 0,void 0,function*(){try{return{data:yield gw(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(Ne(r))return{data:null,error:r};throw r}})}}class P1 extends I1{constructor(e,r={},n){super(e,r,n)}from(e){return new j1(this.url,this.headers,e,this.fetch)}}const A1="2.49.4";let gi="";typeof Deno<"u"?gi="deno":typeof document<"u"?gi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?gi="react-native":gi="node";const O1={"X-Client-Info":`supabase-js-${gi}/${A1}`},R1={headers:O1},$1={schema:"public"},L1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},D1={};var F1=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((n=n.apply(t,e||[])).next())})};const U1=t=>{let e;return t?e=t:typeof fetch>"u"?e=ew:e=fetch,(...r)=>e(...r)},M1=()=>typeof Headers>"u"?tw:Headers,z1=(t,e,r)=>{const n=U1(r),s=M1();return(i,o)=>F1(void 0,void 0,void 0,function*(){var a;const c=(a=yield e())!==null&&a!==void 0?a:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var B1=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((n=n.apply(t,e||[])).next())})};function V1(t){return t.replace(/\/$/,"")}function H1(t,e){const{db:r,auth:n,realtime:s,global:i}=t,{db:o,auth:a,realtime:c,global:u}=e,d={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},a),n),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},u),i),accessToken:()=>B1(this,void 0,void 0,function*(){return""})};return t.accessToken?d.accessToken=t.accessToken:delete d.accessToken,d}const yw="2.69.1",as=30*1e3,rd=3,Rc=rd*as,q1="http://localhost:9999",W1="supabase.auth.token",G1={"X-Client-Info":`gotrue-js/${yw}`},nd="X-Supabase-Api-Version",vw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},K1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,J1=6e5;class Df extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function G(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Y1 extends Df{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Q1(t){return G(t)&&t.name==="AuthApiError"}class ww extends Df{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class yn extends Df{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Rr extends yn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function X1(t){return G(t)&&t.name==="AuthSessionMissingError"}class $c extends yn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Bo extends yn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Vo extends yn{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Z1(t){return G(t)&&t.name==="AuthImplicitGrantRedirectError"}class hm extends yn{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class sd extends yn{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Lc(t){return G(t)&&t.name==="AuthRetryableFetchError"}class pm extends yn{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Ii extends yn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const mm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),gm=` 	
\r=`.split(""),eI=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<gm.length;e+=1)t[gm[e].charCodeAt(0)]=-2;for(let e=0;e<mm.length;e+=1)t[mm[e].charCodeAt(0)]=e;return t})();function bw(t,e,r){const n=eI[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function ym(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{nI(o,n,r)};for(let o=0;o<t.length;o+=1)bw(t.charCodeAt(o),s,i);return e.join("")}function tI(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function rI(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}tI(n,e)}}function nI(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function sI(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)bw(t.charCodeAt(s),r,n);return new Uint8Array(e)}function iI(t){const e=[];return rI(t,r=>e.push(r)),new Uint8Array(e)}function oI(t){return Math.round(Date.now()/1e3)+t}function aI(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Vt=()=>typeof window<"u"&&typeof document<"u",bn={tested:!1,writable:!1},Pi=()=>{if(!Vt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(bn.tested)return bn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),bn.tested=!0,bn.writable=!0}catch{bn.tested=!0,bn.writable=!1}return bn.writable};function lI(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const xw=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ms(async()=>{const{default:n}=await Promise.resolve().then(()=>Ys);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},cI=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",_w=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Ho=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},qo=async(t,e)=>{await t.removeItem(e)};class jl{constructor(){this.promise=new jl.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}jl.promiseConstructor=Promise;function Dc(t){const e=t.split(".");if(e.length!==3)throw new Ii("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!K1.test(e[n]))throw new Ii("JWT not in base64url format");return{header:JSON.parse(ym(e[0])),payload:JSON.parse(ym(e[1])),signature:sI(e[2]),raw:{header:e[0],payload:e[1]}}}async function uI(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function dI(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function fI(t){return("0"+t.toString(16)).substr(-2)}function hI(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,fI).join("")}async function pI(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function mI(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await pI(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ss(t,e,r=!1){const n=hI();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await _w(t,`${e}-code-verifier`,s);const i=await mI(n);return[i,n===i?"plain":"s256"]}const gI=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function yI(t){const e=t.headers.get(nd);if(!e||!e.match(gI))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function vI(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function wI(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var bI=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const En=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),xI=[502,503,504];async function vm(t){var e;if(!cI(t))throw new sd(En(t),0);if(xI.includes(t.status))throw new sd(En(t),t.status);let r;try{r=await t.json()}catch(i){throw new ww(En(i),i)}let n;const s=yI(t);if(s&&s.getTime()>=vw["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new pm(En(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Rr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new pm(En(r),t.status,r.weak_password.reasons);throw new Y1(En(r),t.status||500,n)}const _I=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function X(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[nd]||(i[nd]=vw["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await SI(t,e,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function SI(t,e,r,n,s,i){const o=_I(e,n,s,i);let a;try{a=await t(r,Object.assign({},o))}catch(c){throw console.error(c),new sd(En(c),0)}if(a.ok||await vm(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(c){await vm(c)}}function $r(t){var e;let r=null;jI(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=oI(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function wm(t){const e=$r(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Wr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function kI(t){return{data:t,error:null}}function EI(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=bI(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:a,user:c},error:null}}function TI(t){return t}function jI(t){return t.access_token&&t.refresh_token&&t.expires_in}var CI=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class NI{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=xw(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r="global"){try{return await X(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(G(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await X(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Wr})}catch(n){if(G(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=CI(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await X(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:EI,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(G(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await X(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Wr})}catch(r){if(G(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,a,c;try{const u={nextPage:null,lastPage:0,total:0},d=await X(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:TI});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(v.split(";")[1].split("=")[1]);u[`${_}Page`]=w}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(G(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await X(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Wr})}catch(r){if(G(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){try{return await X(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Wr})}catch(n){if(G(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){try{return await X(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Wr})}catch(n){if(G(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:r,error:n}=await X(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(G(r))return{data:null,error:r};throw r}}async _deleteFactor(e){try{return{data:await X(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(G(r))return{data:null,error:r};throw r}}}const II={getItem:t=>Pi()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Pi()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Pi()&&globalThis.localStorage.removeItem(t)}};function bm(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function PI(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const is={debug:!!(globalThis&&Pi()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Sw extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class AI extends Sw{}async function OI(t,e,r){is.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),is.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){is.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{is.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw is.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new AI(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(is.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}PI();const RI={url:q1,storageKey:W1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:G1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function xm(t,e,r){return await r()}class ro{constructor(e){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ro.nextInstanceID,ro.nextInstanceID+=1,this.instanceID>0&&Vt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},RI),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new NI({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=xw(s.fetch),this.lock=s.lock||xm,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Vt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=OI:this.lock=xm,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Pi()?this.storage=II:(this.memoryStorage={},this.storage=bm(this.memoryStorage)):(this.memoryStorage={},this.storage=bm(this.memoryStorage)),Vt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${yw}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=lI(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Vt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Z1(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return G(r)?{error:r}:{error:new ww("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await X(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:$r}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(G(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:f,options:h}=e;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await ss(this.storage,this.storageKey)),i=await X(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:v},xform:$r})}else if("phone"in e){const{phone:d,password:f,options:h}=e;i=await X(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:$r})}else throw new Bo("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(G(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await X(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:wm})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await X(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:wm})}else throw new Bo("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new $c}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(G(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const r=await Ho(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await X(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:$r});if(await qo(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new $c}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(G(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,a=await X(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:$r}),{data:c,error:u}=a;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new $c}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(G(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:a,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ss(this.storage,this.storageKey));const{error:f}=await X(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:a,options:c}=e,{data:u,error:d}=await X(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Bo("You must provide either an email or phone number.")}catch(a){if(G(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await X(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:$r});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(G(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await ss(this.storage,this.storageKey)),await X(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:kI})}catch(i){if(G(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Rr;const{error:s}=await X(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(G(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await X(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:a}=await X(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Bo("You must provide either an email or phone number and a type")}catch(r){if(G(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Ho(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Rc:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await X(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Wr}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Rr}:await X(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Wr})})}catch(r){if(G(r))return X1(r)&&(await this._removeSession(),await qo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Rr;const o=s.session;let a=null,c=null;this.flowType==="pkce"&&e.email!=null&&([a,c]=await ss(this.storage,this.storageKey));const{data:u,error:d}=await X(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:c}),jwt:o.access_token,xform:Wr});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(G(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Rr;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Dc(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:a,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(G(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Rr;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(G(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Vt())throw new Vo("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Vo(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new hm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Vo("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new hm("No code detected.");const{data:p,error:y}=await this._exchangeCodeForSession(e.code);if(y)throw y;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:c,token_type:u}=e;if(!i||!a||!o||!u)throw new Vo("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=as&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const v=h-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,d);const{data:w,error:_}=await this._getUser(i);if(_)throw _;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(n){if(G(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Ho(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Q1(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await qo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=aI(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await ss(this.storage,this.storageKey,!0));try{return await X(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(G(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(G(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,c,u,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await X(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Vt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(G(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await X(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(G(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await dI(async s=>(s>0&&await uI(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await X(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:$r})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Lc(i)&&Date.now()+o-n<as})}catch(n){if(this._debug(r,"error",n),G(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Vt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Ho(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Rc;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Rc}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Lc(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Rr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new jl;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Rr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),G(i)){const o={session:null,error:i};return Lc(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await _w(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await qo(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Vt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),as);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/as);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${as}ms, refresh threshold is ${rd} ticks`),s<=rd&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Sw)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Vt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await ss(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await X(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(G(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await X(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(G(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await X(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(G(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await X(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(G(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Dc(s.access_token);let a=null;o.aal&&(a=o.aal);let c=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n||(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+J1>Date.now()))return n;const{data:s,error:i}=await X(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Ii("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(o=>o.kid===e),!n)throw new Ii("No matching signing key found in JWKS");return n}async getClaims(e,r={keys:[]}){try{let n=e;if(!n){const{data:m,error:v}=await this.getSession();if(v||!m.session)return{data:null,error:v};n=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:c}}=Dc(n);if(vI(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const u=wI(s.alg),d=await this.fetchJwk(s.kid,r),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,o,iI(`${a}.${c}`)))throw new Ii("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(G(n))return{data:null,error:n};throw n}}}ro.nextInstanceID=0;const $I=ro;class LI extends $I{constructor(e){super(e)}}var DI=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((n=n.apply(t,e||[])).next())})};class FI{constructor(e,r,n){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=V1(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:$1,realtime:D1,auth:Object.assign(Object.assign({},L1),{storageKey:c}),global:R1},d=H1(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=z1(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new r1(`${a}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new AN(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new P1(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return DI(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:a,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new LI({url:this.authUrl,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:a,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new y1(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const UI=(t,e,r)=>new FI(t,e,r);var kw={};const MI=kw.REACT_APP_SUPABASE_URL||"https://jaicupcmdaypybsbbacz.supabase.co",zI=kw.REACT_APP_SUPABASE_ANON_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImphaWN1cGNtZGF5cHlic2JiYWN6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM3MzE4OTcsImV4cCI6MjA1OTMwNzg5N30.x4PDKEcqKhOlmY5B-9nBtewcB6voNG5SC0TJ2wQ1yQE";let q;try{q=UI(MI,zI,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},global:{headers:{"x-firebase-auth":"true","X-Client-Info":"leadlines-app"}}}),console.log("Supabase client initialized successfully")}catch(t){console.error("Error initializing Supabase client:",t),q={from:()=>({select:()=>({eq:()=>({data:[],error:null}),single:()=>({data:null,error:null})}),insert:()=>({data:null,error:null}),update:()=>({eq:()=>({data:null,error:null})})}),storage:{from:()=>({upload:()=>({data:null,error:null}),createSignedUrl:()=>({data:null,error:null})})}}}const Ew=b.createContext(),bt=()=>b.useContext(Ew),BI=({children:t})=>{const[e,r]=b.useState(null),[n,s]=b.useState(!0),[i,o]=b.useState({}),a=async(g,p)=>{try{const x=(await DT(be,g,p)).user,E={integrations:{instantly:{apiKey:"",isConnected:!1}}};localStorage.setItem(`user_settings_${x.uid}`,JSON.stringify({[x.uid]:E})),o({[x.uid]:E});try{await q.from("users").insert({firebase_uid:x.uid,email:x.email,full_name:"New User",company:"Your Company",role:"Your Role",onboarding_completed:!1}),await q.from("user_settings").insert({firebase_uid:x.uid,notifications:{email:!0,browser:!1,mobile:!0},integrations:E.integrations})}catch(k){console.error("Error creating user records in Supabase:",k)}return x}catch(y){throw console.error("Error creating user:",y),y}},c=async(g,p)=>{try{const x=(await FT(be,g,p)).user,E=localStorage.getItem(`user_settings_${x.uid}`);if(E)o(JSON.parse(E));else{const k={[x.uid]:{integrations:{instantly:{apiKey:"",isConnected:!1}}}};o(k),localStorage.setItem(`user_settings_${x.uid}`,JSON.stringify(k))}try{const{data:k,error:T}=await q.from("users").select("*").eq("firebase_uid",x.uid).single();T&&T.code==="PGRST116"&&(await q.from("users").insert({firebase_uid:x.uid,email:x.email,full_name:"New User",company:"Your Company",role:"Your Role",onboarding_completed:!1}),await q.from("user_settings").insert({firebase_uid:x.uid,notifications:{email:!0,browser:!1,mobile:!0},integrations:{instantly:{apiKey:"",isConnected:!1}}}))}catch(k){console.error("Error checking/creating user in Supabase:",k)}return x}catch(y){throw console.error("Error signing in:",y),y}},u=async g=>{if(!g)return!1;try{const{data:p,error:y}=await q.from("users").select("onboarding_completed").eq("firebase_uid",g.uid).single();return y?(console.error("Error checking onboarding status:",y),!1):(p==null?void 0:p.onboarding_completed)||!1}catch(p){return console.error("Error checking onboarding status:",p),!1}},d=async g=>{if(!g)return!1;try{const{error:p}=await q.from("users").update({onboarding_completed:!0}).eq("firebase_uid",g.uid);return p?(console.error("Error completing onboarding:",p),!1):!0}catch(p){return console.error("Error completing onboarding:",p),!1}},f=async()=>{try{await HT(be),o({})}catch(g){throw console.error("Error signing out:",g),g}},h=async g=>{try{await LT(be,g)}catch(p){throw console.error("Error sending password reset email:",p),p}},m=async(g,p)=>{if(!e)throw new Error("No user is currently logged in");try{const y=Jn.credential(e.email,g);await $T(e,y),await UT(e,p)}catch(y){throw console.error("Error updating password:",y),y.code==="auth/wrong-password"?new Error("Current password is incorrect"):y.code==="auth/weak-password"?new Error("New password is too weak"):new Error("Failed to update password")}},v=g=>{if(!e)return;const p={...i,[e.uid]:g};o(p),localStorage.setItem(`user_settings_${e.uid}`,JSON.stringify(p)),q.from("user_settings").update({integrations:g.integrations||{}}).eq("firebase_uid",e.uid).then(({error:y})=>{y&&console.error("Error updating user settings in Supabase:",y)})},w=()=>!e||!i[e.uid]?null:i[e.uid];b.useEffect(()=>VT(be,p=>{if(r(p),s(!1),p){const y=localStorage.getItem(`user_settings_${p.uid}`);y&&o(JSON.parse(y)),q.from("user_settings").select("*").eq("firebase_uid",p.uid).single().then(({data:x,error:E})=>{if(!E&&x){const k=i[p.uid]||{},T={...i,[p.uid]:{...k,integrations:x.integrations||k.integrations}};o(T),localStorage.setItem(`user_settings_${p.uid}`,JSON.stringify(T))}})}}),[]);const _={currentUser:e,signup:a,login:c,logout:f,resetPassword:h,updatePassword:m,loading:n,updateUserSettings:v,getUserSettings:w,checkOnboardingStatus:u,completeOnboarding:d};return l.jsx(Ew.Provider,{value:_,children:!n&&t})},At=({children:t})=>{const e=Ks(),r=Cr(),{currentUser:n,logout:s,checkOnboardingStatus:i}=bt(),[o,a]=b.useState(!1),[c,u]=b.useState(!1),[d,f]=b.useState(!1),h=b.useRef(null),m=b.useRef(null);e.pathname;const v=e.pathname==="/login",w=e.pathname==="/register",_=n;b.useEffect(()=>{(async()=>{if(n&&(v||w))try{const A=await i(n);r(A?"/dashboard":"/onboarding")}catch(A){console.error("Error checking onboarding status:",A),r("/dashboard")}})()},[n,v,w,r,i]);const g=()=>{if(!n)return"U";const T=n.email.split("@")[0];return T?T[0].toUpperCase():"U"},p=()=>{var T;if(c){u(!1),f(!0);const A=U=>{var S;U.propertyName==="width"&&(f(!1),(S=m.current)==null||S.removeEventListener("transitionend",A))};(T=m.current)==null||T.addEventListener("transitionend",A)}else u(!0)},y=async()=>{try{await s(),a(!1)}catch(T){console.error("Failed to log out",T)}};b.useEffect(()=>{const T=A=>{h.current&&!h.current.contains(A.target)&&a(!1)};return document.addEventListener("mousedown",T),()=>{document.removeEventListener("mousedown",T)}},[]);const x=({fill:T="white"})=>l.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:T,children:l.jsx("path",{d:"M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"})}),E=({fill:T="white"})=>l.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:T,children:[l.jsx("path",{d:"M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"}),l.jsx("path",{d:"M12,11L8,15H10.5V18H13.5V15H16L12,11Z"})]}),k=({fill:T="white"})=>l.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:T,children:[l.jsx("path",{d:"M19,3H5C3.9,3 3,3.9 3,5V19C3,20.1 3.9,21 5,21H19C20.1,21 21,20.1 21,19V5C21,3.9 20.1,3 19,3M19,19H5V5H19V19Z"}),l.jsx("path",{d:"M7,7H17V9H7V7M7,11H17V13H7V11M7,15H14V17H7V15Z"})]});return l.jsxs("div",{className:"h-screen flex flex-col overflow-hidden",children:[l.jsx("header",{className:"bg-secondary text-text-light p-4 pb-3 relative",children:l.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[_&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"absolute left-0 top-0 w-44 h-full flex items-center bg-secondary",children:l.jsx(Et,{to:"/dashboard",className:"text-2xl font-bold hover:text-accent transition-colors block px-4 py-2 text-center w-full",children:"LeadLines"})}),l.jsx("div",{className:"w-44 invisible"}),l.jsx(Et,{to:"/agent",className:"bg-accent text-text-dark px-4 py-2 rounded-md hover:bg-accent-dark transition-colors",children:"AI Agent"})]}),!_&&l.jsxs(l.Fragment,{children:[l.jsx("h1",{className:"text-2xl font-bold",children:"LeadLines"}),l.jsx("div",{})," "]})]})}),l.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[_&&l.jsxs("aside",{ref:m,className:`bg-secondary text-text-light p-3 pt-2 flex flex-col relative transition-all duration-300 ease-out ${c?"w-22":"w-44"}`,style:{zIndex:40,overflow:"visible"},children:[l.jsx("button",{onClick:p,className:"absolute w-6 h-6 rounded-full bg-accent text-text-dark flex items-center justify-center hover:bg-accent-dark transition-colors",style:{right:"-12px",bottom:"60px",zIndex:9999},"aria-label":"Toggle sidebar",children:l.jsx("span",{className:"text-xs",children:c?"▶":"◀"})}),l.jsx("nav",{className:"mb-auto",children:l.jsxs("ul",{className:"space-y-3 mt-2",children:[l.jsx("li",{children:l.jsxs(Et,{to:"/dashboard",className:`nav-link block rounded-md relative ${e.pathname==="/dashboard"?"bg-accent text-text-dark":"bg-secondary text-text-light"} ${c&&!d?"w-10 h-10 mx-auto p-0 flex items-center justify-center":"py-2 px-4"}`,style:{transition:d?"none":"all 0.1s ease",whiteSpace:"nowrap"},children:[l.jsx("span",{className:`nav-text ${c||d?"opacity-0 pointer-events-none":"opacity-100"}`,style:{transition:d||c?"none":"opacity 0.15s ease-out"},children:"Dashboard"}),l.jsx("div",{className:`nav-icon absolute inset-0 flex items-center justify-center ${c&&!d?"opacity-100":"opacity-0"}`,style:{transition:c&&!d?"opacity 0.2s ease-in":"none"},children:l.jsx(x,{fill:e.pathname==="/dashboard"?"#17273f":"white"})})]})}),l.jsx("li",{children:l.jsxs(Et,{to:"/upload",className:`nav-link block rounded-md relative ${e.pathname.startsWith("/upload")?"bg-accent text-text-dark":"bg-secondary text-text-light"} ${c&&!d?"w-10 h-10 mx-auto p-0 flex items-center justify-center":"py-2 px-4"}`,style:{transition:d?"none":"all 0.1s ease",whiteSpace:"nowrap"},children:[l.jsx("span",{className:`nav-text ${c||d?"opacity-0 pointer-events-none":"opacity-100"}`,style:{transition:d||c?"none":"opacity 0.15s ease-out"},children:"CSV Upload"}),l.jsx("div",{className:`nav-icon absolute inset-0 flex items-center justify-center ${c&&!d?"opacity-100":"opacity-0"}`,style:{transition:c&&!d?"opacity 0.2s ease-in":"none"},children:l.jsx(E,{fill:e.pathname.startsWith("/upload")?"#17273f":"white"})})]})}),l.jsx("li",{children:l.jsxs(Et,{to:"/submissions",className:`nav-link block rounded-md relative ${e.pathname==="/submissions"?"bg-accent text-text-dark":"bg-secondary text-text-light"} ${c&&!d?"w-10 h-10 mx-auto p-0 flex items-center justify-center":"py-2 px-4"}`,style:{transition:d?"none":"all 0.1s ease",whiteSpace:"nowrap"},children:[l.jsx("span",{className:`nav-text ${c||d?"opacity-0 pointer-events-none":"opacity-100"}`,style:{transition:d||c?"none":"opacity 0.15s ease-out"},children:"Submissions"}),l.jsx("div",{className:`nav-icon absolute inset-0 flex items-center justify-center ${c&&!d?"opacity-100":"opacity-0"}`,style:{transition:c&&!d?"opacity 0.2s ease-in":"none"},children:l.jsx(k,{fill:e.pathname==="/submissions"?"#17273f":"white"})})]})})]})}),l.jsxs("div",{className:"mt-auto relative",ref:h,children:[l.jsx("button",{onClick:()=>a(!o),className:"w-full flex items-center justify-center p-2 hover:bg-secondary-dark rounded-md transition-colors","aria-label":"Profile menu",children:l.jsx("div",{className:"w-10 h-10 rounded-full bg-accent text-text-dark flex items-center justify-center font-medium",children:g()})}),o&&l.jsxs("div",{className:"absolute bottom-full left-0 right-0 mb-2 mx-auto w-auto min-w-full bg-white rounded-md shadow-lg py-1 z-10",children:[l.jsx(Et,{to:"/profile",className:"block px-4 py-2 text-text-dark hover:bg-gray-100",onClick:()=>a(!1),children:"Profile"}),l.jsx("button",{onClick:y,className:"block w-full text-left px-4 py-2 text-text-dark hover:bg-gray-100",children:"Log Out"})]})]})]}),l.jsx("main",{className:"flex-1 overflow-hidden",style:{zIndex:1},children:l.jsx("div",{className:"h-full overflow-y-auto p-4",children:l.jsx("div",{className:"container mx-auto",children:t})})})]})]})};var VI=function(e){return HI(e)&&!qI(e)};function HI(t){return!!t&&typeof t=="object"}function qI(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||KI(t)}var WI=typeof Symbol=="function"&&Symbol.for,GI=WI?Symbol.for("react.element"):60103;function KI(t){return t.$$typeof===GI}function JI(t){return Array.isArray(t)?[]:{}}function Ja(t,e){return e.clone!==!1&&e.isMergeableObject(t)?no(JI(t),t,e):t}function YI(t,e,r){return t.concat(e).map(function(n){return Ja(n,r)})}function QI(t,e,r){var n={};return r.isMergeableObject(t)&&Object.keys(t).forEach(function(s){n[s]=Ja(t[s],r)}),Object.keys(e).forEach(function(s){!r.isMergeableObject(e[s])||!t[s]?n[s]=Ja(e[s],r):n[s]=no(t[s],e[s],r)}),n}function no(t,e,r){r=r||{},r.arrayMerge=r.arrayMerge||YI,r.isMergeableObject=r.isMergeableObject||VI;var n=Array.isArray(e),s=Array.isArray(t),i=n===s;return i?n?r.arrayMerge(t,e,r):QI(t,e,r):Ja(e,r)}no.all=function(e,r){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(n,s){return no(n,s,r)},{})};var id=no,Tw=typeof global=="object"&&global&&global.Object===Object&&global,XI=typeof self=="object"&&self&&self.Object===Object&&self,nr=Tw||XI||Function("return this")(),dn=nr.Symbol,jw=Object.prototype,ZI=jw.hasOwnProperty,eP=jw.toString,ci=dn?dn.toStringTag:void 0;function tP(t){var e=ZI.call(t,ci),r=t[ci];try{t[ci]=void 0;var n=!0}catch{}var s=eP.call(t);return n&&(e?t[ci]=r:delete t[ci]),s}var rP=Object.prototype,nP=rP.toString;function sP(t){return nP.call(t)}var iP="[object Null]",oP="[object Undefined]",_m=dn?dn.toStringTag:void 0;function Qn(t){return t==null?t===void 0?oP:iP:_m&&_m in Object(t)?tP(t):sP(t)}function Cw(t,e){return function(r){return t(e(r))}}var Ff=Cw(Object.getPrototypeOf,Object);function Xn(t){return t!=null&&typeof t=="object"}var aP="[object Object]",lP=Function.prototype,cP=Object.prototype,Nw=lP.toString,uP=cP.hasOwnProperty,dP=Nw.call(Object);function Sm(t){if(!Xn(t)||Qn(t)!=aP)return!1;var e=Ff(t);if(e===null)return!0;var r=uP.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&Nw.call(r)==dP}function fP(){this.__data__=[],this.size=0}function Iw(t,e){return t===e||t!==t&&e!==e}function Cl(t,e){for(var r=t.length;r--;)if(Iw(t[r][0],e))return r;return-1}var hP=Array.prototype,pP=hP.splice;function mP(t){var e=this.__data__,r=Cl(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():pP.call(e,r,1),--this.size,!0}function gP(t){var e=this.__data__,r=Cl(e,t);return r<0?void 0:e[r][1]}function yP(t){return Cl(this.__data__,t)>-1}function vP(t,e){var r=this.__data__,n=Cl(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function Ir(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ir.prototype.clear=fP;Ir.prototype.delete=mP;Ir.prototype.get=gP;Ir.prototype.has=yP;Ir.prototype.set=vP;function wP(){this.__data__=new Ir,this.size=0}function bP(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function xP(t){return this.__data__.get(t)}function _P(t){return this.__data__.has(t)}function xo(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var SP="[object AsyncFunction]",kP="[object Function]",EP="[object GeneratorFunction]",TP="[object Proxy]";function Pw(t){if(!xo(t))return!1;var e=Qn(t);return e==kP||e==EP||e==SP||e==TP}var Fc=nr["__core-js_shared__"],km=function(){var t=/[^.]+$/.exec(Fc&&Fc.keys&&Fc.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function jP(t){return!!km&&km in t}var CP=Function.prototype,NP=CP.toString;function Zn(t){if(t!=null){try{return NP.call(t)}catch{}try{return t+""}catch{}}return""}var IP=/[\\^$.*+?()[\]{}|]/g,PP=/^\[object .+?Constructor\]$/,AP=Function.prototype,OP=Object.prototype,RP=AP.toString,$P=OP.hasOwnProperty,LP=RegExp("^"+RP.call($P).replace(IP,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function DP(t){if(!xo(t)||jP(t))return!1;var e=Pw(t)?LP:PP;return e.test(Zn(t))}function FP(t,e){return t==null?void 0:t[e]}function es(t,e){var r=FP(t,e);return DP(r)?r:void 0}var so=es(nr,"Map"),io=es(Object,"create");function UP(){this.__data__=io?io(null):{},this.size=0}function MP(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var zP="__lodash_hash_undefined__",BP=Object.prototype,VP=BP.hasOwnProperty;function HP(t){var e=this.__data__;if(io){var r=e[t];return r===zP?void 0:r}return VP.call(e,t)?e[t]:void 0}var qP=Object.prototype,WP=qP.hasOwnProperty;function GP(t){var e=this.__data__;return io?e[t]!==void 0:WP.call(e,t)}var KP="__lodash_hash_undefined__";function JP(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=io&&e===void 0?KP:e,this}function Hn(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Hn.prototype.clear=UP;Hn.prototype.delete=MP;Hn.prototype.get=HP;Hn.prototype.has=GP;Hn.prototype.set=JP;function YP(){this.size=0,this.__data__={hash:new Hn,map:new(so||Ir),string:new Hn}}function QP(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Nl(t,e){var r=t.__data__;return QP(e)?r[typeof e=="string"?"string":"hash"]:r.map}function XP(t){var e=Nl(this,t).delete(t);return this.size-=e?1:0,e}function ZP(t){return Nl(this,t).get(t)}function e2(t){return Nl(this,t).has(t)}function t2(t,e){var r=Nl(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function vn(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}vn.prototype.clear=YP;vn.prototype.delete=XP;vn.prototype.get=ZP;vn.prototype.has=e2;vn.prototype.set=t2;var r2=200;function n2(t,e){var r=this.__data__;if(r instanceof Ir){var n=r.__data__;if(!so||n.length<r2-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new vn(n)}return r.set(t,e),this.size=r.size,this}function Xs(t){var e=this.__data__=new Ir(t);this.size=e.size}Xs.prototype.clear=wP;Xs.prototype.delete=bP;Xs.prototype.get=xP;Xs.prototype.has=_P;Xs.prototype.set=n2;function s2(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var Em=function(){try{var t=es(Object,"defineProperty");return t({},"",{}),t}catch{}}();function Aw(t,e,r){e=="__proto__"&&Em?Em(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var i2=Object.prototype,o2=i2.hasOwnProperty;function Ow(t,e,r){var n=t[e];(!(o2.call(t,e)&&Iw(n,r))||r===void 0&&!(e in t))&&Aw(t,e,r)}function Il(t,e,r,n){var s=!r;r||(r={});for(var i=-1,o=e.length;++i<o;){var a=e[i],c=void 0;c===void 0&&(c=t[a]),s?Aw(r,a,c):Ow(r,a,c)}return r}function a2(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var l2="[object Arguments]";function Tm(t){return Xn(t)&&Qn(t)==l2}var Rw=Object.prototype,c2=Rw.hasOwnProperty,u2=Rw.propertyIsEnumerable,d2=Tm(function(){return arguments}())?Tm:function(t){return Xn(t)&&c2.call(t,"callee")&&!u2.call(t,"callee")},_o=Array.isArray;function f2(){return!1}var $w=typeof exports=="object"&&exports&&!exports.nodeType&&exports,jm=$w&&typeof module=="object"&&module&&!module.nodeType&&module,h2=jm&&jm.exports===$w,Cm=h2?nr.Buffer:void 0,p2=Cm?Cm.isBuffer:void 0,Lw=p2||f2,m2=9007199254740991,g2=/^(?:0|[1-9]\d*)$/;function y2(t,e){var r=typeof t;return e=e??m2,!!e&&(r=="number"||r!="symbol"&&g2.test(t))&&t>-1&&t%1==0&&t<e}var v2=9007199254740991;function Dw(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=v2}var w2="[object Arguments]",b2="[object Array]",x2="[object Boolean]",_2="[object Date]",S2="[object Error]",k2="[object Function]",E2="[object Map]",T2="[object Number]",j2="[object Object]",C2="[object RegExp]",N2="[object Set]",I2="[object String]",P2="[object WeakMap]",A2="[object ArrayBuffer]",O2="[object DataView]",R2="[object Float32Array]",$2="[object Float64Array]",L2="[object Int8Array]",D2="[object Int16Array]",F2="[object Int32Array]",U2="[object Uint8Array]",M2="[object Uint8ClampedArray]",z2="[object Uint16Array]",B2="[object Uint32Array]",fe={};fe[R2]=fe[$2]=fe[L2]=fe[D2]=fe[F2]=fe[U2]=fe[M2]=fe[z2]=fe[B2]=!0;fe[w2]=fe[b2]=fe[A2]=fe[x2]=fe[O2]=fe[_2]=fe[S2]=fe[k2]=fe[E2]=fe[T2]=fe[j2]=fe[C2]=fe[N2]=fe[I2]=fe[P2]=!1;function V2(t){return Xn(t)&&Dw(t.length)&&!!fe[Qn(t)]}function Uf(t){return function(e){return t(e)}}var Fw=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ai=Fw&&typeof module=="object"&&module&&!module.nodeType&&module,H2=Ai&&Ai.exports===Fw,Uc=H2&&Tw.process,Bs=function(){try{var t=Ai&&Ai.require&&Ai.require("util").types;return t||Uc&&Uc.binding&&Uc.binding("util")}catch{}}(),Nm=Bs&&Bs.isTypedArray,q2=Nm?Uf(Nm):V2,W2=Object.prototype,G2=W2.hasOwnProperty;function Uw(t,e){var r=_o(t),n=!r&&d2(t),s=!r&&!n&&Lw(t),i=!r&&!n&&!s&&q2(t),o=r||n||s||i,a=o?a2(t.length,String):[],c=a.length;for(var u in t)(e||G2.call(t,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||y2(u,c)))&&a.push(u);return a}var K2=Object.prototype;function Mf(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||K2;return t===r}var J2=Cw(Object.keys,Object),Y2=Object.prototype,Q2=Y2.hasOwnProperty;function X2(t){if(!Mf(t))return J2(t);var e=[];for(var r in Object(t))Q2.call(t,r)&&r!="constructor"&&e.push(r);return e}function Mw(t){return t!=null&&Dw(t.length)&&!Pw(t)}function zf(t){return Mw(t)?Uw(t):X2(t)}function Z2(t,e){return t&&Il(e,zf(e),t)}function eA(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var tA=Object.prototype,rA=tA.hasOwnProperty;function nA(t){if(!xo(t))return eA(t);var e=Mf(t),r=[];for(var n in t)n=="constructor"&&(e||!rA.call(t,n))||r.push(n);return r}function Bf(t){return Mw(t)?Uw(t,!0):nA(t)}function sA(t,e){return t&&Il(e,Bf(e),t)}var zw=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Im=zw&&typeof module=="object"&&module&&!module.nodeType&&module,iA=Im&&Im.exports===zw,Pm=iA?nr.Buffer:void 0,Am=Pm?Pm.allocUnsafe:void 0;function oA(t,e){if(e)return t.slice();var r=t.length,n=Am?Am(r):new t.constructor(r);return t.copy(n),n}function Bw(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}function aA(t,e){for(var r=-1,n=t==null?0:t.length,s=0,i=[];++r<n;){var o=t[r];e(o,r,t)&&(i[s++]=o)}return i}function Vw(){return[]}var lA=Object.prototype,cA=lA.propertyIsEnumerable,Om=Object.getOwnPropertySymbols,Vf=Om?function(t){return t==null?[]:(t=Object(t),aA(Om(t),function(e){return cA.call(t,e)}))}:Vw;function uA(t,e){return Il(t,Vf(t),e)}function Hw(t,e){for(var r=-1,n=e.length,s=t.length;++r<n;)t[s+r]=e[r];return t}var dA=Object.getOwnPropertySymbols,qw=dA?function(t){for(var e=[];t;)Hw(e,Vf(t)),t=Ff(t);return e}:Vw;function fA(t,e){return Il(t,qw(t),e)}function Ww(t,e,r){var n=e(t);return _o(t)?n:Hw(n,r(t))}function hA(t){return Ww(t,zf,Vf)}function pA(t){return Ww(t,Bf,qw)}var od=es(nr,"DataView"),ad=es(nr,"Promise"),ld=es(nr,"Set"),cd=es(nr,"WeakMap"),Rm="[object Map]",mA="[object Object]",$m="[object Promise]",Lm="[object Set]",Dm="[object WeakMap]",Fm="[object DataView]",gA=Zn(od),yA=Zn(so),vA=Zn(ad),wA=Zn(ld),bA=Zn(cd),cr=Qn;(od&&cr(new od(new ArrayBuffer(1)))!=Fm||so&&cr(new so)!=Rm||ad&&cr(ad.resolve())!=$m||ld&&cr(new ld)!=Lm||cd&&cr(new cd)!=Dm)&&(cr=function(t){var e=Qn(t),r=e==mA?t.constructor:void 0,n=r?Zn(r):"";if(n)switch(n){case gA:return Fm;case yA:return Rm;case vA:return $m;case wA:return Lm;case bA:return Dm}return e});var xA=Object.prototype,_A=xA.hasOwnProperty;function SA(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&_A.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var Um=nr.Uint8Array;function Hf(t){var e=new t.constructor(t.byteLength);return new Um(e).set(new Um(t)),e}function kA(t,e){var r=e?Hf(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var EA=/\w*$/;function TA(t){var e=new t.constructor(t.source,EA.exec(t));return e.lastIndex=t.lastIndex,e}var Mm=dn?dn.prototype:void 0,zm=Mm?Mm.valueOf:void 0;function jA(t){return zm?Object(zm.call(t)):{}}function CA(t,e){var r=e?Hf(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var NA="[object Boolean]",IA="[object Date]",PA="[object Map]",AA="[object Number]",OA="[object RegExp]",RA="[object Set]",$A="[object String]",LA="[object Symbol]",DA="[object ArrayBuffer]",FA="[object DataView]",UA="[object Float32Array]",MA="[object Float64Array]",zA="[object Int8Array]",BA="[object Int16Array]",VA="[object Int32Array]",HA="[object Uint8Array]",qA="[object Uint8ClampedArray]",WA="[object Uint16Array]",GA="[object Uint32Array]";function KA(t,e,r){var n=t.constructor;switch(e){case DA:return Hf(t);case NA:case IA:return new n(+t);case FA:return kA(t,r);case UA:case MA:case zA:case BA:case VA:case HA:case qA:case WA:case GA:return CA(t,r);case PA:return new n;case AA:case $A:return new n(t);case OA:return TA(t);case RA:return new n;case LA:return jA(t)}}var Bm=Object.create,JA=function(){function t(){}return function(e){if(!xo(e))return{};if(Bm)return Bm(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();function YA(t){return typeof t.constructor=="function"&&!Mf(t)?JA(Ff(t)):{}}var QA="[object Map]";function XA(t){return Xn(t)&&cr(t)==QA}var Vm=Bs&&Bs.isMap,ZA=Vm?Uf(Vm):XA,eO="[object Set]";function tO(t){return Xn(t)&&cr(t)==eO}var Hm=Bs&&Bs.isSet,rO=Hm?Uf(Hm):tO,nO=1,sO=2,iO=4,Gw="[object Arguments]",oO="[object Array]",aO="[object Boolean]",lO="[object Date]",cO="[object Error]",Kw="[object Function]",uO="[object GeneratorFunction]",dO="[object Map]",fO="[object Number]",Jw="[object Object]",hO="[object RegExp]",pO="[object Set]",mO="[object String]",gO="[object Symbol]",yO="[object WeakMap]",vO="[object ArrayBuffer]",wO="[object DataView]",bO="[object Float32Array]",xO="[object Float64Array]",_O="[object Int8Array]",SO="[object Int16Array]",kO="[object Int32Array]",EO="[object Uint8Array]",TO="[object Uint8ClampedArray]",jO="[object Uint16Array]",CO="[object Uint32Array]",le={};le[Gw]=le[oO]=le[vO]=le[wO]=le[aO]=le[lO]=le[bO]=le[xO]=le[_O]=le[SO]=le[kO]=le[dO]=le[fO]=le[Jw]=le[hO]=le[pO]=le[mO]=le[gO]=le[EO]=le[TO]=le[jO]=le[CO]=!0;le[cO]=le[Kw]=le[yO]=!1;function Oi(t,e,r,n,s,i){var o,a=e&nO,c=e&sO,u=e&iO;if(o!==void 0)return o;if(!xo(t))return t;var d=_o(t);if(d){if(o=SA(t),!a)return Bw(t,o)}else{var f=cr(t),h=f==Kw||f==uO;if(Lw(t))return oA(t,a);if(f==Jw||f==Gw||h&&!s){if(o=c||h?{}:YA(t),!a)return c?fA(t,sA(o,t)):uA(t,Z2(o,t))}else{if(!le[f])return s?t:{};o=KA(t,f,a)}}i||(i=new Xs);var m=i.get(t);if(m)return m;i.set(t,o),rO(t)?t.forEach(function(_){o.add(Oi(_,e,r,_,t,i))}):ZA(t)&&t.forEach(function(_,g){o.set(g,Oi(_,e,r,g,t,i))});var v=u?c?pA:hA:c?Bf:zf,w=d?void 0:v(t);return s2(w||t,function(_,g){w&&(g=_,_=t[g]),Ow(o,g,Oi(_,e,r,g,t,i))}),o}var NO=1,IO=4;function yi(t){return Oi(t,NO|IO)}var qm=Array.isArray,Wm=Object.keys,PO=Object.prototype.hasOwnProperty,AO=typeof Element<"u";function ud(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var r=qm(t),n=qm(e),s,i,o;if(r&&n){if(i=t.length,i!=e.length)return!1;for(s=i;s--!==0;)if(!ud(t[s],e[s]))return!1;return!0}if(r!=n)return!1;var a=t instanceof Date,c=e instanceof Date;if(a!=c)return!1;if(a&&c)return t.getTime()==e.getTime();var u=t instanceof RegExp,d=e instanceof RegExp;if(u!=d)return!1;if(u&&d)return t.toString()==e.toString();var f=Wm(t);if(i=f.length,i!==Wm(e).length)return!1;for(s=i;s--!==0;)if(!PO.call(e,f[s]))return!1;if(AO&&t instanceof Element&&e instanceof Element)return t===e;for(s=i;s--!==0;)if(o=f[s],!(o==="_owner"&&t.$$typeof)&&!ud(t[o],e[o]))return!1;return!0}return t!==t&&e!==e}var OO=function(e,r){try{return ud(e,r)}catch(n){if(n.message&&n.message.match(/stack|recursion/i)||n.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",n.name,n.message),!1;throw n}};const Ur=Xa(OO);var RO=4;function Gm(t){return Oi(t,RO)}function Yw(t,e){for(var r=-1,n=t==null?0:t.length,s=Array(n);++r<n;)s[r]=e(t[r],r,t);return s}var $O="[object Symbol]";function qf(t){return typeof t=="symbol"||Xn(t)&&Qn(t)==$O}var LO="Expected a function";function Wf(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(LO);var r=function(){var n=arguments,s=e?e.apply(this,n):n[0],i=r.cache;if(i.has(s))return i.get(s);var o=t.apply(this,n);return r.cache=i.set(s,o)||i,o};return r.cache=new(Wf.Cache||vn),r}Wf.Cache=vn;var DO=500;function FO(t){var e=Wf(t,function(n){return r.size===DO&&r.clear(),n}),r=e.cache;return e}var UO=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,MO=/\\(\\)?/g,zO=FO(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(UO,function(r,n,s,i){e.push(s?i.replace(MO,"$1"):n||r)}),e});function BO(t){if(typeof t=="string"||qf(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Km=dn?dn.prototype:void 0,Jm=Km?Km.toString:void 0;function Qw(t){if(typeof t=="string")return t;if(_o(t))return Yw(t,Qw)+"";if(qf(t))return Jm?Jm.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function VO(t){return t==null?"":Qw(t)}function Xw(t){return _o(t)?Yw(t,BO):qf(t)?[t]:Bw(zO(VO(t)))}var Zw={exports:{}},se={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ae=typeof Symbol=="function"&&Symbol.for,Gf=Ae?Symbol.for("react.element"):60103,Kf=Ae?Symbol.for("react.portal"):60106,Pl=Ae?Symbol.for("react.fragment"):60107,Al=Ae?Symbol.for("react.strict_mode"):60108,Ol=Ae?Symbol.for("react.profiler"):60114,Rl=Ae?Symbol.for("react.provider"):60109,$l=Ae?Symbol.for("react.context"):60110,Jf=Ae?Symbol.for("react.async_mode"):60111,Ll=Ae?Symbol.for("react.concurrent_mode"):60111,Dl=Ae?Symbol.for("react.forward_ref"):60112,Fl=Ae?Symbol.for("react.suspense"):60113,HO=Ae?Symbol.for("react.suspense_list"):60120,Ul=Ae?Symbol.for("react.memo"):60115,Ml=Ae?Symbol.for("react.lazy"):60116,qO=Ae?Symbol.for("react.block"):60121,WO=Ae?Symbol.for("react.fundamental"):60117,GO=Ae?Symbol.for("react.responder"):60118,KO=Ae?Symbol.for("react.scope"):60119;function xt(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Gf:switch(t=t.type,t){case Jf:case Ll:case Pl:case Ol:case Al:case Fl:return t;default:switch(t=t&&t.$$typeof,t){case $l:case Dl:case Ml:case Ul:case Rl:return t;default:return e}}case Kf:return e}}}function eb(t){return xt(t)===Ll}se.AsyncMode=Jf;se.ConcurrentMode=Ll;se.ContextConsumer=$l;se.ContextProvider=Rl;se.Element=Gf;se.ForwardRef=Dl;se.Fragment=Pl;se.Lazy=Ml;se.Memo=Ul;se.Portal=Kf;se.Profiler=Ol;se.StrictMode=Al;se.Suspense=Fl;se.isAsyncMode=function(t){return eb(t)||xt(t)===Jf};se.isConcurrentMode=eb;se.isContextConsumer=function(t){return xt(t)===$l};se.isContextProvider=function(t){return xt(t)===Rl};se.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Gf};se.isForwardRef=function(t){return xt(t)===Dl};se.isFragment=function(t){return xt(t)===Pl};se.isLazy=function(t){return xt(t)===Ml};se.isMemo=function(t){return xt(t)===Ul};se.isPortal=function(t){return xt(t)===Kf};se.isProfiler=function(t){return xt(t)===Ol};se.isStrictMode=function(t){return xt(t)===Al};se.isSuspense=function(t){return xt(t)===Fl};se.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Pl||t===Ll||t===Ol||t===Al||t===Fl||t===HO||typeof t=="object"&&t!==null&&(t.$$typeof===Ml||t.$$typeof===Ul||t.$$typeof===Rl||t.$$typeof===$l||t.$$typeof===Dl||t.$$typeof===WO||t.$$typeof===GO||t.$$typeof===KO||t.$$typeof===qO)};se.typeOf=xt;Zw.exports=se;var JO=Zw.exports,Yf=JO,YO={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},QO={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},XO={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},tb={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Qf={};Qf[Yf.ForwardRef]=XO;Qf[Yf.Memo]=tb;function Ym(t){return Yf.isMemo(t)?tb:Qf[t.$$typeof]||YO}var ZO=Object.defineProperty,eR=Object.getOwnPropertyNames,Qm=Object.getOwnPropertySymbols,tR=Object.getOwnPropertyDescriptor,rR=Object.getPrototypeOf,Xm=Object.prototype;function rb(t,e,r){if(typeof e!="string"){if(Xm){var n=rR(e);n&&n!==Xm&&rb(t,n,r)}var s=eR(e);Qm&&(s=s.concat(Qm(e)));for(var i=Ym(t),o=Ym(e),a=0;a<s.length;++a){var c=s[a];if(!QO[c]&&!(r&&r[c])&&!(o&&o[c])&&!(i&&i[c])){var u=tR(e,c);try{ZO(t,c,u)}catch{}}}}return t}var nR=rb;const sR=Xa(nR);function re(){return re=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},re.apply(this,arguments)}function nb(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Yr(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function Zm(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var zl=b.createContext(void 0);zl.displayName="FormikContext";var iR=zl.Provider,oR=zl.Consumer;function sb(){var t=b.useContext(zl);return t}var eg=function(e){return Array.isArray(e)&&e.length===0},Le=function(e){return typeof e=="function"},So=function(e){return e!==null&&typeof e=="object"},aR=function(e){return String(Math.floor(Number(e)))===e},Mc=function(e){return Object.prototype.toString.call(e)==="[object String]"},ib=function(e){return b.Children.count(e)===0},zc=function(e){return So(e)&&Le(e.then)};function me(t,e,r,n){n===void 0&&(n=0);for(var s=Xw(e);t&&n<s.length;)t=t[s[n++]];return n!==s.length&&!t||t===void 0?r:t}function Zt(t,e,r){for(var n=Gm(t),s=n,i=0,o=Xw(e);i<o.length-1;i++){var a=o[i],c=me(t,o.slice(0,i+1));if(c&&(So(c)||Array.isArray(c)))s=s[a]=Gm(c);else{var u=o[i+1];s=s[a]=aR(u)&&Number(u)>=0?[]:{}}}return(i===0?t:s)[o[i]]===r?t:(r===void 0?delete s[o[i]]:s[o[i]]=r,i===0&&r===void 0&&delete n[o[i]],n)}function ob(t,e,r,n){r===void 0&&(r=new WeakMap),n===void 0&&(n={});for(var s=0,i=Object.keys(t);s<i.length;s++){var o=i[s],a=t[o];So(a)?r.get(a)||(r.set(a,!0),n[o]=Array.isArray(a)?[]:{},ob(a,e,r,n[o])):n[o]=e}return n}function lR(t,e){switch(e.type){case"SET_VALUES":return re({},t,{values:e.payload});case"SET_TOUCHED":return re({},t,{touched:e.payload});case"SET_ERRORS":return Ur(t.errors,e.payload)?t:re({},t,{errors:e.payload});case"SET_STATUS":return re({},t,{status:e.payload});case"SET_ISSUBMITTING":return re({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return re({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return re({},t,{values:Zt(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return re({},t,{touched:Zt(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return re({},t,{errors:Zt(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return re({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return re({},t,{touched:ob(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return re({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return re({},t,{isSubmitting:!1});default:return t}}var xn={},Wo={};function cR(t){var e=t.validateOnChange,r=e===void 0?!0:e,n=t.validateOnBlur,s=n===void 0?!0:n,i=t.validateOnMount,o=i===void 0?!1:i,a=t.isInitialValid,c=t.enableReinitialize,u=c===void 0?!1:c,d=t.onSubmit,f=Yr(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),h=re({validateOnChange:r,validateOnBlur:s,validateOnMount:o,onSubmit:d},f),m=b.useRef(h.initialValues),v=b.useRef(h.initialErrors||xn),w=b.useRef(h.initialTouched||Wo),_=b.useRef(h.initialStatus),g=b.useRef(!1),p=b.useRef({});b.useEffect(function(){return g.current=!0,function(){g.current=!1}},[]);var y=b.useState(0),x=y[1],E=b.useRef({values:yi(h.initialValues),errors:yi(h.initialErrors)||xn,touched:yi(h.initialTouched)||Wo,status:yi(h.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),k=E.current,T=b.useCallback(function(j){var L=E.current;E.current=lR(L,j),L!==E.current&&x(function(F){return F+1})},[]),A=b.useCallback(function(j,L){return new Promise(function(F,z){var J=h.validate(j,L);J==null?F(xn):zc(J)?J.then(function(ee){F(ee||xn)},function(ee){z(ee)}):F(J)})},[h.validate]),U=b.useCallback(function(j,L){var F=h.validationSchema,z=Le(F)?F(L):F,J=L&&z.validateAt?z.validateAt(L,j):dR(j,z);return new Promise(function(ee,qe){J.then(function(){ee(xn)},function(sr){sr.name==="ValidationError"?ee(uR(sr)):qe(sr)})})},[h.validationSchema]),S=b.useCallback(function(j,L){return new Promise(function(F){return F(p.current[j].validate(L))})},[]),I=b.useCallback(function(j){var L=Object.keys(p.current).filter(function(z){return Le(p.current[z].validate)}),F=L.length>0?L.map(function(z){return S(z,me(j,z))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(F).then(function(z){return z.reduce(function(J,ee,qe){return ee==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||ee&&(J=Zt(J,L[qe],ee)),J},{})})},[S]),M=b.useCallback(function(j){return Promise.all([I(j),h.validationSchema?U(j):{},h.validate?A(j):{}]).then(function(L){var F=L[0],z=L[1],J=L[2],ee=id.all([F,z,J],{arrayMerge:fR});return ee})},[h.validate,h.validationSchema,I,A,U]),H=_t(function(j){return j===void 0&&(j=k.values),T({type:"SET_ISVALIDATING",payload:!0}),M(j).then(function(L){return g.current&&(T({type:"SET_ISVALIDATING",payload:!1}),T({type:"SET_ERRORS",payload:L})),L})});b.useEffect(function(){o&&g.current===!0&&Ur(m.current,h.initialValues)&&H(m.current)},[o,H]);var W=b.useCallback(function(j){var L=j&&j.values?j.values:m.current,F=j&&j.errors?j.errors:v.current?v.current:h.initialErrors||{},z=j&&j.touched?j.touched:w.current?w.current:h.initialTouched||{},J=j&&j.status?j.status:_.current?_.current:h.initialStatus;m.current=L,v.current=F,w.current=z,_.current=J;var ee=function(){T({type:"RESET_FORM",payload:{isSubmitting:!!j&&!!j.isSubmitting,errors:F,touched:z,status:J,values:L,isValidating:!!j&&!!j.isValidating,submitCount:j&&j.submitCount&&typeof j.submitCount=="number"?j.submitCount:0}})};if(h.onReset){var qe=h.onReset(k.values,sh);zc(qe)?qe.then(ee):ee()}else ee()},[h.initialErrors,h.initialStatus,h.initialTouched,h.onReset]);b.useEffect(function(){g.current===!0&&!Ur(m.current,h.initialValues)&&u&&(m.current=h.initialValues,W(),o&&H(m.current))},[u,h.initialValues,W,o,H]),b.useEffect(function(){u&&g.current===!0&&!Ur(v.current,h.initialErrors)&&(v.current=h.initialErrors||xn,T({type:"SET_ERRORS",payload:h.initialErrors||xn}))},[u,h.initialErrors]),b.useEffect(function(){u&&g.current===!0&&!Ur(w.current,h.initialTouched)&&(w.current=h.initialTouched||Wo,T({type:"SET_TOUCHED",payload:h.initialTouched||Wo}))},[u,h.initialTouched]),b.useEffect(function(){u&&g.current===!0&&!Ur(_.current,h.initialStatus)&&(_.current=h.initialStatus,T({type:"SET_STATUS",payload:h.initialStatus}))},[u,h.initialStatus,h.initialTouched]);var R=_t(function(j){if(p.current[j]&&Le(p.current[j].validate)){var L=me(k.values,j),F=p.current[j].validate(L);return zc(F)?(T({type:"SET_ISVALIDATING",payload:!0}),F.then(function(z){return z}).then(function(z){T({type:"SET_FIELD_ERROR",payload:{field:j,value:z}}),T({type:"SET_ISVALIDATING",payload:!1})})):(T({type:"SET_FIELD_ERROR",payload:{field:j,value:F}}),Promise.resolve(F))}else if(h.validationSchema)return T({type:"SET_ISVALIDATING",payload:!0}),U(k.values,j).then(function(z){return z}).then(function(z){T({type:"SET_FIELD_ERROR",payload:{field:j,value:me(z,j)}}),T({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),ue=b.useCallback(function(j,L){var F=L.validate;p.current[j]={validate:F}},[]),pe=b.useCallback(function(j){delete p.current[j]},[]),C=_t(function(j,L){T({type:"SET_TOUCHED",payload:j});var F=L===void 0?s:L;return F?H(k.values):Promise.resolve()}),O=b.useCallback(function(j){T({type:"SET_ERRORS",payload:j})},[]),N=_t(function(j,L){var F=Le(j)?j(k.values):j;T({type:"SET_VALUES",payload:F});var z=L===void 0?r:L;return z?H(F):Promise.resolve()}),$=b.useCallback(function(j,L){T({type:"SET_FIELD_ERROR",payload:{field:j,value:L}})},[]),K=_t(function(j,L,F){T({type:"SET_FIELD_VALUE",payload:{field:j,value:L}});var z=F===void 0?r:F;return z?H(Zt(k.values,j,L)):Promise.resolve()}),te=b.useCallback(function(j,L){var F=L,z=j,J;if(!Mc(j)){j.persist&&j.persist();var ee=j.target?j.target:j.currentTarget,qe=ee.type,sr=ee.name,Gl=ee.id,Kl=ee.value,Cb=ee.checked;ee.outerHTML;var ih=ee.options,Nb=ee.multiple;F=L||sr||Gl,z=/number|range/.test(qe)?(J=parseFloat(Kl),isNaN(J)?"":J):/checkbox/.test(qe)?pR(me(k.values,F),Cb,Kl):ih&&Nb?hR(ih):Kl}F&&K(F,z)},[K,k.values]),_e=_t(function(j){if(Mc(j))return function(L){return te(L,j)};te(j)}),ct=_t(function(j,L,F){L===void 0&&(L=!0),T({type:"SET_FIELD_TOUCHED",payload:{field:j,value:L}});var z=F===void 0?s:F;return z?H(k.values):Promise.resolve()}),Ue=b.useCallback(function(j,L){j.persist&&j.persist();var F=j.target,z=F.name,J=F.id;F.outerHTML;var ee=L||z||J;ct(ee,!0)},[ct]),B=_t(function(j){if(Mc(j))return function(L){return Ue(L,j)};Ue(j)}),Y=b.useCallback(function(j){Le(j)?T({type:"SET_FORMIK_STATE",payload:j}):T({type:"SET_FORMIK_STATE",payload:function(){return j}})},[]),Ee=b.useCallback(function(j){T({type:"SET_STATUS",payload:j})},[]),Oe=b.useCallback(function(j){T({type:"SET_ISSUBMITTING",payload:j})},[]),He=_t(function(){return T({type:"SUBMIT_ATTEMPT"}),H().then(function(j){var L=j instanceof Error,F=!L&&Object.keys(j).length===0;if(F){var z;try{if(z=xb(),z===void 0)return}catch(J){throw J}return Promise.resolve(z).then(function(J){return g.current&&T({type:"SUBMIT_SUCCESS"}),J}).catch(function(J){if(g.current)throw T({type:"SUBMIT_FAILURE"}),J})}else if(g.current&&(T({type:"SUBMIT_FAILURE"}),L))throw j})}),Zs=_t(function(j){j&&j.preventDefault&&Le(j.preventDefault)&&j.preventDefault(),j&&j.stopPropagation&&Le(j.stopPropagation)&&j.stopPropagation(),He().catch(function(L){console.warn("Warning: An unhandled error was caught from submitForm()",L)})}),sh={resetForm:W,validateForm:H,validateField:R,setErrors:O,setFieldError:$,setFieldTouched:ct,setFieldValue:K,setStatus:Ee,setSubmitting:Oe,setTouched:C,setValues:N,setFormikState:Y,submitForm:He},xb=_t(function(){return d(k.values,sh)}),_b=_t(function(j){j&&j.preventDefault&&Le(j.preventDefault)&&j.preventDefault(),j&&j.stopPropagation&&Le(j.stopPropagation)&&j.stopPropagation(),W()}),Sb=b.useCallback(function(j){return{value:me(k.values,j),error:me(k.errors,j),touched:!!me(k.touched,j),initialValue:me(m.current,j),initialTouched:!!me(w.current,j),initialError:me(v.current,j)}},[k.errors,k.touched,k.values]),kb=b.useCallback(function(j){return{setValue:function(F,z){return K(j,F,z)},setTouched:function(F,z){return ct(j,F,z)},setError:function(F){return $(j,F)}}},[K,ct,$]),Eb=b.useCallback(function(j){var L=So(j),F=L?j.name:j,z=me(k.values,F),J={name:F,value:z,onChange:_e,onBlur:B};if(L){var ee=j.type,qe=j.value,sr=j.as,Gl=j.multiple;ee==="checkbox"?qe===void 0?J.checked=!!z:(J.checked=!!(Array.isArray(z)&&~z.indexOf(qe)),J.value=qe):ee==="radio"?(J.checked=z===qe,J.value=qe):sr==="select"&&Gl&&(J.value=J.value||[],J.multiple=!0)}return J},[B,_e,k.values]),Wl=b.useMemo(function(){return!Ur(m.current,k.values)},[m.current,k.values]),Tb=b.useMemo(function(){return typeof a<"u"?Wl?k.errors&&Object.keys(k.errors).length===0:a!==!1&&Le(a)?a(h):a:k.errors&&Object.keys(k.errors).length===0},[a,Wl,k.errors,h]),jb=re({},k,{initialValues:m.current,initialErrors:v.current,initialTouched:w.current,initialStatus:_.current,handleBlur:B,handleChange:_e,handleReset:_b,handleSubmit:Zs,resetForm:W,setErrors:O,setFormikState:Y,setFieldTouched:ct,setFieldValue:K,setFieldError:$,setStatus:Ee,setSubmitting:Oe,setTouched:C,setValues:N,submitForm:He,validateForm:H,validateField:R,isValid:Tb,dirty:Wl,unregisterField:pe,registerField:ue,getFieldProps:Eb,getFieldMeta:Sb,getFieldHelpers:kb,validateOnBlur:s,validateOnChange:r,validateOnMount:o});return jb}function Xf(t){var e=cR(t),r=t.component,n=t.children,s=t.render,i=t.innerRef;return b.useImperativeHandle(i,function(){return e}),b.createElement(iR,{value:e},r?b.createElement(r,e):s?s(e):n?Le(n)?n(e):ib(n)?null:b.Children.only(n):null)}function uR(t){var e={};if(t.inner){if(t.inner.length===0)return Zt(e,t.path,t.message);for(var s=t.inner,r=Array.isArray(s),n=0,s=r?s:s[Symbol.iterator]();;){var i;if(r){if(n>=s.length)break;i=s[n++]}else{if(n=s.next(),n.done)break;i=n.value}var o=i;me(e,o.path)||(e=Zt(e,o.path,o.message))}}return e}function dR(t,e,r,n){r===void 0&&(r=!1);var s=dd(t);return e[r?"validateSync":"validate"](s,{abortEarly:!1,context:s})}function dd(t){var e=Array.isArray(t)?[]:{};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=String(r);Array.isArray(t[n])===!0?e[n]=t[n].map(function(s){return Array.isArray(s)===!0||Sm(s)?dd(s):s!==""?s:void 0}):Sm(t[n])?e[n]=dd(t[n]):e[n]=t[n]!==""?t[n]:void 0}return e}function fR(t,e,r){var n=t.slice();return e.forEach(function(i,o){if(typeof n[o]>"u"){var a=r.clone!==!1,c=a&&r.isMergeableObject(i);n[o]=c?id(Array.isArray(i)?[]:{},i,r):i}else r.isMergeableObject(i)?n[o]=id(t[o],i,r):t.indexOf(i)===-1&&n.push(i)}),n}function hR(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function pR(t,e,r){if(typeof t=="boolean")return!!e;var n=[],s=!1,i=-1;if(Array.isArray(t))n=t,i=t.indexOf(r),s=i>=0;else if(!r||r=="true"||r=="false")return!!e;return e&&r&&!s?n.concat(r):s?n.slice(0,i).concat(n.slice(i+1)):n}var mR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?b.useLayoutEffect:b.useEffect;function _t(t){var e=b.useRef(t);return mR(function(){e.current=t}),b.useCallback(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return e.current.apply(void 0,n)},[])}function ie(t){var e=t.validate,r=t.name,n=t.render,s=t.children,i=t.as,o=t.component,a=t.className,c=Yr(t,["validate","name","render","children","as","component","className"]),u=sb(),d=Yr(u,["validate","validationSchema"]),f=d.registerField,h=d.unregisterField;b.useEffect(function(){return f(r,{validate:e}),function(){h(r)}},[f,h,r,e]);var m=d.getFieldProps(re({name:r},c)),v=d.getFieldMeta(r),w={field:m,form:d};if(n)return n(re({},w,{meta:v}));if(Le(s))return s(re({},w,{meta:v}));if(o){if(typeof o=="string"){var _=c.innerRef,g=Yr(c,["innerRef"]);return b.createElement(o,re({ref:_},m,g,{className:a}),s)}return b.createElement(o,re({field:m,form:d},c,{className:a}),s)}var p=i||"input";if(typeof p=="string"){var y=c.innerRef,x=Yr(c,["innerRef"]);return b.createElement(p,re({ref:y},m,x,{className:a}),s)}return b.createElement(p,re({},m,c,{className:a}),s)}var Bl=b.forwardRef(function(t,e){var r=t.action,n=Yr(t,["action"]),s=r??"#",i=sb(),o=i.handleReset,a=i.handleSubmit;return b.createElement("form",re({onSubmit:a,ref:e,onReset:o,action:s},n))});Bl.displayName="Form";function gR(t){var e=function(s){return b.createElement(oR,null,function(i){return b.createElement(t,re({},s,{formik:i}))})},r=t.displayName||t.name||t.constructor&&t.constructor.name||"Component";return e.WrappedComponent=t,e.displayName="FormikConnect("+r+")",sR(e,t)}var yR=function(e,r,n){var s=qn(e),i=s[r];return s.splice(r,1),s.splice(n,0,i),s},vR=function(e,r,n){var s=qn(e),i=s[r];return s[r]=s[n],s[n]=i,s},Bc=function(e,r,n){var s=qn(e);return s.splice(r,0,n),s},wR=function(e,r,n){var s=qn(e);return s[r]=n,s},qn=function(e){if(e){if(Array.isArray(e))return[].concat(e);var r=Object.keys(e).map(function(n){return parseInt(n)}).reduce(function(n,s){return s>n?s:n},0);return Array.from(re({},e,{length:r+1}))}else return[]},tg=function(e,r){var n=typeof e=="function"?e:r;return function(s){if(Array.isArray(s)||So(s)){var i=qn(s);return n(i)}return s}},bR=function(t){nb(e,t);function e(n){var s;return s=t.call(this,n)||this,s.updateArrayField=function(i,o,a){var c=s.props,u=c.name,d=c.formik.setFormikState;d(function(f){var h=tg(a,i),m=tg(o,i),v=Zt(f.values,u,i(me(f.values,u))),w=a?h(me(f.errors,u)):void 0,_=o?m(me(f.touched,u)):void 0;return eg(w)&&(w=void 0),eg(_)&&(_=void 0),re({},f,{values:v,errors:a?Zt(f.errors,u,w):f.errors,touched:o?Zt(f.touched,u,_):f.touched})})},s.push=function(i){return s.updateArrayField(function(o){return[].concat(qn(o),[yi(i)])},!1,!1)},s.handlePush=function(i){return function(){return s.push(i)}},s.swap=function(i,o){return s.updateArrayField(function(a){return vR(a,i,o)},!0,!0)},s.handleSwap=function(i,o){return function(){return s.swap(i,o)}},s.move=function(i,o){return s.updateArrayField(function(a){return yR(a,i,o)},!0,!0)},s.handleMove=function(i,o){return function(){return s.move(i,o)}},s.insert=function(i,o){return s.updateArrayField(function(a){return Bc(a,i,o)},function(a){return Bc(a,i,null)},function(a){return Bc(a,i,null)})},s.handleInsert=function(i,o){return function(){return s.insert(i,o)}},s.replace=function(i,o){return s.updateArrayField(function(a){return wR(a,i,o)},!1,!1)},s.handleReplace=function(i,o){return function(){return s.replace(i,o)}},s.unshift=function(i){var o=-1;return s.updateArrayField(function(a){var c=a?[i].concat(a):[i];return o=c.length,c},function(a){return a?[null].concat(a):[null]},function(a){return a?[null].concat(a):[null]}),o},s.handleUnshift=function(i){return function(){return s.unshift(i)}},s.handleRemove=function(i){return function(){return s.remove(i)}},s.handlePop=function(){return function(){return s.pop()}},s.remove=s.remove.bind(Zm(s)),s.pop=s.pop.bind(Zm(s)),s}var r=e.prototype;return r.componentDidUpdate=function(s){this.props.validateOnChange&&this.props.formik.validateOnChange&&!Ur(me(s.formik.values,s.name),me(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},r.remove=function(s){var i;return this.updateArrayField(function(o){var a=o?qn(o):[];return i||(i=a[s]),Le(a.splice)&&a.splice(s,1),Le(a.every)&&a.every(function(c){return c===void 0})?[]:a},!0,!0),i},r.pop=function(){var s;return this.updateArrayField(function(i){var o=i.slice();return s||(s=o&&o.pop&&o.pop()),o},!0,!0),s},r.render=function(){var s={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},i=this.props,o=i.component,a=i.render,c=i.children,u=i.name,d=i.formik,f=Yr(d,["validate","validationSchema"]),h=re({},s,{form:f,name:u});return o?b.createElement(o,h):a?a(h):c?typeof c=="function"?c(h):ib(c)?null:b.Children.only(c):null},e}(b.Component);bR.defaultProps={validateOnChange:!0};var xR=function(t){nb(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.shouldComponentUpdate=function(s){return me(this.props.formik.errors,this.props.name)!==me(s.formik.errors,this.props.name)||me(this.props.formik.touched,this.props.name)!==me(s.formik.touched,this.props.name)||Object.keys(this.props).length!==Object.keys(s).length},r.render=function(){var s=this.props,i=s.component,o=s.formik,a=s.render,c=s.children,u=s.name,d=Yr(s,["component","formik","render","children","name"]),f=me(o.touched,u),h=me(o.errors,u);return f&&h?a?Le(a)?a(h):null:c?Le(c)?c(h):null:i?b.createElement(i,d,h):h:null},e}(b.Component),et=gR(xR);function ts(t){this._maxSize=t,this.clear()}ts.prototype.clear=function(){this._size=0,this._values=Object.create(null)};ts.prototype.get=function(t){return this._values[t]};ts.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var _R=/[^.^\]^[]+|(?=\[\]|\.\.)/g,ab=/^\d+$/,SR=/^\d/,kR=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,ER=/^\s*(['"]?)(.*?)(\1)\s*$/,Zf=512,rg=new ts(Zf),ng=new ts(Zf),sg=new ts(Zf),Rn={Cache:ts,split:fd,normalizePath:Vc,setter:function(t){var e=Vc(t);return ng.get(t)||ng.set(t,function(n,s){for(var i=0,o=e.length,a=n;i<o-1;){var c=e[i];if(c==="__proto__"||c==="constructor"||c==="prototype")return n;a=a[e[i++]]}a[e[i]]=s})},getter:function(t,e){var r=Vc(t);return sg.get(t)||sg.set(t,function(s){for(var i=0,o=r.length;i<o;)if(s!=null||!e)s=s[r[i++]];else return;return s})},join:function(t){return t.reduce(function(e,r){return e+(eh(r)||ab.test(r)?"["+r+"]":(e?".":"")+r)},"")},forEach:function(t,e,r){TR(Array.isArray(t)?t:fd(t),e,r)}};function Vc(t){return rg.get(t)||rg.set(t,fd(t).map(function(e){return e.replace(ER,"$2")}))}function fd(t){return t.match(_R)||[""]}function TR(t,e,r){var n=t.length,s,i,o,a;for(i=0;i<n;i++)s=t[i],s&&(NR(s)&&(s='"'+s+'"'),a=eh(s),o=!a&&/^\d+$/.test(s),e.call(r,s,a,o,i,t))}function eh(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function jR(t){return t.match(SR)&&!t.match(ab)}function CR(t){return kR.test(t)}function NR(t){return!eh(t)&&(jR(t)||CR(t))}const IR=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,Vl=t=>t.match(IR)||[],Hl=t=>t[0].toUpperCase()+t.slice(1),th=(t,e)=>Vl(t).join(e).toLowerCase(),lb=t=>Vl(t).reduce((e,r)=>`${e}${e?r[0].toUpperCase()+r.slice(1).toLowerCase():r.toLowerCase()}`,""),PR=t=>Hl(lb(t)),AR=t=>th(t,"_"),OR=t=>th(t,"-"),RR=t=>Hl(th(t," ")),$R=t=>Vl(t).map(Hl).join(" ");var Hc={words:Vl,upperFirst:Hl,camelCase:lb,pascalCase:PR,snakeCase:AR,kebabCase:OR,sentenceCase:RR,titleCase:$R},rh={exports:{}};rh.exports=function(t){return cb(LR(t),t)};rh.exports.array=cb;function cb(t,e){var r=t.length,n=new Array(r),s={},i=r,o=DR(e),a=FR(t);for(e.forEach(function(u){if(!a.has(u[0])||!a.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});i--;)s[i]||c(t[i],i,new Set);return n;function c(u,d,f){if(f.has(u)){var h;try{h=", node was:"+JSON.stringify(u)}catch{h=""}throw new Error("Cyclic dependency"+h)}if(!a.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!s[d]){s[d]=!0;var m=o.get(u)||new Set;if(m=Array.from(m),d=m.length){f.add(u);do{var v=m[--d];c(v,a.get(v),f)}while(d);f.delete(u)}n[--r]=u}}}function LR(t){for(var e=new Set,r=0,n=t.length;r<n;r++){var s=t[r];e.add(s[0]),e.add(s[1])}return Array.from(e)}function DR(t){for(var e=new Map,r=0,n=t.length;r<n;r++){var s=t[r];e.has(s[0])||e.set(s[0],new Set),e.has(s[1])||e.set(s[1],new Set),e.get(s[0]).add(s[1])}return e}function FR(t){for(var e=new Map,r=0,n=t.length;r<n;r++)e.set(t[r],r);return e}var UR=rh.exports;const MR=Xa(UR),zR=Object.prototype.toString,BR=Error.prototype.toString,VR=RegExp.prototype.toString,HR=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",qR=/^Symbol\((.*)\)(.*)$/;function WR(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function ig(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const r=typeof t;if(r==="number")return WR(t);if(r==="string")return e?`"${t}"`:t;if(r==="function")return"[Function "+(t.name||"anonymous")+"]";if(r==="symbol")return HR.call(t).replace(qR,"Symbol($1)");const n=zR.call(t).slice(8,-1);return n==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):n==="Error"||t instanceof Error?"["+BR.call(t)+"]":n==="RegExp"?VR.call(t):null}function vr(t,e){let r=ig(t,e);return r!==null?r:JSON.stringify(t,function(n,s){let i=ig(this[n],e);return i!==null?i:s},2)}function ub(t){return t==null?[]:[].concat(t)}let db,fb,hb,GR=/\$\{\s*(\w+)\s*\}/g;db=Symbol.toStringTag;class og{constructor(e,r,n,s){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[db]="Error",this.name="ValidationError",this.value=r,this.path=n,this.type=s,this.errors=[],this.inner=[],ub(e).forEach(i=>{if(nt.isError(i)){this.errors.push(...i.errors);const o=i.inner.length?i.inner:[i];this.inner.push(...o)}else this.errors.push(i)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}fb=Symbol.hasInstance;hb=Symbol.toStringTag;class nt extends Error{static formatError(e,r){const n=r.label||r.path||"this";return r=Object.assign({},r,{path:n,originalPath:r.path}),typeof e=="string"?e.replace(GR,(s,i)=>vr(r[i])):typeof e=="function"?e(r):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,r,n,s,i){const o=new og(e,r,n,s);if(i)return o;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[hb]="Error",this.name=o.name,this.message=o.message,this.type=o.type,this.value=o.value,this.path=o.path,this.errors=o.errors,this.inner=o.inner,Error.captureStackTrace&&Error.captureStackTrace(this,nt)}static[fb](e){return og[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let qt={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:r,originalValue:n})=>{const s=n!=null&&n!==r?` (cast from the value \`${vr(n,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${vr(r,!0)}\``+s:`${t} must match the configured type. The validated value was: \`${vr(r,!0)}\``+s}},Ze={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},KR={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},hd={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},JR={isValue:"${path} field must be ${value}"},ua={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},da={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},YR={notType:t=>{const{path:e,value:r,spec:n}=t,s=n.types.length;if(Array.isArray(r)){if(r.length<s)return`${e} tuple value has too few items, expected a length of ${s} but got ${r.length} for value: \`${vr(r,!0)}\``;if(r.length>s)return`${e} tuple value has too many items, expected a length of ${s} but got ${r.length} for value: \`${vr(r,!0)}\``}return nt.formatError(qt.notType,t)}};Object.assign(Object.create(null),{mixed:qt,string:Ze,number:KR,date:hd,object:ua,array:da,boolean:JR,tuple:YR});const ql=t=>t&&t.__isYupSchema__;class Ya{static fromOptions(e,r){if(!r.then&&!r.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:s,otherwise:i}=r,o=typeof n=="function"?n:(...a)=>a.every(c=>c===n);return new Ya(e,(a,c)=>{var u;let d=o(...a)?s:i;return(u=d==null?void 0:d(c))!=null?u:c})}constructor(e,r){this.fn=void 0,this.refs=e,this.refs=e,this.fn=r}resolve(e,r){let n=this.refs.map(i=>i.getValue(r==null?void 0:r.value,r==null?void 0:r.parent,r==null?void 0:r.context)),s=this.fn(n,e,r);if(s===void 0||s===e)return e;if(!ql(s))throw new TypeError("conditions must return a schema object");return s.resolve(r)}}const Go={context:"$",value:"."};function QR(t,e){return new wn(t,e)}class wn{constructor(e,r={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Go.context,this.isValue=this.key[0]===Go.value,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?Go.context:this.isValue?Go.value:"";this.path=this.key.slice(n.length),this.getter=this.path&&Rn.getter(this.path,!0),this.map=r.map}getValue(e,r,n){let s=this.isContext?n:this.isValue?e:r;return this.getter&&(s=this.getter(s||{})),this.map&&(s=this.map(s)),s}cast(e,r){return this.getValue(e,r==null?void 0:r.parent,r==null?void 0:r.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}wn.prototype.__isYupRef=!0;const Pn=t=>t==null;function os(t){function e({value:r,path:n="",options:s,originalValue:i,schema:o},a,c){const{name:u,test:d,params:f,message:h,skipAbsent:m}=t;let{parent:v,context:w,abortEarly:_=o.spec.abortEarly,disableStackTrace:g=o.spec.disableStackTrace}=s;function p(I){return wn.isRef(I)?I.getValue(r,v,w):I}function y(I={}){const M=Object.assign({value:r,originalValue:i,label:o.spec.label,path:I.path||n,spec:o.spec,disableStackTrace:I.disableStackTrace||g},f,I.params);for(const W of Object.keys(M))M[W]=p(M[W]);const H=new nt(nt.formatError(I.message||h,M),r,M.path,I.type||u,M.disableStackTrace);return H.params=M,H}const x=_?a:c;let E={path:n,parent:v,type:u,from:s.from,createError:y,resolve:p,options:s,originalValue:i,schema:o};const k=I=>{nt.isError(I)?x(I):I?c(null):x(y())},T=I=>{nt.isError(I)?x(I):a(I)};if(m&&Pn(r))return k(!0);let U;try{var S;if(U=d.call(E,r,E),typeof((S=U)==null?void 0:S.then)=="function"){if(s.sync)throw new Error(`Validation test of type: "${E.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(U).then(k,T)}}catch(I){T(I);return}k(U)}return e.OPTIONS=t,e}function XR(t,e,r,n=r){let s,i,o;return e?(Rn.forEach(e,(a,c,u)=>{let d=c?a.slice(1,a.length-1):a;t=t.resolve({context:n,parent:s,value:r});let f=t.type==="tuple",h=u?parseInt(d,10):0;if(t.innerType||f){if(f&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(r&&h>=r.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${e}. because there is no value at that index. `);s=r,r=r&&r[h],t=f?t.spec.types[h]:t.innerType}if(!u){if(!t.fields||!t.fields[d])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t.type}")`);s=r,r=r&&r[d],t=t.fields[d]}i=d,o=c?"["+a+"]":"."+a}),{schema:t,parent:s,parentPath:i}):{parent:s,parentPath:e,schema:t}}class Qa extends Set{describe(){const e=[];for(const r of this.values())e.push(wn.isRef(r)?r.describe():r);return e}resolveAll(e){let r=[];for(const n of this.values())r.push(e(n));return r}clone(){return new Qa(this.values())}merge(e,r){const n=this.clone();return e.forEach(s=>n.add(s)),r.forEach(s=>n.delete(s)),n}}function xs(t,e=new Map){if(ql(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let r;if(t instanceof Date)r=new Date(t.getTime()),e.set(t,r);else if(t instanceof RegExp)r=new RegExp(t),e.set(t,r);else if(Array.isArray(t)){r=new Array(t.length),e.set(t,r);for(let n=0;n<t.length;n++)r[n]=xs(t[n],e)}else if(t instanceof Map){r=new Map,e.set(t,r);for(const[n,s]of t.entries())r.set(n,xs(s,e))}else if(t instanceof Set){r=new Set,e.set(t,r);for(const n of t)r.add(xs(n,e))}else if(t instanceof Object){r={},e.set(t,r);for(const[n,s]of Object.entries(t))r[n]=xs(s,e)}else throw Error(`Unable to clone ${t}`);return r}class zt{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Qa,this._blacklist=new Qa,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(qt.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(r=>{r.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const r=Object.create(Object.getPrototypeOf(this));return r.type=this.type,r._typeCheck=this._typeCheck,r._whitelist=this._whitelist.clone(),r._blacklist=this._blacklist.clone(),r.internalTests=Object.assign({},this.internalTests),r.exclusiveTests=Object.assign({},this.exclusiveTests),r.deps=[...this.deps],r.conditions=[...this.conditions],r.tests=[...this.tests],r.transforms=[...this.transforms],r.spec=xs(Object.assign({},this.spec,e)),r}label(e){let r=this.clone();return r.spec.label=e,r}meta(...e){if(e.length===0)return this.spec.meta;let r=this.clone();return r.spec.meta=Object.assign(r.spec.meta||{},e[0]),r}withMutation(e){let r=this._mutate;this._mutate=!0;let n=e(this);return this._mutate=r,n}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let r=this,n=e.clone();const s=Object.assign({},r.spec,n.spec);return n.spec=s,n.internalTests=Object.assign({},r.internalTests,n.internalTests),n._whitelist=r._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=r._blacklist.merge(e._blacklist,e._whitelist),n.tests=r.tests,n.exclusiveTests=r.exclusiveTests,n.withMutation(i=>{e.tests.forEach(o=>{i.test(o.OPTIONS)})}),n.transforms=[...r.transforms,...n.transforms],n}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let r=this;if(r.conditions.length){let n=r.conditions;r=r.clone(),r.conditions=[],r=n.reduce((s,i)=>i.resolve(s,e),r),r=r.resolve(e)}return r}resolveOptions(e){var r,n,s,i;return Object.assign({},e,{from:e.from||[],strict:(r=e.strict)!=null?r:this.spec.strict,abortEarly:(n=e.abortEarly)!=null?n:this.spec.abortEarly,recursive:(s=e.recursive)!=null?s:this.spec.recursive,disableStackTrace:(i=e.disableStackTrace)!=null?i:this.spec.disableStackTrace})}cast(e,r={}){let n=this.resolve(Object.assign({value:e},r)),s=r.assert==="ignore-optionality",i=n._cast(e,r);if(r.assert!==!1&&!n.isType(i)){if(s&&Pn(i))return i;let o=vr(e),a=vr(i);throw new TypeError(`The value of ${r.path||"field"} could not be cast to a value that satisfies the schema type: "${n.type}". 

attempted value: ${o} 
`+(a!==o?`result of cast: ${a}`:""))}return i}_cast(e,r){let n=e===void 0?e:this.transforms.reduce((s,i)=>i.call(this,s,e,this),e);return n===void 0&&(n=this.getDefault(r)),n}_validate(e,r={},n,s){let{path:i,originalValue:o=e,strict:a=this.spec.strict}=r,c=e;a||(c=this._cast(c,Object.assign({assert:!1},r)));let u=[];for(let d of Object.values(this.internalTests))d&&u.push(d);this.runTests({path:i,value:c,originalValue:o,options:r,tests:u},n,d=>{if(d.length)return s(d,c);this.runTests({path:i,value:c,originalValue:o,options:r,tests:this.tests},n,s)})}runTests(e,r,n){let s=!1,{tests:i,value:o,originalValue:a,path:c,options:u}=e,d=w=>{s||(s=!0,r(w,o))},f=w=>{s||(s=!0,n(w,o))},h=i.length,m=[];if(!h)return f([]);let v={value:o,originalValue:a,path:c,options:u,schema:this};for(let w=0;w<i.length;w++){const _=i[w];_(v,d,function(p){p&&(Array.isArray(p)?m.push(...p):m.push(p)),--h<=0&&f(m)})}}asNestedTest({key:e,index:r,parent:n,parentPath:s,originalParent:i,options:o}){const a=e??r;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const c=typeof a=="number";let u=n[a];const d=Object.assign({},o,{strict:!0,parent:n,value:u,originalValue:i[a],key:void 0,[c?"index":"key"]:a,path:c||a.includes(".")?`${s||""}[${c?a:`"${a}"`}]`:(s?`${s}.`:"")+e});return(f,h,m)=>this.resolve(d)._validate(u,d,h,m)}validate(e,r){var n;let s=this.resolve(Object.assign({},r,{value:e})),i=(n=r==null?void 0:r.disableStackTrace)!=null?n:s.spec.disableStackTrace;return new Promise((o,a)=>s._validate(e,r,(c,u)=>{nt.isError(c)&&(c.value=u),a(c)},(c,u)=>{c.length?a(new nt(c,u,void 0,void 0,i)):o(u)}))}validateSync(e,r){var n;let s=this.resolve(Object.assign({},r,{value:e})),i,o=(n=r==null?void 0:r.disableStackTrace)!=null?n:s.spec.disableStackTrace;return s._validate(e,Object.assign({},r,{sync:!0}),(a,c)=>{throw nt.isError(a)&&(a.value=c),a},(a,c)=>{if(a.length)throw new nt(a,e,void 0,void 0,o);i=c}),i}isValid(e,r){return this.validate(e,r).then(()=>!0,n=>{if(nt.isError(n))return!1;throw n})}isValidSync(e,r){try{return this.validateSync(e,r),!0}catch(n){if(nt.isError(n))return!1;throw n}}_getDefault(e){let r=this.spec.default;return r==null?r:typeof r=="function"?r.call(this,e):xs(r)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,r){const n=this.clone({nullable:e});return n.internalTests.nullable=os({message:r,name:"nullable",test(s){return s===null?this.schema.spec.nullable:!0}}),n}optionality(e,r){const n=this.clone({optional:e});return n.internalTests.optionality=os({message:r,name:"optionality",test(s){return s===void 0?this.schema.spec.optional:!0}}),n}optional(){return this.optionality(!0)}defined(e=qt.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=qt.notNull){return this.nullability(!1,e)}required(e=qt.required){return this.clone().withMutation(r=>r.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let r=this.clone();return r.transforms.push(e),r}test(...e){let r;if(e.length===1?typeof e[0]=="function"?r={test:e[0]}:r=e[0]:e.length===2?r={name:e[0],test:e[1]}:r={name:e[0],message:e[1],test:e[2]},r.message===void 0&&(r.message=qt.default),typeof r.test!="function")throw new TypeError("`test` is a required parameters");let n=this.clone(),s=os(r),i=r.exclusive||r.name&&n.exclusiveTests[r.name]===!0;if(r.exclusive&&!r.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return r.name&&(n.exclusiveTests[r.name]=!!r.exclusive),n.tests=n.tests.filter(o=>!(o.OPTIONS.name===r.name&&(i||o.OPTIONS.test===s.OPTIONS.test))),n.tests.push(s),n}when(e,r){!Array.isArray(e)&&typeof e!="string"&&(r=e,e=".");let n=this.clone(),s=ub(e).map(i=>new wn(i));return s.forEach(i=>{i.isSibling&&n.deps.push(i.key)}),n.conditions.push(typeof r=="function"?new Ya(s,r):Ya.fromOptions(s,r)),n}typeError(e){let r=this.clone();return r.internalTests.typeError=os({message:e,name:"typeError",skipAbsent:!0,test(n){return this.schema._typeCheck(n)?!0:this.createError({params:{type:this.schema.type}})}}),r}oneOf(e,r=qt.oneOf){let n=this.clone();return e.forEach(s=>{n._whitelist.add(s),n._blacklist.delete(s)}),n.internalTests.whiteList=os({message:r,name:"oneOf",skipAbsent:!0,test(s){let i=this.schema._whitelist,o=i.resolveAll(this.resolve);return o.includes(s)?!0:this.createError({params:{values:Array.from(i).join(", "),resolved:o}})}}),n}notOneOf(e,r=qt.notOneOf){let n=this.clone();return e.forEach(s=>{n._blacklist.add(s),n._whitelist.delete(s)}),n.internalTests.blacklist=os({message:r,name:"notOneOf",test(s){let i=this.schema._blacklist,o=i.resolveAll(this.resolve);return o.includes(s)?this.createError({params:{values:Array.from(i).join(", "),resolved:o}}):!0}}),n}strip(e=!0){let r=this.clone();return r.spec.strip=e,r}describe(e){const r=(e?this.resolve(e):this).clone(),{label:n,meta:s,optional:i,nullable:o}=r.spec;return{meta:s,label:n,optional:i,nullable:o,default:r.getDefault(e),type:r.type,oneOf:r._whitelist.describe(),notOneOf:r._blacklist.describe(),tests:r.tests.map(c=>({name:c.OPTIONS.name,params:c.OPTIONS.params})).filter((c,u,d)=>d.findIndex(f=>f.name===c.name)===u)}}}zt.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])zt.prototype[`${t}At`]=function(e,r,n={}){const{parent:s,parentPath:i,schema:o}=XR(this,e,r,n.context);return o[t](s&&s[i],Object.assign({},n,{parent:s,path:e}))};for(const t of["equals","is"])zt.prototype[t]=zt.prototype.oneOf;for(const t of["not","nope"])zt.prototype[t]=zt.prototype.notOneOf;const ZR=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function e$(t){const e=pd(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let r=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(r=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(r=0-r)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+r,e.second,e.millisecond)}function pd(t){var e,r;const n=ZR.exec(t);return n?{year:ir(n[1]),month:ir(n[2],1)-1,day:ir(n[3],1),hour:ir(n[4]),minute:ir(n[5]),second:ir(n[6]),millisecond:n[7]?ir(n[7].substring(0,3)):0,precision:(e=(r=n[7])==null?void 0:r.length)!=null?e:void 0,z:n[8]||void 0,plusMinus:n[9]||void 0,hourOffset:ir(n[10]),minuteOffset:ir(n[11])}:null}function ir(t,e=0){return Number(t)||e}let t$=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,r$=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,n$=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,s$="^\\d{4}-\\d{2}-\\d{2}",i$="\\d{2}:\\d{2}:\\d{2}",o$="(([+-]\\d{2}(:?\\d{2})?)|Z)",a$=new RegExp(`${s$}T${i$}(\\.\\d+)?${o$}$`),l$=t=>Pn(t)||t===t.trim(),c$={}.toString();function ft(){return new pb}class pb extends zt{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(!n.spec.coerce||n.isType(e)||Array.isArray(e))return e;const s=e!=null&&e.toString?e.toString():e;return s===c$?e:s})})}required(e){return super.required(e).withMutation(r=>r.test({message:e||qt.required,name:"required",skipAbsent:!0,test:n=>!!n.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(r=>r.OPTIONS.name!=="required"),e))}length(e,r=Ze.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,r=Ze.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,r=Ze.max){return this.test({name:"max",exclusive:!0,message:r,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}matches(e,r){let n=!1,s,i;return r&&(typeof r=="object"?{excludeEmptyString:n=!1,message:s,name:i}=r:s=r),this.test({name:i||"matches",message:s||Ze.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&n||o.search(e)!==-1})}email(e=Ze.email){return this.matches(t$,{name:"email",message:e,excludeEmptyString:!0})}url(e=Ze.url){return this.matches(r$,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Ze.uuid){return this.matches(n$,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let r="",n,s;return e&&(typeof e=="object"?{message:r="",allowOffset:n=!1,precision:s=void 0}=e:r=e),this.matches(a$,{name:"datetime",message:r||Ze.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:r||Ze.datetime_offset,params:{allowOffset:n},skipAbsent:!0,test:i=>{if(!i||n)return!0;const o=pd(i);return o?!!o.z:!1}}).test({name:"datetime_precision",message:r||Ze.datetime_precision,params:{precision:s},skipAbsent:!0,test:i=>{if(!i||s==null)return!0;const o=pd(i);return o?o.precision===s:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Ze.trim){return this.transform(r=>r!=null?r.trim():r).test({message:e,name:"trim",test:l$})}lowercase(e=Ze.lowercase){return this.transform(r=>Pn(r)?r:r.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>Pn(r)||r===r.toLowerCase()})}uppercase(e=Ze.uppercase){return this.transform(r=>Pn(r)?r:r.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>Pn(r)||r===r.toUpperCase()})}}ft.prototype=pb.prototype;let u$=new Date(""),d$=t=>Object.prototype.toString.call(t)==="[object Date]";class nh extends zt{constructor(){super({type:"date",check(e){return d$(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,r,n)=>!n.spec.coerce||n.isType(e)||e===null?e:(e=e$(e),isNaN(e)?nh.INVALID_DATE:new Date(e)))})}prepareParam(e,r){let n;if(wn.isRef(e))n=e;else{let s=this.cast(e);if(!this._typeCheck(s))throw new TypeError(`\`${r}\` must be a Date or a value that can be \`cast()\` to a Date`);n=s}return n}min(e,r=hd.min){let n=this.prepareParam(e,"min");return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(s){return s>=this.resolve(n)}})}max(e,r=hd.max){let n=this.prepareParam(e,"max");return this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(s){return s<=this.resolve(n)}})}}nh.INVALID_DATE=u$;function f$(t,e=[]){let r=[],n=new Set,s=new Set(e.map(([o,a])=>`${o}-${a}`));function i(o,a){let c=Rn.split(o)[0];n.add(c),s.has(`${a}-${c}`)||r.push([a,c])}for(const o of Object.keys(t)){let a=t[o];n.add(o),wn.isRef(a)&&a.isSibling?i(a.path,o):ql(a)&&"deps"in a&&a.deps.forEach(c=>i(c,o))}return MR.array(Array.from(n),r).reverse()}function ag(t,e){let r=1/0;return t.some((n,s)=>{var i;if((i=e.path)!=null&&i.includes(n))return r=s,!0}),r}function mb(t){return(e,r)=>ag(t,e)-ag(t,r)}const gb=(t,e,r)=>{if(typeof t!="string")return t;let n=t;try{n=JSON.parse(t)}catch{}return r.isType(n)?n:t};function fa(t){if("fields"in t){const e={};for(const[r,n]of Object.entries(t.fields))e[r]=fa(n);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=fa(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(fa)}):"optional"in t?t.optional():t}const h$=(t,e)=>{const r=[...Rn.normalizePath(e)];if(r.length===1)return r[0]in t;let n=r.pop(),s=Rn.getter(Rn.join(r),!0)(t);return!!(s&&n in s)};let lg=t=>Object.prototype.toString.call(t)==="[object Object]";function cg(t,e){let r=Object.keys(t.fields);return Object.keys(e).filter(n=>r.indexOf(n)===-1)}const p$=mb([]);function oo(t){return new yb(t)}class yb extends zt{constructor(e){super({type:"object",check(r){return lg(r)||typeof r=="function"}}),this.fields=Object.create(null),this._sortErrors=p$,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,r={}){var n;let s=super._cast(e,r);if(s===void 0)return this.getDefault(r);if(!this._typeCheck(s))return s;let i=this.fields,o=(n=r.stripUnknown)!=null?n:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(s).filter(f=>!this._nodes.includes(f))),c={},u=Object.assign({},r,{parent:c,__validating:r.__validating||!1}),d=!1;for(const f of a){let h=i[f],m=f in s;if(h){let v,w=s[f];u.path=(r.path?`${r.path}.`:"")+f,h=h.resolve({value:w,context:r.context,parent:c});let _=h instanceof zt?h.spec:void 0,g=_==null?void 0:_.strict;if(_!=null&&_.strip){d=d||f in s;continue}v=!r.__validating||!g?h.cast(s[f],u):s[f],v!==void 0&&(c[f]=v)}else m&&!o&&(c[f]=s[f]);(m!==f in c||c[f]!==s[f])&&(d=!0)}return d?c:s}_validate(e,r={},n,s){let{from:i=[],originalValue:o=e,recursive:a=this.spec.recursive}=r;r.from=[{schema:this,value:o},...i],r.__validating=!0,r.originalValue=o,super._validate(e,r,n,(c,u)=>{if(!a||!lg(u)){s(c,u);return}o=o||u;let d=[];for(let f of this._nodes){let h=this.fields[f];!h||wn.isRef(h)||d.push(h.asNestedTest({options:r,key:f,parent:u,parentPath:r.path,originalParent:o}))}this.runTests({tests:d,value:u,originalValue:o,options:r},n,f=>{s(f.sort(this._sortErrors).concat(c),u)})})}clone(e){const r=super.clone(e);return r.fields=Object.assign({},this.fields),r._nodes=this._nodes,r._excludedEdges=this._excludedEdges,r._sortErrors=this._sortErrors,r}concat(e){let r=super.concat(e),n=r.fields;for(let[s,i]of Object.entries(this.fields)){const o=n[s];n[s]=o===void 0?i:o}return r.withMutation(s=>s.setFields(n,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let r={};return this._nodes.forEach(n=>{var s;const i=this.fields[n];let o=e;(s=o)!=null&&s.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[n]})),r[n]=i&&"getDefault"in i?i.getDefault(o):void 0}),r}setFields(e,r){let n=this.clone();return n.fields=e,n._nodes=f$(e,r),n._sortErrors=mb(Object.keys(e)),r&&(n._excludedEdges=r),n}shape(e,r=[]){return this.clone().withMutation(n=>{let s=n._excludedEdges;return r.length&&(Array.isArray(r[0])||(r=[r]),s=[...n._excludedEdges,...r]),n.setFields(Object.assign(n.fields,e),s)})}partial(){const e={};for(const[r,n]of Object.entries(this.fields))e[r]="optional"in n&&n.optional instanceof Function?n.optional():n;return this.setFields(e)}deepPartial(){return fa(this)}pick(e){const r={};for(const n of e)this.fields[n]&&(r[n]=this.fields[n]);return this.setFields(r,this._excludedEdges.filter(([n,s])=>e.includes(n)&&e.includes(s)))}omit(e){const r=[];for(const n of Object.keys(this.fields))e.includes(n)||r.push(n);return this.pick(r)}from(e,r,n){let s=Rn.getter(e,!0);return this.transform(i=>{if(!i)return i;let o=i;return h$(i,e)&&(o=Object.assign({},i),n||delete o[e],o[r]=s(i)),o})}json(){return this.transform(gb)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||ua.exact,test(r){if(r==null)return!0;const n=cg(this.schema,r);return n.length===0||this.createError({params:{properties:n.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,r=ua.noUnknown){typeof e!="boolean"&&(r=e,e=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:r,test(s){if(s==null)return!0;const i=cg(this.schema,s);return!e||i.length===0||this.createError({params:{unknown:i.join(", ")}})}});return n.spec.noUnknown=e,n}unknown(e=!0,r=ua.noUnknown){return this.noUnknown(!e,r)}transformKeys(e){return this.transform(r=>{if(!r)return r;const n={};for(const s of Object.keys(r))n[e(s)]=r[s];return n})}camelCase(){return this.transformKeys(Hc.camelCase)}snakeCase(){return this.transformKeys(Hc.snakeCase)}constantCase(){return this.transformKeys(e=>Hc.snakeCase(e).toUpperCase())}describe(e){const r=(e?this.resolve(e):this).clone(),n=super.describe(e);n.fields={};for(const[i,o]of Object.entries(r.fields)){var s;let a=e;(s=a)!=null&&s.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[i]})),n.fields[i]=o.describe(a)}return n}}oo.prototype=yb.prototype;function ha(t){return new vb(t)}class vb extends zt{constructor(e){super({type:"array",spec:{types:e},check(r){return Array.isArray(r)}}),this.innerType=void 0,this.innerType=e}_cast(e,r){const n=super._cast(e,r);if(!this._typeCheck(n)||!this.innerType)return n;let s=!1;const i=n.map((o,a)=>{const c=this.innerType.cast(o,Object.assign({},r,{path:`${r.path||""}[${a}]`}));return c!==o&&(s=!0),c});return s?i:n}_validate(e,r={},n,s){var i;let o=this.innerType,a=(i=r.recursive)!=null?i:this.spec.recursive;r.originalValue!=null&&r.originalValue,super._validate(e,r,n,(c,u)=>{var d;if(!a||!o||!this._typeCheck(u)){s(c,u);return}let f=new Array(u.length);for(let m=0;m<u.length;m++){var h;f[m]=o.asNestedTest({options:r,index:m,parent:u,parentPath:r.path,originalParent:(h=r.originalValue)!=null?h:e})}this.runTests({value:u,tests:f,originalValue:(d=r.originalValue)!=null?d:e,options:r},n,m=>s(m.concat(c),u))})}clone(e){const r=super.clone(e);return r.innerType=this.innerType,r}json(){return this.transform(gb)}concat(e){let r=super.concat(e);return r.innerType=this.innerType,e.innerType&&(r.innerType=r.innerType?r.innerType.concat(e.innerType):e.innerType),r}of(e){let r=this.clone();if(!ql(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+vr(e));return r.innerType=e,r.spec=Object.assign({},r.spec,{types:e}),r}length(e,r=da.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,r){return r=r||da.min,this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,r){return r=r||da.max,this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,r)=>this._typeCheck(e)?e:r==null?[]:[].concat(r))}compact(e){let r=e?(n,s,i)=>!e(n,s,i):n=>!!n;return this.transform(n=>n!=null?n.filter(r):n)}describe(e){const r=(e?this.resolve(e):this).clone(),n=super.describe(e);if(r.innerType){var s;let i=e;(s=i)!=null&&s.value&&(i=Object.assign({},i,{parent:i.value,value:i.value[0]})),n.innerType=r.innerType.describe(i)}return n}}ha.prototype=vb.prototype;const m$=()=>{const[t,e]=b.useState(""),[r,n]=b.useState(""),[s,i]=b.useState(!1),[o,a]=b.useState(!1),{login:c,resetPassword:u,currentUser:d,checkOnboardingStatus:f}=bt(),h=Cr();b.useEffect(()=>{(async()=>{if(d)try{const E=await f(d);h(E?"/dashboard":"/onboarding")}catch(E){console.error("Error checking onboarding status:",E),h("/dashboard")}})()},[d,h,f]);const m=oo({email:ft().email("Invalid email address").required("Email is required"),password:ft().required("Password is required").min(6,"Password must be at least 6 characters")}),v=oo({email:ft().email("Invalid email address").required("Email is required")}),w={email:"",password:""},_={email:""},g=async(x,{setSubmitting:E})=>{try{e(""),n(""),i(!0);const k=await c(x.email,x.password);try{const T=await f(k);h(T?"/dashboard":"/onboarding")}catch(T){console.error("Error checking onboarding status:",T),h("/dashboard")}}catch(k){e("Failed to log in. Please check your credentials."),console.error(k)}finally{i(!1),E(!1)}},p=async(x,{setSubmitting:E})=>{try{n(""),e(""),i(!0),await u(x.email),n("An email has been sent to you with instructions to reset your password. Please check your inbox and spam folder.")}catch(k){console.error("Error sending password reset email:",k),k.code==="auth/user-not-found"?e("No account found with that email address"):k.code==="auth/invalid-email"?e("Invalid email address"):k.code==="auth/too-many-requests"?e("Too many password reset requests. Please try again later"):e("Failed to send reset email. Please try again")}finally{i(!1),E(!1)}},y=()=>{a(!o),e(""),n("")};return l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-3xl font-bold text-text-dark mb-4",children:"Welcome to LeadLines"}),l.jsx("p",{className:"text-text-dark mb-8",children:o?"Enter your email address and we'll send you a link to reset your password.":"Powerful Campaigns Made For You In Seconds."}),l.jsx("div",{className:"max-w-md mx-auto mb-12",children:l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-xl font-semibold text-text-dark mb-4",children:o?"Reset Your Password":"Log In to Your Account"}),t&&l.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",role:"alert",children:l.jsx("span",{className:"block sm:inline",children:t})}),r&&l.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",role:"alert",children:l.jsx("span",{className:"block sm:inline",children:r})}),l.jsx(Xf,{initialValues:o?_:w,validationSchema:o?v:m,onSubmit:o?p:g,enableReinitialize:!0,children:({isSubmitting:x})=>l.jsxs(Bl,{className:"space-y-4",children:[l.jsxs("div",{className:"text-left",children:[l.jsx("label",{htmlFor:"email",className:"block text-text-dark mb-1",children:o?"Email Address":"Email"}),l.jsx(ie,{type:"email",id:"email",name:"email",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",placeholder:"your@email.com"}),l.jsx(et,{name:"email",component:"div",className:"text-red-500 text-sm mt-1"})]}),!o&&l.jsxs("div",{className:"text-left",children:[l.jsx("label",{htmlFor:"password",className:"block text-text-dark mb-1",children:"Password"}),l.jsx(ie,{type:"password",id:"password",name:"password",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",placeholder:"••••••••"}),l.jsx(et,{name:"password",component:"div",className:"text-red-500 text-sm mt-1"})]}),!o&&l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded"}),l.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-text-dark",children:"Remember me"})]}),l.jsx("div",{className:"text-sm",children:l.jsx("button",{type:"button",onClick:y,className:"text-secondary hover:text-opacity-80",children:"Forgot password?"})})]}),l.jsx("button",{type:"submit",disabled:x||s,className:"w-full btn-primary disabled:opacity-50",children:s?o?"Sending...":"Logging in...":o?"Send Reset Email":"Log In"})]})}),l.jsx("div",{className:"mt-4 text-center",children:o?l.jsxs("p",{className:"text-text-dark",children:["Remember your password?"," ",l.jsx("button",{onClick:y,className:"text-secondary hover:text-opacity-80",children:"Back to Login"})]}):l.jsxs("p",{className:"text-text-dark",children:["Don't have an account?"," ",l.jsx(Et,{to:"/register",className:"text-secondary hover:text-opacity-80",children:"Sign up"})]})})]})}),l.jsxs("div",{className:"mt-8 bg-accent p-6 rounded-lg shadow-md max-w-4xl mx-auto",children:[l.jsx("h3",{className:"text-xl font-semibold text-text-dark mb-3",children:o?"Password Reset Help":"Harness The Power"}),o?l.jsxs("div",{className:"text-left text-text-dark space-y-2",children:[l.jsx("p",{children:"• Check your email inbox and spam folder for the reset link"}),l.jsx("p",{children:"• The reset link will expire in 1 hour for security"}),l.jsx("p",{children:"• If you don't receive an email, try again or contact support"}),l.jsx("p",{children:"• Make sure to use a strong password when resetting"})]}):l.jsxs("ul",{className:"text-left text-text-dark space-y-2",children:[l.jsx("li",{children:"✓ Access proven sales workflows that generate leads and campaigns"}),l.jsx("li",{children:"✓ Real-time cost estimation before launching campaigns"}),l.jsx("li",{children:"✓ Target the perfect audience for your services"}),l.jsx("li",{children:"✓ Save time with automated lead generation processes"})]})]})]})},g$=()=>{const[t,e]=b.useState(""),[r,n]=b.useState(!1),{signup:s,currentUser:i,checkOnboardingStatus:o}=bt(),a=Cr();b.useEffect(()=>{(async()=>{if(i)try{const h=await o(i);a(h?"/dashboard":"/onboarding")}catch(h){console.error("Error checking onboarding status:",h),a("/dashboard")}})()},[i,a,o]);const c=oo({name:ft().required("Name is required").min(2,"Name must be at least 2 characters"),email:ft().email("Invalid email address").required("Email is required"),password:ft().required("Password is required").min(6,"Password must be at least 6 characters"),confirmPassword:ft().oneOf([QR("password"),null],"Passwords must match").required("Confirm Password is required")}),u={name:"",email:"",password:"",confirmPassword:""},d=async(f,{setSubmitting:h})=>{try{e(""),n(!0),await s(f.email,f.password),a("/onboarding")}catch(m){e("Failed to create an account. Please try again."),console.error(m)}finally{n(!1),h(!1)}};return l.jsxs("div",{className:"max-w-md mx-auto",children:[l.jsx("h2",{className:"text-2xl font-bold text-text-dark mb-6 text-center",children:"Create an Account"}),t&&l.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",role:"alert",children:l.jsx("span",{className:"block sm:inline",children:t})}),l.jsxs("div",{className:"card",children:[l.jsx(Xf,{initialValues:u,validationSchema:c,onSubmit:d,children:({isSubmitting:f})=>l.jsxs(Bl,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"name",className:"block text-text-dark mb-1",children:"Full Name"}),l.jsx(ie,{type:"text",id:"name",name:"name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",placeholder:"John Doe"}),l.jsx(et,{name:"name",component:"div",className:"text-red-500 text-sm mt-1"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-text-dark mb-1",children:"Email"}),l.jsx(ie,{type:"email",id:"email",name:"email",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",placeholder:"your@email.com"}),l.jsx(et,{name:"email",component:"div",className:"text-red-500 text-sm mt-1"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-text-dark mb-1",children:"Password"}),l.jsx(ie,{type:"password",id:"password",name:"password",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",placeholder:"••••••••"}),l.jsx(et,{name:"password",component:"div",className:"text-red-500 text-sm mt-1"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"confirmPassword",className:"block text-text-dark mb-1",children:"Confirm Password"}),l.jsx(ie,{type:"password",id:"confirmPassword",name:"confirmPassword",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",placeholder:"••••••••"}),l.jsx(et,{name:"confirmPassword",component:"div",className:"text-red-500 text-sm mt-1"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{id:"terms",name:"terms",type:"checkbox",className:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded",required:!0}),l.jsxs("label",{htmlFor:"terms",className:"ml-2 block text-sm text-text-dark",children:["I agree to the ",l.jsx("a",{href:"#",className:"text-secondary hover:text-opacity-80",children:"Terms of Service"})," and ",l.jsx("a",{href:"#",className:"text-secondary hover:text-opacity-80",children:"Privacy Policy"})]})]}),l.jsx("button",{type:"submit",disabled:f||r,className:"w-full btn-primary disabled:opacity-50",children:r?"Creating Account...":"Sign Up"})]})}),l.jsx("div",{className:"mt-4 text-center",children:l.jsxs("p",{className:"text-text-dark",children:["Already have an account?"," ",l.jsx(Et,{to:"/login",className:"text-secondary hover:text-opacity-80",children:"Log in"})]})})]})]})};let md;try{md=require("../../services/WorkflowService").default}catch(t){console.error("Error importing WorkflowService:",t),md={getUserWorkflowCounts:async()=>[],incrementSubmissionCount:async()=>!0,updateProcessingStatus:async()=>!0}}const y$=()=>{const{currentUser:t}=bt(),[e,r]=b.useState([{id:1,title:"Job Posting Campaign",description:"Find companies with active job postings and target them with your services",submissions:0,hasProcessing:!1,createdAt:"2025-03-28"},{id:2,title:"Coming soon...",description:"Currently in development",submissions:0,hasProcessing:!1,createdAt:"2025-03-30"}]),[n,s]=b.useState(!0),[i,o]=b.useState(null);b.useEffect(()=>{(async()=>{if(!t){s(!1);return}try{s(!0),o(null);const u=await md.getUserWorkflowCounts(t.uid);if(u&&u.length>0){const d=e.map(f=>{const h=u.find(m=>m.workflow_id===f.id);return h?{...f,submissions:h.submission_count||0,hasProcessing:h.has_processing||!1}:f});r(d)}}catch(u){console.error("Error in fetchUserSubmissionCounts:",u),o("Failed to load workflow data. Please try again later.")}finally{s(!1)}})()},[t]);const a=()=>{window.open("https://app.instantly.ai/app/dashboard","_blank")};return l.jsxs("div",{children:[l.jsx("div",{className:"mb-8",children:l.jsx("h2",{className:"text-2xl font-bold text-text-dark",children:"Dashboard"})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[l.jsxs("button",{onClick:a,className:"card bg-accent text-text-dark hover:bg-accent-dark transition-colors flex flex-col items-center justify-center cursor-pointer",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),l.jsx("h3",{className:"text-xl font-semibold mb-1",children:"Access Instantly Account"}),l.jsx("p",{className:"text-sm text-center",children:"Open your Instantly dashboard in a new tab"})]}),l.jsxs(Et,{to:"/email-submission",className:"card bg-accent text-text-dark hover:bg-accent-dark transition-colors flex flex-col items-center justify-center cursor-pointer",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),l.jsx("h3",{className:"text-xl font-semibold mb-1",children:"Email Account Submission"}),l.jsx("p",{className:"text-sm text-center",children:"Submit your email account details"})]}),l.jsxs(Et,{to:"/schedule-call",className:"card bg-accent text-text-dark hover:bg-accent-dark transition-colors flex flex-col items-center justify-center cursor-pointer",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),l.jsx("h3",{className:"text-xl font-semibold mb-1",children:"Schedule a Call"}),l.jsx("p",{className:"text-sm text-center",children:"Book a consultation with our team"})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-text-dark mb-4",children:"Available Workflows"}),i&&l.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:i}),n?l.jsx("div",{className:"flex justify-center items-center h-40",children:l.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-secondary"})}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(c=>l.jsxs("div",{className:"card hover:shadow-lg transition-shadow flex flex-col h-full",children:[l.jsxs("div",{className:"flex-grow",children:[l.jsx("h4",{className:"text-lg font-semibold text-text-dark mb-2",children:c.title}),l.jsx("p",{className:"text-gray-600 mb-4",children:c.description}),l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsxs("span",{className:"text-sm text-gray-500",children:["Submissions: ",c.submissions]}),c.hasProcessing&&l.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-yellow-100 text-yellow-800",children:"Processing"})]})]}),l.jsx("div",{className:"mt-auto pt-4",children:l.jsx(Et,{to:`/workflow/${c.id}`,className:"btn-primary w-full block text-center",children:"Select Workflow"})})]},c.id))})]})]})};class v${async getUserWorkflowCounts(e){try{if(!e)return[];const{data:r,error:n}=await q.from("user_workflow_submissions").select("workflow_id, submission_count, has_processing").eq("user_id",e);return n?(console.error("Error fetching workflow counts:",n),[]):r||[]}catch(r){return console.error("Error in getUserWorkflowCounts:",r),[]}}async incrementSubmissionCount(e,r){try{if(!e||!r)return!1;const{data:n}=await q.from("user_workflow_submissions").select("id, submission_count").eq("user_id",e).eq("workflow_id",r).single();if(n){const{error:s}=await q.from("user_workflow_submissions").update({submission_count:n.submission_count+1,updated_at:new Date().toISOString()}).eq("id",n.id);if(s)return console.error("Error updating submission count:",s),!1}else{const{error:s}=await q.from("user_workflow_submissions").insert({user_id:e,workflow_id:r,submission_count:1,has_processing:!1});if(s)return console.error("Error inserting submission count:",s),!1}return!0}catch(n){return console.error("Error incrementing submission count:",n),!1}}async updateProcessingStatus(e,r,n){try{if(!e||!r)return!1;const{error:s}=await q.from("user_workflow_submissions").update({has_processing:n,updated_at:new Date().toISOString()}).eq("user_id",e).eq("workflow_id",r);return s?(console.error("Error updating processing status:",s),!1):!0}catch(s){return console.error("Error updating processing status:",s),!1}}}const wb=new v$,w$=()=>{const[t,e]=b.useState(!1),[r,n]=b.useState(0),{id:s}=RS(),i=Cr(),{currentUser:o}=bt();b.useEffect(()=>{s!=="1"&&i("/not-found")},[s,i]);const a=oo({campaignName:ft().required("Campaign name is required").min(3,"Campaign name must be at least 3 characters"),targetIndustries:ha().min(1,"Select at least one target industry"),jobTitles:ft().required("Job titles are required"),locations:ha().min(1,"Select at least one location"),companySize:ha().min(1,"Select at least one company size"),excludedCompanies:ft(),additionalKeywords:ft(),emailTemplate:ft().required("Email template is required").min(50,"Email template must be at least 50 characters")}),c={campaignName:"",targetIndustries:[],jobTitles:"",locations:[],companySize:[],excludedCompanies:"",additionalKeywords:"",emailTemplate:""},u=f=>{const h=f.jobTitles.split(",").length*15,m=f.locations.length>0?.8:1,v=f.targetIndustries.length>0?.9:1,w=f.additionalKeywords?.7:1,_=f.companySize.length>0?.85:1;return(h*m*v*w*_*1.75).toFixed(2)},d=async(f,{setSubmitting:h,resetForm:m})=>{try{console.log("Submitting campaign:",f),await new Promise(v=>setTimeout(v,1e3)),o&&(await wb.incrementSubmissionCount(o.uid,parseInt(s)),console.log("Incremented submission count for workflow:",s)),e(!0),m(),setTimeout(()=>{e(!1)},5e3)}catch(v){console.error("Error submitting campaign:",v)}finally{h(!1)}};return l.jsxs("div",{className:"max-w-2xl mx-auto",children:[l.jsx("h2",{className:"text-2xl font-bold text-text-dark mb-6",children:"Job Posting Campaign"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"This workflow finds companies with active job postings matching your criteria and generates leads for your outreach campaigns."}),t&&l.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",role:"alert",children:l.jsx("span",{className:"block sm:inline",children:"Campaign submitted successfully!"})}),l.jsx("div",{className:"card",children:l.jsx(Xf,{initialValues:c,validationSchema:a,onSubmit:d,children:({values:f,isSubmitting:h,touched:m,errors:v})=>(bd.useEffect(()=>{n(u(f))},[f]),l.jsxs(Bl,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"campaignName",className:"block text-text-dark mb-1",children:"Campaign Name"}),l.jsx(ie,{type:"text",id:"campaignName",name:"campaignName",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",placeholder:"e.g., Tech Startups Outreach"}),l.jsx(et,{name:"campaignName",component:"div",className:"text-red-500 text-sm mt-1"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-text-dark mb-1",children:"Target Industries"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsxs("label",{className:"flex items-center",children:[l.jsx(ie,{type:"checkbox",name:"targetIndustries",value:"Technology",className:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded"}),l.jsx("span",{className:"ml-2",children:"Technology"})]}),l.jsxs("label",{className:"flex items-center",children:[l.jsx(ie,{type:"checkbox",name:"targetIndustries",value:"Healthcare",className:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded"}),l.jsx("span",{className:"ml-2",children:"Healthcare"})]}),l.jsxs("label",{className:"flex items-center",children:[l.jsx(ie,{type:"checkbox",name:"targetIndustries",value:"Finance",className:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded"}),l.jsx("span",{className:"ml-2",children:"Finance"})]}),l.jsxs("label",{className:"flex items-center",children:[l.jsx(ie,{type:"checkbox",name:"targetIndustries",value:"Education",className:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded"}),l.jsx("span",{className:"ml-2",children:"Education"})]}),l.jsxs("label",{className:"flex items-center",children:[l.jsx(ie,{type:"checkbox",name:"targetIndustries",value:"Retail",className:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded"}),l.jsx("span",{className:"ml-2",children:"Retail"})]}),l.jsxs("label",{className:"flex items-center",children:[l.jsx(ie,{type:"checkbox",name:"targetIndustries",value:"Manufacturing",className:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded"}),l.jsx("span",{className:"ml-2",children:"Manufacturing"})]})]}),l.jsx(et,{name:"targetIndustries",component:"div",className:"text-red-500 text-sm mt-1"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"jobTitles",className:"block text-text-dark mb-1",children:"Job Titles"}),l.jsx(ie,{as:"textarea",id:"jobTitles",name:"jobTitles",rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",placeholder:"Enter job titles separated by commas (e.g., Software Engineer, Product Manager, UX Designer)"}),l.jsx(et,{name:"jobTitles",component:"div",className:"text-red-500 text-sm mt-1"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-text-dark mb-1",children:"Locations"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsxs("label",{className:"flex items-center",children:[l.jsx(ie,{type:"checkbox",name:"locations",value:"United States",className:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded"}),l.jsx("span",{className:"ml-2",children:"United States"})]}),l.jsxs("label",{className:"flex items-center",children:[l.jsx(ie,{type:"checkbox",name:"locations",value:"Remote",className:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded"}),l.jsx("span",{className:"ml-2",children:"Remote"})]}),l.jsxs("label",{className:"flex items-center",children:[l.jsx(ie,{type:"checkbox",name:"locations",value:"Europe",className:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded"}),l.jsx("span",{className:"ml-2",children:"Europe"})]}),l.jsxs("label",{className:"flex items-center",children:[l.jsx(ie,{type:"checkbox",name:"locations",value:"Asia",className:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded"}),l.jsx("span",{className:"ml-2",children:"Asia"})]})]}),l.jsx(et,{name:"locations",component:"div",className:"text-red-500 text-sm mt-1"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-text-dark mb-1",children:"Company Size"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsxs("label",{className:"flex items-center",children:[l.jsx(ie,{type:"checkbox",name:"companySize",value:"1-10",className:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded"}),l.jsx("span",{className:"ml-2",children:"1-10 employees"})]}),l.jsxs("label",{className:"flex items-center",children:[l.jsx(ie,{type:"checkbox",name:"companySize",value:"11-50",className:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded"}),l.jsx("span",{className:"ml-2",children:"11-50 employees"})]}),l.jsxs("label",{className:"flex items-center",children:[l.jsx(ie,{type:"checkbox",name:"companySize",value:"51-200",className:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded"}),l.jsx("span",{className:"ml-2",children:"51-200 employees"})]}),l.jsxs("label",{className:"flex items-center",children:[l.jsx(ie,{type:"checkbox",name:"companySize",value:"201-500",className:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded"}),l.jsx("span",{className:"ml-2",children:"201-500 employees"})]}),l.jsxs("label",{className:"flex items-center",children:[l.jsx(ie,{type:"checkbox",name:"companySize",value:"501-1000",className:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded"}),l.jsx("span",{className:"ml-2",children:"501-1000 employees"})]}),l.jsxs("label",{className:"flex items-center",children:[l.jsx(ie,{type:"checkbox",name:"companySize",value:"1001+",className:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded"}),l.jsx("span",{className:"ml-2",children:"1001+ employees"})]})]}),l.jsx(et,{name:"companySize",component:"div",className:"text-red-500 text-sm mt-1"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"excludedCompanies",className:"block text-text-dark mb-1",children:"Excluded Companies (Optional)"}),l.jsx(ie,{as:"textarea",id:"excludedCompanies",name:"excludedCompanies",rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",placeholder:"Enter companies to exclude, separated by commas"}),l.jsx(et,{name:"excludedCompanies",component:"div",className:"text-red-500 text-sm mt-1"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"additionalKeywords",className:"block text-text-dark mb-1",children:"Additional Keywords (Optional)"}),l.jsx(ie,{type:"text",id:"additionalKeywords",name:"additionalKeywords",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",placeholder:"e.g., React, JavaScript, Remote"}),l.jsx(et,{name:"additionalKeywords",component:"div",className:"text-red-500 text-sm mt-1"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"emailTemplate",className:"block text-text-dark mb-1",children:"Email Template"}),l.jsx(ie,{as:"textarea",id:"emailTemplate",name:"emailTemplate",rows:"6",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",placeholder:"Enter your email template. Use {{company}} and {{position}} as placeholders."}),l.jsx(et,{name:"emailTemplate",component:"div",className:"text-red-500 text-sm mt-1"})]}),l.jsxs("div",{className:"bg-accent p-4 rounded-md",children:[l.jsx("h3",{className:"text-lg font-semibold text-text-dark mb-2",children:"Estimated Results and Costs"}),l.jsx("p",{className:"text-sm text-text-dark mb-3",children:"Based on your filter criteria, here are the estimated results and costs. Adjust your filters to align with your budget."}),l.jsxs("div",{className:"flex justify-between items-center py-1 border-b border-gray-200",children:[l.jsx("span",{className:"text-text-dark",children:"Estimated Companies:"}),l.jsx("span",{className:"font-medium",children:Math.round(r/1.75)})]}),l.jsxs("div",{className:"flex justify-between items-center py-1 border-b border-gray-200",children:[l.jsx("span",{className:"text-text-dark",children:"Estimated Decision Makers:"}),l.jsx("span",{className:"font-medium",children:Math.round(r/1.75*1.5)})]}),l.jsxs("div",{className:"flex justify-between items-center py-1 border-b border-gray-200",children:[l.jsx("span",{className:"text-text-dark",children:"Estimated Email Deliveries:"}),l.jsx("span",{className:"font-medium",children:Math.round(r/1.75*1.5*.95)})]}),l.jsxs("div",{className:"flex justify-between items-center py-2 mt-1 font-bold",children:[l.jsx("span",{className:"text-text-dark",children:"Total Estimated Cost:"}),l.jsxs("span",{className:"text-text-dark",children:["$",r]})]})]}),l.jsx("button",{type:"submit",disabled:h,className:"w-full btn-primary disabled:opacity-50",children:h?"Submitting...":"Launch Campaign"})]}))})})]})},b$=()=>{const{currentUser:t,getUserSettings:e,updateUserSettings:r,updatePassword:n}=bt(),[s,i]=b.useState(!0),[o,a]=b.useState(!1),[c,u]=b.useState(!1),[d,f]=b.useState(!1),[h,m]=b.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[v,w]=b.useState(""),[_,g]=b.useState(""),p=e()||{integrations:{instantly:{apiKey:"",isConnected:!1}}},[y,x]=b.useState(null);b.useEffect(()=>{(async()=>{if(!t){i(!1);return}try{const{data:R,error:ue}=await q.from("users").select("*").eq("firebase_uid",t.uid).single();if(ue){console.error("Error fetching user data:",ue),ue.code==="PGRST116"&&await E();return}const{data:pe,error:C}=await q.from("user_settings").select("*").eq("firebase_uid",t.uid).single();C&&C.code!=="PGRST116"&&console.error("Error fetching user settings:",C),x({name:(R==null?void 0:R.full_name)||"John Doe",email:(R==null?void 0:R.email)||t.email||"john.doe@example.com",company:(R==null?void 0:R.company)||"Acme Corporation",role:(R==null?void 0:R.role)||"Hiring Manager",phone:(pe==null?void 0:pe.phone)||"(555) 123-4567",notifications:(pe==null?void 0:pe.notifications)||{email:!0,browser:!1,mobile:!0},integrations:(pe==null?void 0:pe.integrations)||p.integrations||{instantly:{apiKey:"",isConnected:!1}}})}catch(R){console.error("Error in fetchUserProfile:",R)}finally{i(!1)}})()},[t]);const E=async()=>{if(t)try{const{error:W}=await q.from("users").insert({firebase_uid:t.uid,email:t.email,full_name:"New User",company:"Your Company",role:"Your Role"});if(W){console.error("Error creating user record:",W);return}const{error:R}=await q.from("user_settings").insert({firebase_uid:t.uid,phone:"(555) 123-4567",notifications:{email:!0,browser:!1,mobile:!0},integrations:{instantly:{apiKey:"",isConnected:!1}}});R&&console.error("Error creating user settings record:",R),x({name:"New User",email:t.email,company:"Your Company",role:"Your Role",phone:"(555) 123-4567",notifications:{email:!0,browser:!1,mobile:!0},integrations:{instantly:{apiKey:"",isConnected:!1}}})}catch(W){console.error("Error in createUserProfile:",W)}};b.useEffect(()=>{p&&y&&x(W=>({...W,integrations:p.integrations||{instantly:{apiKey:"",isConnected:!1}}}))},[p]);const k=W=>{const{name:R,value:ue}=W.target;x({...y,[R]:ue})},T=W=>{const{value:R}=W.target;x({...y,integrations:{...y.integrations,instantly:{...y.integrations.instantly,apiKey:R}}})},A=W=>{const{name:R,checked:ue}=W.target;x({...y,notifications:{...y.notifications,[R]:ue}})},U=W=>{const{name:R,value:ue}=W.target;m({...h,[R]:ue})},S=async W=>{W.preventDefault();try{const{error:R}=await q.from("users").update({full_name:y.name,company:y.company,role:y.role}).eq("firebase_uid",t.uid);if(R){console.error("Error updating user data:",R);return}const{error:ue}=await q.from("user_settings").update({phone:y.phone,notifications:y.notifications,updated_at:new Date}).eq("firebase_uid",t.uid);if(ue){console.error("Error updating user settings:",ue);return}console.log("Profile data saved successfully"),a(!1)}catch(R){console.error("Error in handleSubmit:",R)}},I=async()=>{const W={...p,integrations:{...p.integrations,instantly:{apiKey:y.integrations.instantly.apiKey,isConnected:!0}}};r(W);try{const{error:R}=await q.from("user_settings").update({integrations:{...y.integrations,instantly:{apiKey:y.integrations.instantly.apiKey,isConnected:!0}},updated_at:new Date}).eq("firebase_uid",t.uid);R&&console.error("Error saving API key:",R)}catch(R){console.error("Error in handleSaveApiKey:",R)}console.log("Saving Instantly API key for user:",t==null?void 0:t.email),u(!1)},M=async()=>{const W={...p,integrations:{...p.integrations,instantly:{apiKey:"",isConnected:!1}}};r(W);try{const{error:R}=await q.from("user_settings").update({integrations:{...y.integrations,instantly:{apiKey:"",isConnected:!1}},updated_at:new Date}).eq("firebase_uid",t.uid);R&&console.error("Error updating API key:",R)}catch(R){console.error("Error in handleDisconnectInstantly:",R)}x({...y,integrations:{...y.integrations,instantly:{apiKey:"",isConnected:!1}}}),console.log("Disconnected Instantly integration for user:",t==null?void 0:t.email)},H=async W=>{if(W.preventDefault(),w(""),g(""),h.newPassword!==h.confirmPassword){w("New passwords do not match");return}if(h.newPassword.length<6){w("Password must be at least 6 characters");return}try{await n(h.currentPassword,h.newPassword),g("Password updated successfully"),m({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>{f(!1),g("")},2e3)}catch(R){console.error("Error updating password:",R),w(R.message||"Failed to update password")}};return s?l.jsxs("div",{className:"max-w-3xl mx-auto",children:[l.jsx("div",{className:"flex justify-between items-center mb-6",children:l.jsx("h2",{className:"text-2xl font-bold text-text-dark",children:"Profile"})}),l.jsx("div",{className:"card",children:l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"spinner-border text-primary",role:"status",children:l.jsx("span",{className:"visually-hidden",children:"Loading..."})}),l.jsx("p",{className:"mt-2",children:"Loading profile data..."})]})})]}):y?l.jsxs("div",{className:"max-w-3xl mx-auto",children:[l.jsx("div",{className:"flex justify-between items-center mb-6",children:l.jsx("h2",{className:"text-2xl font-bold text-text-dark",children:"Profile"})}),l.jsx("div",{className:"card",children:l.jsxs("form",{onSubmit:S,children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-text-dark mb-1",children:"Full Name"}),o?l.jsx("input",{type:"text",name:"name",value:y.name,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary"}):l.jsx("p",{className:"text-text-dark",children:y.name})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-text-dark mb-1",children:"Email"}),l.jsx("p",{className:"text-text-dark",children:y.email}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-text-dark mb-1",children:"Company"}),o?l.jsx("input",{type:"text",name:"company",value:y.company,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary"}):l.jsx("p",{className:"text-text-dark",children:y.company})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-text-dark mb-1",children:"Role"}),o?l.jsx("input",{type:"text",name:"role",value:y.role,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary"}):l.jsx("p",{className:"text-text-dark",children:y.role})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-text-dark mb-1",children:"Phone Number"}),o?l.jsx("input",{type:"text",name:"phone",value:y.phone,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary"}):l.jsx("p",{className:"text-text-dark",children:y.phone})]})]}),o&&l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-text-dark mb-3",children:"Notification Preferences"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",name:"email",checked:y.notifications.email,onChange:A,className:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded"}),l.jsx("span",{className:"ml-2 text-text-dark",children:"Email Notifications"})]}),l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",name:"browser",checked:y.notifications.browser,onChange:A,className:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded"}),l.jsx("span",{className:"ml-2 text-text-dark",children:"Browser Notifications"})]}),l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",name:"mobile",checked:y.notifications.mobile,onChange:A,className:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded"}),l.jsx("span",{className:"ml-2 text-text-dark",children:"Mobile Notifications"})]})]})]}),o?l.jsxs("div",{className:"flex space-x-3 mt-4",children:[l.jsx("button",{type:"button",onClick:()=>a(!1),className:"px-4 py-2 bg-gray-200 text-text-dark rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn-primary",children:"Save Changes"})]}):l.jsx("div",{className:"mt-4",children:l.jsx("button",{onClick:()=>a(!0),className:"btn-secondary",children:"Edit Profile"})})]})}),l.jsxs("div",{className:"mt-8",children:[l.jsx("h3",{className:"text-xl font-semibold text-text-dark mb-4",children:"Integrations"}),l.jsx("div",{className:"card",children:l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-medium text-text-dark mb-2",children:"Instantly.ai"}),l.jsx("p",{className:"text-gray-600 mb-3",children:"Connect your Instantly.ai account to automate email outreach."})]}),l.jsx("div",{children:y.integrations.instantly.isConnected?l.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Connected"}):l.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Not Connected"})})]}),c?l.jsxs("div",{className:"mt-4",children:[l.jsx("label",{className:"block text-text-dark mb-1",children:"API Key"}),l.jsx("input",{type:"text",value:y.integrations.instantly.apiKey,onChange:T,placeholder:"Enter your Instantly.ai API key",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary mb-4"}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 bg-gray-200 text-text-dark rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),l.jsx("button",{type:"button",onClick:I,className:"btn-primary",children:"Save"})]})]}):l.jsx("div",{className:"mt-4",children:y.integrations.instantly.isConnected?l.jsxs("div",{className:"flex space-x-3",children:[l.jsx("button",{type:"button",onClick:()=>u(!0),className:"btn-secondary",children:"Update API Key"}),l.jsx("button",{type:"button",onClick:M,className:"px-4 py-2 bg-red-100 text-red-700 rounded-md hover:bg-red-200 transition-colors",children:"Disconnect"})]}):l.jsx("button",{type:"button",onClick:()=>u(!0),className:"btn-secondary",children:"Connect"})})]})})]}),l.jsxs("div",{className:"mt-8",children:[l.jsx("h3",{className:"text-xl font-semibold text-text-dark mb-4",children:"Security"}),l.jsx("div",{className:"card",children:l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-medium text-text-dark mb-2",children:"Password"}),l.jsx("p",{className:"text-gray-600 mb-3",children:"Update your password to keep your account secure."}),d?l.jsxs("form",{onSubmit:H,children:[v&&l.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-md",children:v}),_&&l.jsx("div",{className:"mb-4 p-3 bg-green-100 text-green-700 rounded-md",children:_}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"block text-text-dark mb-1",children:"Current Password"}),l.jsx("input",{type:"password",name:"currentPassword",value:h.currentPassword,onChange:U,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",required:!0})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"block text-text-dark mb-1",children:"New Password"}),l.jsx("input",{type:"password",name:"newPassword",value:h.newPassword,onChange:U,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",required:!0})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-text-dark mb-1",children:"Confirm New Password"}),l.jsx("input",{type:"password",name:"confirmPassword",value:h.confirmPassword,onChange:U,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",required:!0})]}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsx("button",{type:"button",onClick:()=>{f(!1),w(""),g(""),m({currentPassword:"",newPassword:"",confirmPassword:""})},className:"px-4 py-2 bg-gray-200 text-text-dark rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn-primary",children:"Update Password"})]})]}):l.jsx("button",{type:"button",onClick:()=>f(!0),className:"btn-secondary",children:"Change Password"})]})})]})]}):l.jsxs("div",{className:"max-w-3xl mx-auto",children:[l.jsx("div",{className:"flex justify-between items-center mb-6",children:l.jsx("h2",{className:"text-2xl font-bold text-text-dark",children:"Profile"})}),l.jsx("div",{className:"card",children:l.jsx("div",{className:"text-center py-8",children:l.jsx("div",{className:"alert alert-danger",role:"alert",children:"Failed to load profile data. Please try again later."})})})]})},x$=()=>{const{currentUser:t}=bt(),e=Cr(),r=()=>{e(t?"/dashboard":"/")};return l.jsxs("div",{className:"text-center py-12",children:[l.jsx("h2",{className:"text-4xl font-bold text-text-dark mb-4",children:"404"}),l.jsx("h3",{className:"text-2xl font-semibold text-text-dark mb-6",children:"Page Not Found"}),l.jsx("p",{className:"text-text-dark mb-8",children:"The page you are looking for doesn't exist or has been moved."}),l.jsx("button",{onClick:r,className:"btn-primary",children:t?"Return to Dashboard":"Return to Home"})]})},_$=()=>{const t=Cr(),{currentUser:e}=bt(),[r,n]=b.useState({domains:"",forwardingDomain:"",firstName:"",lastName:""}),[s,i]=b.useState({}),[o,a]=b.useState(!1),[c,u]=b.useState(!1),d=v=>/^(?:[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?\.)+[a-z0-9][a-z0-9-]{0,61}[a-z0-9]$/i.test(v),f=()=>{const v={};if(!r.domains.trim())v.domains="Domains are required";else{const _=r.domains.split(",").map(g=>g.trim()).filter(g=>!d(g));_.length>0&&(v.domains=`Invalid domain format: ${_.join(", ")}`)}return r.forwardingDomain.trim()?d(r.forwardingDomain)||(v.forwardingDomain="Invalid forwarding domain format"):v.forwardingDomain="Forwarding domain is required",r.firstName.trim()||(v.firstName="First name is required"),r.lastName.trim()||(v.lastName="Last name is required"),i(v),Object.keys(v).length===0},h=v=>{const{name:w,value:_}=v.target;n(g=>({...g,[w]:_}))},m=async v=>{if(v.preventDefault(),f()){a(!0);try{console.log("Submitting email account data:",r),await new Promise(w=>setTimeout(w,1e3)),e&&(await wb.incrementSubmissionCount(e.uid,1),console.log("Incremented submission count for workflow: 1")),u(!0),n({domains:"",forwardingDomain:"",firstName:"",lastName:""}),setTimeout(()=>{t("/dashboard")},2e3)}catch(w){console.error("Error submitting form:",w),i({submit:"Failed to submit form. Please try again."})}finally{a(!1)}}};return l.jsxs("div",{className:"max-w-3xl mx-auto",children:[l.jsx("div",{className:"flex justify-between items-center mb-6",children:l.jsx("h2",{className:"text-2xl font-bold text-text-dark",children:"Email Account Submission"})}),l.jsx("div",{className:"card",children:c?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto text-green-500 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("h3",{className:"text-xl font-semibold text-text-dark mb-2",children:"Submission Successful!"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Your email account details have been submitted successfully."}),l.jsx("p",{className:"text-gray-600",children:"Redirecting to dashboard..."})]}):l.jsxs("form",{onSubmit:m,children:[l.jsx("div",{className:"mb-6",children:l.jsx("p",{className:"text-gray-600 mb-4",children:"Submit your email account details to set up your campaign delivery. All fields are required."})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"domains",className:"block text-text-dark mb-1 font-medium",children:"Input Your Domains"}),l.jsx("input",{type:"text",id:"domains",name:"domains",value:r.domains,onChange:h,placeholder:"example.com, another-domain.com",className:`w-full px-3 py-2 border ${s.domains?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-secondary`}),s.domains&&l.jsx("p",{className:"mt-1 text-red-500 text-sm",children:s.domains}),l.jsx("p",{className:"mt-1 text-gray-500 text-sm",children:"Enter comma-separated list of domains"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"forwardingDomain",className:"block text-text-dark mb-1 font-medium",children:"Forwarding Domain"}),l.jsx("input",{type:"text",id:"forwardingDomain",name:"forwardingDomain",value:r.forwardingDomain,onChange:h,placeholder:"forwarding-domain.com",className:`w-full px-3 py-2 border ${s.forwardingDomain?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-secondary`}),s.forwardingDomain&&l.jsx("p",{className:"mt-1 text-red-500 text-sm",children:s.forwardingDomain})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"firstName",className:"block text-text-dark mb-1 font-medium",children:"First Name"}),l.jsx("input",{type:"text",id:"firstName",name:"firstName",value:r.firstName,onChange:h,placeholder:"John",className:`w-full px-3 py-2 border ${s.firstName?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-secondary`}),s.firstName&&l.jsx("p",{className:"mt-1 text-red-500 text-sm",children:s.firstName})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"lastName",className:"block text-text-dark mb-1 font-medium",children:"Last Name"}),l.jsx("input",{type:"text",id:"lastName",name:"lastName",value:r.lastName,onChange:h,placeholder:"Doe",className:`w-full px-3 py-2 border ${s.lastName?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-secondary`}),s.lastName&&l.jsx("p",{className:"mt-1 text-red-500 text-sm",children:s.lastName})]})]})]}),s.submit&&l.jsx("div",{className:"mt-4 p-3 bg-red-100 text-red-700 rounded-md",children:s.submit}),l.jsxs("div",{className:"mt-8 flex justify-end",children:[l.jsx(Et,{to:"/dashboard",className:"px-4 py-2 bg-gray-200 text-text-dark rounded-md hover:bg-gray-300 transition-colors mr-3",children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn-primary",disabled:o,children:o?"Submitting...":"Submit Email Account"})]})]})})]})},S$=()=>{const[t,e]=b.useState(!0),r="https://form.bluecraft.ai/widget/booking/etmgsLRR2wxNiCSlJiI1",n=700,s=()=>{e(!1)};return b.useEffect(()=>{const i=document.createElement("script");return i.src="https://form.bluecraft.ai/js/form_embed.js",i.type="text/javascript",i.async=!0,document.body.appendChild(i),()=>{document.body.removeChild(i)}},[]),l.jsxs("div",{className:"max-w-5xl mx-auto",children:[l.jsx("div",{className:"flex justify-between items-center",style:{marginBottom:"0"},children:l.jsx("h2",{className:"text-2xl font-bold text-text-dark",children:"Schedule a Call"})}),t&&l.jsx("div",{className:"flex justify-center items-center h-12",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-secondary"})}),l.jsx("div",{style:{lineHeight:0,fontSize:0,marginTop:"-30px"},children:l.jsx("iframe",{src:r,style:{width:"100%",border:"none",display:"block",overflow:"hidden",height:`${n}px`,backgroundColor:"transparent",padding:0,margin:0},scrolling:"no",frameBorder:"0",id:"etmgsLRR2wxNiCSlJiI1_1743733381977",onLoad:s,title:"Schedule a Call",allowTransparency:"true"})})]})};class k${async createSubmission(e){try{const r=be.currentUser,n={...e,user_id:r?r.uid:e.user_id||"anonymous",user_email:r?r.email:e.user_email||"anonymous@example.com",status:"processing"};console.log("Creating submission with data:",n);const{data:s,error:i}=await q.from("csv_submissions").insert(n).select().single();if(i)throw i;return console.log("Created submission:",s),s}catch(r){throw console.error("Error creating submission:",r),r}}async uploadFile(e,r){try{const n=be.currentUser,s=n?n.uid:"anonymous";if(!r||!r.name)throw console.error("Invalid file object:",r),new Error("Invalid file: missing name property");const i=r.name;console.log("Uploading CSV file for submission_id:",e);const o=`${s}/${e}/${i}`;console.log("File path:",o);const{data:a,error:c}=await q.storage.from("csv-files").upload(o,r);if(c)throw c;return await this.updateSubmissionFilePath(e,o),console.log("File uploaded successfully:",a),{data:a,error:null}}catch(n){return console.error("Error uploading file:",n),{data:null,error:n}}}async uploadCSVFile(e,r){return this.uploadFile(e,r)}async updateSubmissionFilePath(e,r){try{console.log("Updating submission file path:",{submissionId:e,filePath:r});const{data:n,error:s}=await q.from("csv_submissions").update({file_path:r}).eq("id",e).select().single();if(s)throw s;return console.log("Updated submission:",n),n}catch(n){throw console.error("Error updating submission file path:",n),n}}async getSubmissions(){try{const e=be.currentUser;if(!e)return console.error("User not authenticated when fetching submissions"),[];console.log("Getting submissions for user ID:",e.uid);const{data:r,error:n}=await q.from("csv_submissions").select("*").eq("user_id",e.uid).order("created_at",{ascending:!1});if(n)throw n;return r&&r.length>0?(console.log(`Retrieved ${r.length} submissions`),r.forEach((s,i)=>{console.log(`Submission ${i+1}:`,s)})):console.log("No submissions found for user"),r||[]}catch(e){return console.error("Error getting submissions:",e),[]}}async getSubmission(e){try{console.log("Getting submission:",e);const{data:r,error:n}=await q.from("csv_submissions").select("*").eq("id",e).single();if(n)throw n;return console.log("Retrieved submission:",r),r}catch(r){throw console.error("Error getting submission:",r),r}}async updateSubmission(e,r){try{console.log("Updating submission:",e,r);const{data:n,error:s}=await q.from("csv_submissions").update(r).eq("id",e).select().single();if(s)throw s;return console.log("Updated submission:",n),n}catch(n){throw console.error("Error updating submission:",n),n}}async updateSubmissionName(e,r){try{console.log("Updating submission name:",{submissionId:e,customName:r});const{data:n,error:s}=await q.from("csv_submissions").update({custom_name:r}).eq("id",e).select().single();if(s)throw s;return console.log("Updated submission name:",n),n}catch(n){throw console.error("Error updating submission name:",n),n}}async deleteSubmission(e){try{console.log("Deleting submission:",e);const{error:r}=await q.from("csv_submissions").delete().eq("id",e);if(r)throw r;return console.log("Deleted submission:",e),!0}catch(r){return console.error("Error deleting submission:",r),!1}}async getFileDownloadUrl(e){try{if(console.log("Getting download URL for path:",e),!e||e==="NULL/MISSING")throw console.error("Cannot download: File path is NULL/MISSING"),new Error("Cannot download: File is still being processed or unavailable.");const r=e.startsWith("csv-files/")?e.substring(10):e;console.log("Using cleaned path for download:",r);const{data:n,error:s}=await q.storage.from("csv-files").createSignedUrl(r,60);if(s)throw s;return console.log("Generated download URL:",n),n.signedUrl}catch(r){throw console.error("Error getting file download URL:",r),new Error("Cannot download: Error generating download link.")}}async getProcessedFileUrl(e){try{console.log("Getting processed file for submission:",e);const r=await this.getSubmission(e);if(!r.processed_file_path||r.processed_file_path==="NULL/MISSING")throw new Error("Processed file not available yet.");return{downloadUrl:await this.getFileDownloadUrl(r.processed_file_path),submission:r}}catch(r){throw console.error("Error getting processed file URL:",r),r}}async searchSubmissions(e){try{const r=be.currentUser;if(!r)return console.error("User not authenticated when searching submissions"),[];if(console.log("Searching submissions for user_id:",r.uid,"with term:",e),!e||e.trim()==="")return await this.getSubmissions();const{data:n,error:s}=await q.from("csv_submissions").select("*").eq("user_id",r.uid).or(`custom_name.ilike.%${e}%,original_filename.ilike.%${e}%`).order("created_at",{ascending:!1});if(s)throw s;return console.log("Search results:",n),n||[]}catch(r){return console.error("Error searching submissions:",r),[]}}async searchSubmissionsByName(e){try{const r=be.currentUser;if(!r)return console.error("User not authenticated when searching submissions by name"),[];console.log("Searching submissions by name for user_id:",r.uid,"with term:",e);const{data:n,error:s}=await q.from("csv_submissions").select("*").eq("user_id",r.uid).ilike("custom_name",`%${e}%`).order("created_at",{ascending:!1});if(s)throw s;return console.log("Search by name results:",n),n||[]}catch(r){return console.error("Error searching submissions by name:",r),[]}}}const ur=new k$,E$=()=>{const{currentUser:t}=bt(),[e,r]=b.useState([]),[n,s]=b.useState(!0),[i,o]=b.useState(null),[a,c]=b.useState("all"),[u,d]=b.useState(""),[f,h]=b.useState(null),[m,v]=b.useState(""),[w,_]=b.useState(!1),g=async()=>{try{if(w||s(!0),!t){console.error("User not authenticated when fetching submissions"),o("Please log in to view your submissions"),s(!1);return}console.log("Fetching submissions for user:",t.uid);let S=[];u&&u.trim()!==""?(console.log("Searching with term:",u),S=await ur.searchSubmissions(u)):S=await ur.getSubmissions(),a!=="all"&&(console.log("Filtering by status:",a),S=S.filter(I=>I.status===a)),console.log(`Retrieved ${S.length} submissions after search/filter`),S.forEach((I,M)=>{console.log(`Submission ${M+1}:`,I)}),r(S||[]),o(null)}catch(S){console.error("Error fetching submissions:",S),o("Failed to load submissions. Please try again later."),r([])}finally{s(!1),_(!0)}};b.useEffect(()=>{t&&g()},[t,a]),b.useEffect(()=>{const S=setTimeout(()=>{t&&w&&g()},500);return()=>clearTimeout(S)},[u]);const p=[{value:"all",label:"All Submissions"},{value:"processing",label:"Processing"},{value:"done",label:"Done"},{value:"error",label:"Error"}],y=S=>{c(S.target.value)},x=S=>{d(S.target.value)},E=S=>{h(S.id),v(S.custom_name||S.original_filename)},k=async S=>{try{if(!m.trim())return;await ur.updateSubmissionName(S,m.trim()),r(I=>I.map(M=>M.id===S?{...M,custom_name:m.trim()}:M)),h(null)}catch(I){console.error("Error updating submission name:",I),o("Failed to update submission name. Please try again.")}},T=()=>{h(null),v("")},A=async S=>{try{let I;if(S.processed_file_path)console.log("Using processed_file_path for download:",S.processed_file_path),I=await ur.getFileDownloadUrl(S.processed_file_path);else if(S.file_path&&S.file_path!=="NULL/MISSING"){console.log("Using file_path for download:",S.file_path);const H=S.file_path.startsWith("/")?S.file_path.substring(1):S.file_path;I=await ur.getFileDownloadUrl(H)}else{console.error("No valid file path available for download"),o("Processed file not available for download yet.");return}if(!I){console.error("Error getting file URL"),o("Failed to get download link. Please try again.");return}const M=document.createElement("a");M.href=I,M.setAttribute("download",""),M.setAttribute("target","_self"),document.body.appendChild(M),M.click(),document.body.removeChild(M)}catch(I){console.error("Error downloading file:",I),o("Failed to download file. Please try again later.")}},U=S=>S.status==="done"&&(S.processed_file_path||S.file_path&&S.file_path!=="NULL/MISSING");return l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[l.jsx("h2",{className:"text-2xl font-bold text-text-dark",children:"Submissions"}),l.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-3 w-full md:w-auto",children:[l.jsxs("div",{className:"relative w-full md:w-64",children:[l.jsx("input",{type:"text",placeholder:"Search submissions...",value:u,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary pr-8"}),u&&l.jsx("button",{onClick:()=>d(""),className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:"×"})]}),l.jsxs("div",{className:"flex items-center w-full md:w-auto",children:[l.jsx("label",{htmlFor:"filter",className:"mr-2 text-text-dark whitespace-nowrap",children:"Filter:"}),l.jsx("select",{id:"filter",value:a,onChange:y,className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary w-full md:w-auto",children:p.map(S=>l.jsx("option",{value:S.value,children:S.label},S.value))}),l.jsx("button",{onClick:g,className:"ml-2 p-2 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",title:"Refresh",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})]})]}),i&&l.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:i}),!1,n?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-secondary"})}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full bg-white rounded-lg overflow-hidden shadow-md",children:[l.jsx("thead",{className:"bg-gray-100 text-text-dark",children:l.jsxs("tr",{children:[l.jsx("th",{className:"py-3 px-4 text-left",children:"Name"}),l.jsx("th",{className:"py-3 px-4 text-left",children:"Original File"}),l.jsx("th",{className:"py-3 px-4 text-left",children:"Status"}),l.jsx("th",{className:"py-3 px-4 text-left",children:"Created"}),l.jsx("th",{className:"py-3 px-4 text-left",children:"Actions"})]})}),l.jsx("tbody",{children:e.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"5",className:"py-8 text-center text-gray-500",children:u?"No submissions match your search.":"No submissions found. Start by uploading a CSV file."})}):e.map(S=>l.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[l.jsx("td",{className:"py-3 px-4",children:f===S.id?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"text",value:m,onChange:I=>v(I.target.value),className:"px-2 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-secondary w-full",autoFocus:!0}),l.jsx("button",{onClick:()=>k(S.id),className:"text-green-600 hover:text-green-800",title:"Save",children:"✓"}),l.jsx("button",{onClick:T,className:"text-red-600 hover:text-red-800",title:"Cancel",children:"✕"})]}):l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{children:S.custom_name||S.original_filename}),l.jsx("button",{onClick:()=>E(S),className:"text-gray-500 hover:text-gray-700",title:"Edit name",children:"✎"})]})}),l.jsx("td",{className:"py-3 px-4 text-gray-600 text-sm",children:S.original_filename}),l.jsx("td",{className:"py-3 px-4",children:l.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${S.status==="done"?"bg-green-100 text-green-800":S.status==="error"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:S.status==="processing"?"Processing":S.status==="done"?"Done":"Error"})}),l.jsx("td",{className:"py-3 px-4 text-sm",children:new Date(S.created_at).toLocaleString()}),l.jsx("td",{className:"py-3 px-4",children:l.jsx("button",{onClick:()=>A(S),className:`text-secondary hover:text-opacity-80 ${U(S)?"":"opacity-50 cursor-not-allowed"}`,disabled:!U(S),title:U(S)?"Download processed file":"Available when processing is complete",children:"Download"})})]},S.id))})]})}),l.jsxs("div",{className:"mt-6 bg-blue-50 p-4 rounded-md border border-blue-200",children:[l.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-2",children:"About CSV Processing"}),l.jsx("p",{className:"text-blue-800 mb-2",children:"LeadLines processes your CSV files through the following workflow:"}),l.jsxs("ol",{className:"list-decimal pl-5 space-y-1 text-blue-800",children:[l.jsx("li",{children:'When you submit a CSV file, the status is set to "Processing"'}),l.jsx("li",{children:"Your file is processed through our AI-powered system"}),l.jsx("li",{children:'When processing is complete, the status is updated to "Done"'}),l.jsx("li",{children:'If an error occurs, the status is updated to "Error"'}),l.jsx("li",{children:'You can download the processed file once the status is "Done"'}),l.jsx("li",{children:"You can edit the submission name at any time for better organization"})]})]})]})},Re=[];for(let t=0;t<256;++t)Re.push((t+256).toString(16).slice(1));function T$(t,e=0){return(Re[t[e+0]]+Re[t[e+1]]+Re[t[e+2]]+Re[t[e+3]]+"-"+Re[t[e+4]]+Re[t[e+5]]+"-"+Re[t[e+6]]+Re[t[e+7]]+"-"+Re[t[e+8]]+Re[t[e+9]]+"-"+Re[t[e+10]]+Re[t[e+11]]+Re[t[e+12]]+Re[t[e+13]]+Re[t[e+14]]+Re[t[e+15]]).toLowerCase()}let qc;const j$=new Uint8Array(16);function C$(){if(!qc){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");qc=crypto.getRandomValues.bind(crypto)}return qc(j$)}const N$=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ug={randomUUID:N$};function I$(t,e,r){var s;if(ug.randomUUID&&!t)return ug.randomUUID();t=t||{};const n=t.random??((s=t.rng)==null?void 0:s.call(t))??C$();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,T$(n)}class P${constructor(){this.baseUrl="https://us-central1-leadlines-portal.cloudfunctions.net",this.endpoints={listMessages:`${this.baseUrl}/listMessages`,createMessage:`${this.baseUrl}/createMessage`,runAssistant:`${this.baseUrl}/runAssistant`,deleteThread:`${this.baseUrl}/deleteThread`,attachFileToAssistant:`${this.baseUrl}/attachFileToAssistant`,getRun:`${this.baseUrl}/getRun`,testFunction:`${this.baseUrl}/testFunction`,uploadFile:`${this.baseUrl}/uploadFile`,deleteFile:`${this.baseUrl}/deleteFile`,removeFileFromAssistant:`${this.baseUrl}/removeFileFromAssistant`,sendMessageAndWaitForResponse:`${this.baseUrl}/sendMessageAndWaitForResponse`,createThread:`${this.baseUrl}/createThread`}}async getIdToken(){try{const e=be.currentUser;if(!e)throw new Error("No authenticated user found");return await e.getIdToken(!0)}catch(e){throw console.error("Error getting ID token:",e),e}}async getUserAssistant(){try{const e=be.currentUser;if(!e)throw new Error("User not authenticated");const{data:r,error:n}=await q.from("assistant_users").select("*").eq("user_id",e.uid).single();if(n)throw console.error("Error getting user assistant:",n),n;return r}catch(e){throw console.error("Error getting user assistant:",e),e}}async getUserAssistants(){try{const e=be.currentUser;if(!e)throw new Error("No authenticated user found");const{data:r,error:n}=await q.from("assistant_users").select("*").eq("user_id",e.uid);if(n)throw console.error("Error getting user assistants:",n),n;return r||[]}catch(e){throw console.error("Error in getUserAssistants:",e),e}}async saveUserAssistant(e){try{const r=be.currentUser;if(!r)throw new Error("No authenticated user found");const{data:n,error:s}=await q.from("assistant_users").upsert([{user_id:r.uid,assistant_id:e.assistant_id,metadata:e.metadata||{},status:e.status||"active",last_accessed_at:new Date}]).select();if(s)throw console.error("Error saving user assistant:",s),s;return n[0]}catch(r){throw console.error("Error in saveUserAssistant:",r),r}}async createThread(){try{const e=await this.getIdToken(),r=await fetch(this.endpoints.createThread,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},credentials:"include"});if(!r.ok)throw new Error(`Error creating thread: ${r.statusText}`);return await r.json()}catch(e){throw console.error("Error creating thread:",e),e}}async getThreads(){try{const e=be.currentUser;if(!e)throw new Error("User not authenticated");const{data:r,error:n}=await q.from("assistant_threads").select("*").eq("user_id",e.uid).order("last_message_at",{ascending:!1});if(n)throw n;return r||[]}catch(e){throw console.error("Error getting threads:",e),e}}async createMessage(e,r){try{const n=await this.getIdToken(),s=await fetch(this.endpoints.createMessage,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({threadId:e,content:r}),credentials:"include"});if(!s.ok)throw new Error(`Error creating message: ${s.statusText}`);const i=await s.json();return await q.from("assistant_threads").update({last_message_at:new Date().toISOString()}).eq("user_id",be.currentUser.uid).eq("thread_id",e),i}catch(n){throw console.error("Error creating message:",n),n}}async runAssistant(e){try{const r=await this.getUserAssistant();if(!r)throw new Error("No assistant found for user");const n=await this.getIdToken(),s=await fetch(this.endpoints.runAssistant,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({threadId:e,assistantId:r.assistant_id}),credentials:"include"});if(!s.ok)throw new Error(`Error running assistant: ${s.statusText}`);return await s.json()}catch(r){throw console.error("Error running assistant:",r),r}}async getRun(e,r){try{const n=await this.getIdToken(),s=await fetch(`${this.endpoints.getRun}?threadId=${e}&runId=${r}`,{headers:{Authorization:`Bearer ${n}`},credentials:"include"});if(!s.ok)throw new Error(`Error getting run: ${s.statusText}`);return await s.json()}catch(n){throw console.error("Error getting run:",n),n}}async listMessages(e){try{const r=await this.getIdToken(),n=await fetch(`${this.endpoints.listMessages}?threadId=${e}`,{headers:{Authorization:`Bearer ${r}`},credentials:"include"});if(!n.ok)throw new Error(`Error listing messages: ${n.statusText}`);return await n.json()}catch(r){throw console.error("Error listing messages:",r),r}}async uploadFile(e){try{const r=await this.getIdToken(),n=new FormData;n.append("file",e),n.append("purpose","assistants");const s=await fetch(this.endpoints.uploadFile,{method:"POST",headers:{Authorization:`Bearer ${r}`},body:n,credentials:"include"});if(!s.ok)throw new Error(`Error uploading file: ${s.statusText}`);const i=await s.json();return await q.from("assistant_files").insert({user_id:be.currentUser.uid,file_id:i.fileId,filename:e.name,purpose:"assistants",bytes:e.size,created_at:new Date().toISOString()}),i}catch(r){throw console.error("Error uploading file:",r),r}}async attachFileToAssistant(e){try{const r=await this.getUserAssistant();if(!r)throw new Error("No assistant found for user");const n=await this.getIdToken(),s=await fetch(this.endpoints.attachFileToAssistant,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({fileId:e,assistantId:r.assistant_id}),credentials:"include"});if(!s.ok)throw new Error(`Error attaching file: ${s.statusText}`);return await s.json()}catch(r){throw console.error("Error attaching file:",r),r}}async uploadFileToAssistant(e){try{const r=await this.uploadFile(e);return await this.attachFileToAssistant(r.fileId),r}catch(r){throw console.error("Error uploading file to assistant:",r),r}}async getFiles(){try{const e=be.currentUser;if(!e)throw new Error("User not authenticated");const{data:r,error:n}=await q.from("assistant_files").select("*").eq("user_id",e.uid).order("created_at",{ascending:!1});if(n)throw n;return r||[]}catch(e){throw console.error("Error getting files:",e),e}}async deleteFile(e){try{await this.removeFileFromAssistant(e);const r=await this.getIdToken(),n=await fetch(`${this.endpoints.deleteFile}?fileId=${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${r}`},credentials:"include"});if(!n.ok)throw new Error(`Error deleting file: ${n.statusText}`);return await q.from("assistant_files").delete().eq("user_id",be.currentUser.uid).eq("file_id",e),await n.json()}catch(r){throw console.error("Error deleting file:",r),r}}async removeFileFromAssistant(e){try{const r=await this.getUserAssistant();if(!r)throw new Error("No assistant found for user");const n=await this.getIdToken(),s=await fetch(this.endpoints.removeFileFromAssistant,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({fileId:e,assistantId:r.assistant_id}),credentials:"include"});if(!s.ok)throw new Error(`Error removing file: ${s.statusText}`);return await s.json()}catch(r){throw console.error("Error removing file from assistant:",r),r}}async deleteThread(e){try{const r=await this.getIdToken(),n=await fetch(`${this.endpoints.deleteThread}?threadId=${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${r}`},credentials:"include"});if(!n.ok)throw new Error(`Error deleting thread: ${n.statusText}`);return await q.from("assistant_threads").delete().eq("user_id",be.currentUser.uid).eq("thread_id",e),await n.json()}catch(r){throw console.error("Error deleting thread:",r),r}}async sendMessageAndWaitForResponse(e,r){try{const n=await this.getUserAssistant();if(!n)throw new Error("No assistant found for user");const s=await this.getIdToken(),i=await fetch(this.endpoints.sendMessageAndWaitForResponse,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({threadId:e,content:r,assistantId:n.assistant_id}),credentials:"include"});if(!i.ok)throw new Error(`Error sending message: ${i.statusText}`);return await i.json()}catch(n){throw console.error("Error sending message and waiting for response:",n),n}}async getUserThreads(){try{const e=be.currentUser;if(!e)throw new Error("User not authenticated");const{data:r,error:n}=await q.from("assistant_threads").select("*").eq("user_id",e.uid).order("last_accessed_at",{ascending:!1});if(n)throw console.error("Error getting user threads:",n),n;return r}catch(e){throw console.error("Error getting user threads:",e),e}}async uploadAssistantFile(e,r=null){try{const n=be.currentUser;if(!n)throw new Error("User not authenticated");const s=`${n.uid}/${Date.now()}_${e.name}`,{data:i,error:o}=await q.storage.from("assistant-files").upload(s,e);if(o)throw console.error("Error uploading file:",o),o;const{data:a,error:c}=await q.from("assistant_files").insert([{user_id:n.uid,thread_id:r,filename:e.name,file_size:e.size,file_path:s}]).select();if(c)throw console.error("Error creating file record:",c),c;return a[0]}catch(n){throw console.error("Error uploading assistant file:",n),n}}}const bb=new P$,A$=()=>{const[t,e]=b.useState([]),[r,n]=b.useState(""),[s,i]=b.useState(""),[o,a]=b.useState(""),[c,u]=b.useState(!1),[d,f]=b.useState({text:"",type:""}),[h,m]=b.useState(""),v=b.useRef(null),w=b.useRef(null),{currentUser:_}=bt(),g="https://bluecraftleads.app.n8n.cloud/webhook/363e4379-80f1-49b0-8d2f-e5ad1bc61f85";b.useEffect(()=>{(async()=>{try{if(_){const I=await bb.getUserAssistant();I&&I.assistant_id&&(m(I.assistant_id),console.log("Fetched assistant ID for CSV upload:",I.assistant_id))}}catch(I){console.error("Error fetching assistant ID:",I)}})()},[_]),b.useEffect(()=>{const S=w.current;if(!S)return;const I=R=>{R.preventDefault(),R.stopPropagation()},M=()=>{S.classList.add("dragover")},H=()=>{S.classList.remove("dragover")},W=R=>{H();const pe=R.dataTransfer.files;x(pe)};return["dragenter","dragover","dragleave","drop"].forEach(R=>{S.addEventListener(R,I,!1)}),["dragenter","dragover"].forEach(R=>{S.addEventListener(R,M,!1)}),["dragleave","drop"].forEach(R=>{S.addEventListener(R,H,!1)}),S.addEventListener("drop",W,!1),()=>{["dragenter","dragover","dragleave","drop"].forEach(R=>{S.removeEventListener(R,I,!1)}),["dragenter","dragover"].forEach(R=>{S.removeEventListener(R,M,!1)}),["dragleave","drop"].forEach(R=>{S.removeEventListener(R,H,!1)}),S.removeEventListener("drop",W,!1)}},[]);const p=S=>{const I=S.target.files;I.length>0&&x(I)},y=()=>{v.current&&v.current.click()},x=S=>{if(S.length===0)return;const I=S[0];if(I.size>10*1024*1024){k(`File ${I.name} is too large. Maximum size is 10MB.`,"error");return}if(!I.name.toLowerCase().endsWith(".csv")){k(`File ${I.name} is not a CSV file.`,"error");return}e([I])},E=S=>{e(I=>I.filter((M,H)=>H!==S))},k=(S,I)=>{f({text:S,type:I}),setTimeout(()=>{f({text:"",type:""})},5e3)},T=async S=>{if(S.preventDefault(),!!A()){u(!0);try{const I=I$(),M=new FormData;M.append("submission_id",I),M.append("user_id",_.uid),M.append("user_email",_.email),h&&M.append("assistant_id",h),r.trim()&&M.append("number_of_emails",r),s.trim()&&M.append("submission_name",s),o.trim()&&M.append("campaign_angle",o);const H=t[0];M.append("files",H),M.append("original_filename",H.name);const{data:W,error:R}=await ur.createSubmission({id:I,user_id:_.uid,user_email:_.email,original_filename:H.name,custom_name:s.trim()||H.name,email_count:parseInt(r)||0});if(R){k("Error creating submission record. Please try again.","error"),u(!1);return}const{error:ue}=await ur.uploadFile(I,H);if(ue){k("Error uploading file. Please try again.","error"),await ur.deleteSubmission(I),u(!1);return}const pe=await fetch(g,{method:"POST",body:M,headers:{"x-user-id":_.uid,"x-user-email":_.email,"x-submission-id":I,"x-original-filename":H.name,"x-assistant-id":h||""}});console.log("CSV Upload webhook payload sent:",{submission_id:I,user_id:_.uid,assistant_id:h,filename:H.name,campaign_angle:o}),pe.ok?(k("Files uploaded successfully! Check the Submissions page for status updates.","success"),U()):(k("Error uploading files. Please try again.","error"),await ur.deleteSubmission(I))}catch(I){console.error("Error submitting form:",I),k("Error uploading files. Please try again.","error")}finally{u(!1)}}},A=()=>t.length===0?(k("Please select a CSV file.","error"),!1):r.trim()?!0:(k("Please enter the number of emails.","error"),!1),U=()=>{e([]),n(""),i(""),a(""),v.current&&(v.current.value="")};return l.jsxs("div",{className:"max-w-2xl mx-auto",children:[l.jsx("h2",{className:"text-2xl font-bold text-text-dark mb-6",children:"CSV Upload"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Upload your CSV file to generate personalized email sequences."}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[l.jsxs("div",{className:"bg-secondary text-white p-5 text-center",children:[l.jsx("h3",{className:"text-xl font-bold",children:"LeadLines File Upload"}),l.jsx("p",{className:"opacity-90",children:"Upload Your CSV"})]}),l.jsxs("div",{className:"p-6",children:[d.text&&l.jsx("div",{className:`p-4 mb-6 rounded-md ${d.type==="success"?"bg-green-100 border border-green-300 text-green-700":"bg-red-100 border border-red-300 text-red-700"}`,children:d.text}),l.jsxs("form",{onSubmit:T,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"fileUpload",className:"block font-semibold mb-2 after:content-['*'] after:ml-0.5 after:text-red-500",children:"CSV File"}),l.jsxs("div",{ref:w,className:"border-2 border-dashed border-gray-300 rounded-md p-6 text-center cursor-pointer hover:border-secondary hover:bg-blue-50 transition-colors relative",onClick:y,children:[l.jsx("div",{className:"text-4xl mb-2",children:"📂"}),l.jsx("p",{children:"Drag & drop your CSV file here or click to browse"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum file size: 10MB"}),l.jsx("input",{type:"file",id:"fileUpload",ref:v,className:"hidden",accept:".csv",onChange:p})]}),t.length>0&&l.jsxs("div",{className:"mt-4 p-3 bg-gray-100 rounded-md",children:[l.jsx("p",{className:"font-semibold",children:"Selected file:"}),l.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:t.map((S,I)=>l.jsxs("div",{className:"flex items-center bg-white border border-gray-300 rounded-md px-3 py-2 text-sm",children:[l.jsx("span",{className:"max-w-[180px] truncate",children:S.name}),l.jsx("button",{type:"button",className:"ml-2 text-red-500 font-bold",onClick:M=>{M.stopPropagation(),E(I)},children:"×"})]},I))})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"emailCount",className:"block font-semibold mb-2 after:content-['*'] after:ml-0.5 after:text-red-500",children:"Number of Emails"}),l.jsx("input",{type:"number",id:"emailCount",value:r,onChange:S=>n(S.target.value),min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",placeholder:"Enter the number of emails in your CSV",required:!0}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Specify how many email's you'd like to have in your sequence."})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"submissionName",className:"block font-semibold mb-2",children:"Submission Name"}),l.jsx("input",{type:"text",id:"submissionName",value:s,onChange:S=>i(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",placeholder:"Enter the name of your submission here..."}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Add any name related to this submission for better organization."})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"campaignAngle",className:"block font-semibold mb-2",children:"Campaign Angle"}),l.jsx("textarea",{id:"campaignAngle",value:o,onChange:S=>a(S.target.value),rows:"4",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary resize-vertical",placeholder:"Describe your campaign angle, target audience, messaging approach, value propositions, etc..."}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Please be as descriptive as possible - the more details you provide, the better we can tailor your email sequences."})]}),l.jsx("button",{type:"submit",className:"w-full bg-secondary text-white py-3 px-4 rounded-md font-semibold hover:bg-blue-600 transition-colors disabled:bg-blue-300 disabled:cursor-not-allowed",disabled:c,children:c?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"inline-block w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2 align-middle"}),l.jsx("span",{children:"Submitting..."})]}):"Submit"})]})]})]})]})},O$=()=>l.jsx("div",{className:"py-6",children:l.jsx(A$,{})}),R$=()=>{const t=b.useRef(null),e=b.useRef(null),r=b.useRef(null),n=b.useRef(null),s=b.useRef(null),[i,o]=b.useState(!1),a=b.useRef(""),c=b.useRef(""),u=b.useRef(!1),d=b.useRef("U"),{currentUser:f}=bt(),h="https://bluecraftleads.app.n8n.cloud/webhook/58a61a1c-ecab-43e9-ac4f-52664d6cfcb7/chat";b.useEffect(()=>{a.current=w(),console.log("Generated session ID:",a.current),v(),_(),T(),g(),m();const C=new ResizeObserver(()=>{m()});return s.current&&C.observe(s.current),()=>{r.current&&r.current.removeEventListener("click",p),e.current&&(e.current.removeEventListener("keydown",y),e.current.removeEventListener("input",x)),C.disconnect()}},[]);const m=()=>{if(s.current&&t.current){const C=s.current,O=t.current,N=window.getComputedStyle(C),$=parseInt(N.paddingTop),K=parseInt(N.paddingBottom),te=C.clientHeight-$-K,_e=O.scrollHeight;console.log("Scroll check:",{containerHeight:C.clientHeight,paddingTop:$,paddingBottom:K,availableHeight:te,contentHeight:_e,needsScroll:_e>te}),o(_e>te)}},v=()=>{if(f){const C=f.displayName,O=f.email,N=f.fullName;let $="U";C&&C.length>0?$=C.charAt(0).toUpperCase():N&&N.length>0?$=N.charAt(0).toUpperCase():O&&O.length>0&&($=O.charAt(0).toUpperCase()),d.current=$,console.log("Set user initial to:",$)}},w=()=>"session_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),_=async()=>{try{if(!f){H("User not authenticated");return}const C=await bb.getUserAssistant();C&&C.assistant_id?(c.current=C.assistant_id,console.log("Fetched assistant ID:",C.assistant_id)):H("No assistant found for user")}catch(C){console.error("Error fetching assistant ID:",C),H("Failed to fetch assistant ID")}},g=()=>{r.current&&r.current.addEventListener("click",p),e.current&&(e.current.addEventListener("keydown",y),e.current.addEventListener("input",x))},p=()=>{pe()},y=C=>{C.key==="Enter"&&!C.shiftKey&&(C.preventDefault(),pe())},x=()=>{E(),k()},E=()=>{e.current&&(e.current.style.height="auto",e.current.style.height=Math.min(e.current.scrollHeight,80)+"px")},k=()=>{if(!r.current||!e.current)return;const C=e.current.value.trim().length>0;r.current.disabled=!C||u.current,u.current?r.current.innerHTML=`
        <svg class="animate-spin h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
          <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
        </svg>
      `:r.current.innerHTML=`
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
          <path fill-rule="evenodd" d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z" clip-rule="evenodd" />
        </svg>
      `},T=()=>{S("assistant","Hello! I'm your chat assistant. How can I help you today?")},A=C=>{if(typeof C!="string")return C;const O=/!\[([^\]]*)\]\(([^)]+)\)/g;let N=C.replace(O,'<img src="$2" alt="$1" class="max-w-[150px] h-auto rounded cursor-pointer hover:opacity-80 transition-opacity my-2 block" data-full-image="$2" title="Click to view full size" style="max-width: 150px; height: auto;" />');const $=/\[([^\]]+)\]\(([^)]+)\)/g;return N=N.replace($,'<a href="$2" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:text-blue-800 underline">$1</a>'),N=N.replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>"),N=N.replace(/\_([^_]+)\_/g,"<em>$1</em>"),N=N.replace(/\*([^*]+)\*/g,"<em>$1</em>"),N=N.replace(/\n/g,"<br>"),N},U=C=>{if(Array.isArray(C)){let O="";return C.forEach((N,$)=>{typeof N=="object"&&N.title&&N.link?(O+=`${$+1}. [${N.title}](${N.link})`,N.source&&(O+=` - ${N.source}`,N.date&&(O+=` (${N.date})`)),O+=`

`):O+=`${$+1}. ${typeof N=="string"?N:JSON.stringify(N)}

`}),A(O.trim())}else if(typeof C=="object")if(C.title&&C.link){let O=`[${C.title}](${C.link})`;return C.source&&(O+=` - ${C.source}`,C.date&&(O+=` (${C.date})`)),A(O)}else return`<pre class="bg-gray-100 p-2 rounded text-sm overflow-x-auto">${JSON.stringify(C,null,2)}</pre>`;return String(C)},S=(C,O,N=!1)=>{if(!t.current)return;const $=document.createElement("div");if($.className=`flex ${C==="user"?"justify-end":"justify-start"} mb-4`,C==="assistant"){const te=document.createElement("div");te.className="w-8 h-8 rounded-full bg-secondary text-text-light flex items-center justify-center text-sm mr-2 flex-shrink-0",te.textContent="AI",$.appendChild(te)}const K=document.createElement("div");if(K.className=`max-w-[70%] p-3 rounded-lg ${C==="user"?"bg-secondary text-text-light rounded-br-sm":"bg-gray-100 text-text-dark rounded-bl-sm"}`,N)K.innerHTML=`
        <div class="flex space-x-1 items-center py-2 px-1">
          <div class="w-2 h-2 rounded-full bg-gray-400 animate-bounce" style="animation-delay: 0ms;"></div>
          <div class="w-2 h-2 rounded-full bg-gray-400 animate-bounce" style="animation-delay: 150ms;"></div>
          <div class="w-2 h-2 rounded-full bg-gray-400 animate-bounce" style="animation-delay: 300ms;"></div>
        </div>
      `;else{const te=document.createElement("div");if(te.className="whitespace-pre-wrap",C==="assistant"){let _e;typeof O=="string"?_e=A(O):_e=U(O),te.innerHTML=_e,te.querySelectorAll("img[data-full-image]").forEach(Ue=>{Ue.addEventListener("click",B=>{B.preventDefault();const Y=Ue.getAttribute("data-full-image");window.open("","_blank").document.write(`
              <html>
                <head>
                  <title>Image Viewer</title>
                  <style>
                    body { margin: 0; padding: 20px; background: #000; display: flex; justify-content: center; align-items: center; min-height: 100vh; }
                    img { max-width: 90vw; max-height: 90vh; object-fit: contain; border-radius: 8px; }
                  </style>
                </head>
                <body>
                  <img src="${Y}" alt="Full size image" />
                </body>
              </html>
            `)})})}else te.textContent=O;K.appendChild(te)}if($.appendChild(K),C==="user"){const te=document.createElement("div");te.className="w-8 h-8 rounded-full bg-accent text-text-dark flex items-center justify-center text-sm ml-2 flex-shrink-0",te.textContent=d.current,$.appendChild(te)}return t.current.appendChild($),W(),setTimeout(m,0),$},I=()=>S("assistant","",!0),M=C=>{C&&C.parentNode&&(C.parentNode.removeChild(C),setTimeout(m,0))},H=C=>{if(!t.current)return;const O=document.createElement("div");O.className="bg-red-500 text-white p-3 text-center mb-4",O.textContent=C,t.current.appendChild(O),W(),setTimeout(m,0),setTimeout(()=>{O.parentNode&&(O.parentNode.removeChild(O),setTimeout(m,0))},5e3)},W=()=>{window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})},R=()=>{a.current=w(),console.log("Started new conversation with session ID:",a.current),t.current&&(t.current.innerHTML=""),T(),setTimeout(m,0)},ue=async C=>{try{const O=await C.text();console.log("Raw response:",O);let N;try{if(N=JSON.parse(O),Array.isArray(N)&&N.length>0&&(N=N[0]),N&&typeof N=="object"&&N.response)return N.response;if(N&&N.output)if(typeof N.output=="string")try{const $=JSON.parse(N.output);return $&&$.response?$.response:$&&$.message?$.message:typeof $=="string"?$:JSON.stringify($)}catch{return console.log("Output field is not valid JSON, treating as plain text"),N.output}else return typeof N.output=="object"?N.output.response?N.output.response:N.output.message?N.output.message:JSON.stringify(N.output):String(N.output);return N.message?N.message:JSON.stringify(N,null,2)}catch($){return console.log("JSON parsing failed, treating as plain text:",$.message),O.trim()||"I received your message, but the response was empty."}}catch(O){return console.error("Error processing API response:",O),"I received your message, but had trouble processing the response."}},pe=async()=>{if(!e.current)return;const C=e.current.value.trim();if(!C||u.current)return;S("user",C),e.current.value="",e.current.style.height="auto",k();const O=I();u.current=!0,k();try{if(!c.current)throw new Error("Assistant ID not available");const N={assistant_id:c.current,conversationId:a.current,message:C};console.log("Sending payload:",N);const $=await fetch(h,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)});M(O);let K="I received your message, but I'm not sure how to respond.";if($.ok)K=await ue($);else{const te=await $.text();console.error("Error response:",te),K="Sorry, I encountered an error processing your request. Please try again."}S("assistant",K)}catch(N){console.error("Error sending message:",N),M(O),H(N.message||"Failed to send message"),S("assistant","Sorry, I encountered an error processing your request. Please try again.")}finally{u.current=!1,k()}};return l.jsxs("div",{ref:n,className:"relative w-full h-full",style:{position:"relative"},children:[l.jsxs("div",{className:"bg-white z-10 px-4 py-3 w-full m-0",style:{position:"sticky",top:0,marginTop:"-1px",paddingTop:"calc(0.75rem + 1px)",boxShadow:"0 -20px 0 0 white"},children:[l.jsx("h1",{className:"text-2xl font-semibold text-black mb-3",children:"AI Agent"}),l.jsx("button",{onClick:R,className:"bg-secondary text-white px-4 py-2 rounded-md hover:bg-opacity-90 transition-all mb-2",children:"New Conversation"})]}),l.jsx("div",{ref:s,className:"w-full px-4",style:{paddingTop:"20px",paddingBottom:"90px",minHeight:"calc(100vh - 200px)",overflowY:i?"auto":"hidden",overflowX:"hidden"},children:l.jsx("div",{ref:t,className:"space-y-4"})}),l.jsx("div",{className:"bg-white z-10 p-4 w-full m-0",style:{position:"sticky",bottom:0,marginBottom:"-1px",paddingBottom:"calc(1rem + 1px)",boxShadow:"0 20px 0 0 white"},children:l.jsxs("div",{className:"relative",children:[l.jsx("textarea",{ref:e,className:"w-full p-3 pr-12 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-secondary resize-none",placeholder:"Type your message here...",rows:"1"}),l.jsx("button",{ref:r,className:"absolute right-2 bottom-2 w-8 h-8 flex items-center justify-center bg-secondary text-white rounded-md disabled:bg-gray-300 disabled:cursor-not-allowed",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})})]})},$$=()=>l.jsx("div",{className:"w-full h-full",children:l.jsx(R$,{})}),L$=({onNext:t,isFirstStep:e,isLastStep:r})=>{const n=()=>{t({})};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Welcome to LeadLines!"}),l.jsx("div",{className:"prose max-w-none",children:l.jsx("p",{className:"text-lg text-gray-700 mb-6",children:"We're about to build high-converting cold email sequences tailored specifically to your business. Whether you're looking to book demos, generate leads, drive software signups, or fill your sales pipeline, the information you provide here will be the foundation of your success."})}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"What makes LeadLines different:"}),l.jsx("div",{className:"prose max-w-none",children:l.jsx("p",{className:"text-lg text-gray-700 mb-6",children:"We create a unique email for each lead, making this the most tailored cold email campaign software available. Our AI analyzes every detail you share to craft personalized sequences that speak directly to each prospect's specific situation and needs."})}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"This questionnaire is comprehensive, and for good reason."}),l.jsxs("div",{className:"prose max-w-none",children:[l.jsx("p",{className:"text-lg text-gray-700 mb-6",children:"Every question directly impacts your campaign performance. From crafting the perfect subject line to tailoring your offer for each individual lead, we use this information to build ready-to-send cold email sequences that actually convert."}),l.jsx("p",{className:"text-lg text-gray-700 mb-6",children:"Once submitted, our LeadLines AI Agents will process your information and deliver your custom campaign strategy. You'll review and approve each component before we start crafting tailored cold email sequences."}),l.jsx("p",{className:"text-xl font-semibold text-gray-900 mb-6 pb-2 border-b border-gray-200",children:"Let's build something extraordinary together."}),l.jsxs("p",{className:"text-lg text-gray-700 mb-6",children:[l.jsx("strong",{children:"Questions?"})," Reach out to"," ",l.jsx("a",{href:"mailto:success@leadlines.ai",className:"text-secondary hover:text-opacity-80",children:"success@leadlines.ai"})," ","anytime."]})]}),l.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-200",children:l.jsx("button",{type:"button",onClick:n,className:"px-6 py-3 bg-secondary text-white rounded-md hover:bg-opacity-90 transition-all font-medium",children:"Get Started"})})]})},D$=({onNext:t,onPrevious:e,formData:r,isFirstStep:n,isLastStep:s,updateStepData:i,clearPendingSave:o})=>{const[a,c]=b.useState(r||{companyName:"",websiteUrl:"",yearFounded:"",employeeCount:"",businessAddress:"",industry:"",contactName:"",contactTitle:"",contactPhone:"",contactEmail:"",companyLinkedinUrl:"",teamLinkedinUrls:"",socialMediaProfiles:"",additionalPages:""});b.useEffect(()=>{i&&i(a)},[a,i]);const u=f=>{const{name:h,value:m}=f.target;c(v=>({...v,[h]:m}))},d=f=>{f.preventDefault(),o&&o();const m=["companyName","websiteUrl","businessAddress","industry","contactName","contactTitle","contactPhone","contactEmail"].filter(v=>{var w;return!((w=a[v])!=null&&w.trim())});if(m.length>0){const v={companyName:"Company Name",websiteUrl:"Website URL",businessAddress:"Primary Business Address",industry:"Industry/Vertical",contactName:"Primary Contact Name",contactTitle:"Primary Contact Title",contactPhone:"Best Phone Number",contactEmail:"Best Email Address"},w=m.map(_=>v[_]);alert(`Please fill in the following required fields:

• ${w.join(`
• `)}`);return}t(a)};return l.jsxs("form",{onSubmit:d,className:"space-y-8",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Basic Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"companyName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Name *"}),l.jsx("input",{type:"text",id:"companyName",name:"companyName",value:a.companyName,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"websiteUrl",className:"block text-sm font-medium text-gray-700 mb-2",children:"Website URL *"}),l.jsx("input",{type:"url",id:"websiteUrl",name:"websiteUrl",value:a.websiteUrl,onChange:u,placeholder:"https://example.com",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"yearFounded",className:"block text-sm font-medium text-gray-700 mb-2",children:"Year Founded"}),l.jsx("input",{type:"number",id:"yearFounded",name:"yearFounded",value:a.yearFounded,onChange:u,min:"1800",max:new Date().getFullYear(),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"employeeCount",className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Employees"}),l.jsxs("select",{id:"employeeCount",name:"employeeCount",value:a.employeeCount,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",children:[l.jsx("option",{value:"",children:"Select range"}),l.jsx("option",{value:"1-10",children:"1-10"}),l.jsx("option",{value:"11-50",children:"11-50"}),l.jsx("option",{value:"51-200",children:"51-200"}),l.jsx("option",{value:"201-500",children:"201-500"}),l.jsx("option",{value:"501-1000",children:"501-1000"}),l.jsx("option",{value:"1000+",children:"1000+"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"businessAddress",className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Business Address *"}),l.jsx("input",{type:"text",id:"businessAddress",name:"businessAddress",value:a.businessAddress,onChange:u,placeholder:"City, State, Country",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"industry",className:"block text-sm font-medium text-gray-700 mb-2",children:"Industry/Vertical *"}),l.jsx("input",{type:"text",id:"industry",name:"industry",value:a.industry,onChange:u,placeholder:"e.g., SaaS, E-commerce, Consulting",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",required:!0})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Contact Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"contactName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Contact Name *"}),l.jsx("input",{type:"text",id:"contactName",name:"contactName",value:a.contactName,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"contactTitle",className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Contact Title *"}),l.jsx("input",{type:"text",id:"contactTitle",name:"contactTitle",value:a.contactTitle,onChange:u,placeholder:"e.g., CEO, Founder, Marketing Director",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"contactPhone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Best Phone Number *"}),l.jsx("input",{type:"tel",id:"contactPhone",name:"contactPhone",value:a.contactPhone,onChange:u,placeholder:"+1 (555) 123-4567",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"contactEmail",className:"block text-sm font-medium text-gray-700 mb-2",children:"Best Email Address *"}),l.jsx("input",{type:"email",id:"contactEmail",name:"contactEmail",value:a.contactEmail,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",required:!0})]})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Online Presence"}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"companyLinkedinUrl",className:"block text-sm font-medium text-gray-700 mb-2",children:"Company LinkedIn URL"}),l.jsx("input",{type:"url",id:"companyLinkedinUrl",name:"companyLinkedinUrl",value:a.companyLinkedinUrl,onChange:u,placeholder:"https://linkedin.com/company/your-company",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"teamLinkedinUrls",className:"block text-sm font-medium text-gray-700 mb-2",children:"Key Team Members' LinkedIn URLs"}),l.jsx("textarea",{id:"teamLinkedinUrls",name:"teamLinkedinUrls",value:a.teamLinkedinUrls,onChange:u,rows:4,placeholder:`CEO: https://linkedin.com/in/ceo-name
CTO: https://linkedin.com/in/cto-name
VP Sales: https://linkedin.com/in/vp-name`,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"socialMediaProfiles",className:"block text-sm font-medium text-gray-700 mb-2",children:"Other Social Media Profiles (if relevant)"}),l.jsx("textarea",{id:"socialMediaProfiles",name:"socialMediaProfiles",value:a.socialMediaProfiles,onChange:u,rows:3,placeholder:`Twitter: @yourcompany
Facebook: facebook.com/yourcompany
Instagram: @yourcompany`,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"additionalPages",className:"block text-sm font-medium text-gray-700 mb-2",children:"Any Additional Landing Pages or Microsites"}),l.jsx("textarea",{id:"additionalPages",name:"additionalPages",value:a.additionalPages,onChange:u,rows:3,placeholder:"Product-specific landing pages, campaign sites, etc.",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary"})]})]}),l.jsxs("div",{className:"flex justify-between pt-6 border-t border-gray-200",children:[!n&&l.jsx("button",{type:"button",onClick:e,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-all font-medium",children:"Previous"}),l.jsx("button",{type:"submit",className:`px-6 py-3 bg-secondary text-white rounded-md hover:bg-opacity-90 transition-all font-medium ${n?"ml-auto":""}`,children:s?"Submit":"Next"})]})]})},F$=({onNext:t,onPrevious:e,formData:r,isFirstStep:n,isLastStep:s,updateStepData:i,clearPendingSave:o})=>{const[a,c]=b.useState(r||{businessMission:"",businessDescription:"",coreProducts:"",clientEngagementTimeline:"",salesCycleLength:"",initialEngagementLength:"",averageClientLifetime:"",renewalOpportunities:"",problemsSolved:"",clientTransformationBefore:"",clientTransformationAfter:"",timelineToResults:"",primaryBenefit:"",elevatorPitch:""});b.useEffect(()=>{i&&i(a)},[a,i]);const u=f=>{const{name:h,value:m}=f.target;c(v=>({...v,[h]:m}))},d=f=>{f.preventDefault(),o&&o();const m=["businessDescription","coreProducts","salesCycleLength","initialEngagementLength","averageClientLifetime","renewalOpportunities","problemsSolved","clientTransformationBefore","clientTransformationAfter","timelineToResults","primaryBenefit","elevatorPitch"].filter(v=>{var w;return!((w=a[v])!=null&&w.trim())});if(m.length>0){const v={businessDescription:"Business Description (2-3 sentences)",coreProducts:"Core Products/Services with Pricing",salesCycleLength:"Average Sales Cycle Length",initialEngagementLength:"Initial Engagement Length",averageClientLifetime:"Average Client Lifetime",renewalOpportunities:"Renewal/Upsell/Downsell Opportunities",problemsSolved:"Problems You Solve for Clients",clientTransformationBefore:"Client Transformation - Before State",clientTransformationAfter:"Client Transformation - After State",timelineToResults:"Timeline to Results",primaryBenefit:"Primary Benefit to Clients",elevatorPitch:"Elevator Pitch"},w=m.map(_=>v[_]);alert(`Please fill in the following required fields:

• ${w.join(`
• `)}`);return}t(a)};return l.jsxs("form",{onSubmit:d,className:"space-y-8",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Core Business"}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"businessMission",className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Mission/Vision Statement"}),l.jsx("textarea",{id:"businessMission",name:"businessMission",value:a.businessMission,onChange:u,rows:3,placeholder:"What is your company's mission and vision?",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"businessDescription",className:"block text-sm font-medium text-gray-700 mb-2",children:"Describe your business in 2-3 sentences *"}),l.jsx("textarea",{id:"businessDescription",name:"businessDescription",value:a.businessDescription,onChange:u,rows:4,placeholder:"What does your company do? Who do you serve? What makes you unique?",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"coreProducts",className:"block text-sm font-medium text-gray-700 mb-2",children:"List your core products/services with pricing *"}),l.jsx("textarea",{id:"coreProducts",name:"coreProducts",value:a.coreProducts,onChange:u,rows:6,placeholder:`Product/Service 1: [Description] - [Price]
Product/Service 2: [Description] - [Price]
Product/Service 3: [Description] - [Price]`,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",required:!0})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Client Engagement Timeline *"}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"All fields in this section are required"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"salesCycleLength",className:"block text-sm font-medium text-gray-700 mb-2",children:"Average sales cycle length *"}),l.jsx("input",{type:"text",id:"salesCycleLength",name:"salesCycleLength",value:a.salesCycleLength,onChange:u,placeholder:"e.g., 30 days, 3 months",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"initialEngagementLength",className:"block text-sm font-medium text-gray-700 mb-2",children:"Initial engagement length *"}),l.jsx("input",{type:"text",id:"initialEngagementLength",name:"initialEngagementLength",value:a.initialEngagementLength,onChange:u,placeholder:"e.g., 6 months, 1 year",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"averageClientLifetime",className:"block text-sm font-medium text-gray-700 mb-2",children:"Average client lifetime *"}),l.jsx("input",{type:"text",id:"averageClientLifetime",name:"averageClientLifetime",value:a.averageClientLifetime,onChange:u,placeholder:"e.g., 2 years, 18 months",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"renewalOpportunities",className:"block text-sm font-medium text-gray-700 mb-2",children:"Renewal/upsell/downsell opportunities *"}),l.jsx("input",{type:"text",id:"renewalOpportunities",name:"renewalOpportunities",value:a.renewalOpportunities,onChange:u,placeholder:"e.g., Annual renewals, quarterly upsells",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",required:!0})]})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Value Proposition"}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"problemsSolved",className:"block text-sm font-medium text-gray-700 mb-2",children:"What specific problem(s) do you solve for clients? *"}),l.jsx("textarea",{id:"problemsSolved",name:"problemsSolved",value:a.problemsSolved,onChange:u,rows:4,placeholder:"What specific challenges or pain points do you address?",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"What transformation do clients experience? *"}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"All fields in this section are required"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"clientTransformationBefore",className:"block text-sm font-medium text-gray-600 mb-1",children:"Before state: *"}),l.jsx("textarea",{id:"clientTransformationBefore",name:"clientTransformationBefore",value:a.clientTransformationBefore,onChange:u,rows:2,placeholder:"What situation are clients in before working with you?",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"clientTransformationAfter",className:"block text-sm font-medium text-gray-600 mb-1",children:"After state: *"}),l.jsx("textarea",{id:"clientTransformationAfter",name:"clientTransformationAfter",value:a.clientTransformationAfter,onChange:u,rows:2,placeholder:"What improved situation do they achieve?",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"timelineToResults",className:"block text-sm font-medium text-gray-600 mb-1",children:"Timeline to results: *"}),l.jsx("input",{type:"text",id:"timelineToResults",name:"timelineToResults",value:a.timelineToResults,onChange:u,placeholder:"e.g., 30 days, 3 months, 6 months",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",required:!0})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"primaryBenefit",className:"block text-sm font-medium text-gray-700 mb-2",children:"What is the primary BENEFIT that your product/service brings to your clients? *"}),l.jsx("textarea",{id:"primaryBenefit",name:"primaryBenefit",value:a.primaryBenefit,onChange:u,rows:3,placeholder:"What is the main value or benefit clients receive?",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"elevatorPitch",className:"block text-sm font-medium text-gray-700 mb-2",children:"Elevator Pitch (60 seconds at a networking event) *"}),l.jsx("textarea",{id:"elevatorPitch",name:"elevatorPitch",value:a.elevatorPitch,onChange:u,rows:4,placeholder:"How would you quickly describe your business and value proposition in 60 seconds?",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",required:!0})]})]}),l.jsxs("div",{className:"flex justify-between pt-6 border-t border-gray-200",children:[!n&&l.jsx("button",{type:"button",onClick:e,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-all font-medium",children:"Previous"}),l.jsx("button",{type:"submit",className:`px-6 py-3 bg-secondary text-white rounded-md hover:bg-opacity-90 transition-all font-medium ${n?"ml-auto":""}`,children:s?"Submit":"Next"})]})]})},U$=({onNext:t,onPrevious:e,formData:r,isFirstStep:n,isLastStep:s,updateStepData:i,clearPendingSave:o})=>{const[a,c]=b.useState(r||{idealClientDescription:"",industryVertical:"",annualRevenue:"",companySize:"",geographicLocation:"",technologiesUsed:"",budgetRange:"",idealClientUrls:"",targetJobTitles:"",secondaryInfluencers:""});b.useEffect(()=>{i&&i(a)},[a,i]);const u=f=>{const{name:h,value:m}=f.target;c(v=>({...v,[h]:m}))},d=f=>{f.preventDefault(),o&&o();const m=["idealClientDescription","idealClientUrls","targetJobTitles"].filter(v=>{var w;return!((w=a[v])!=null&&w.trim())});if(m.length>0){const v={idealClientDescription:"Ideal Client Description",idealClientUrls:"URLs of 5+ Ideal Clients",targetJobTitles:"Target Job Titles"},w=m.map(_=>v[_]);alert(`Please fill in the following required fields:

• ${w.join(`
• `)}`);return}if(a.idealClientUrls){const v=a.idealClientUrls.split(`
`).filter(w=>w.trim().length>0);if(v.length<5){alert(`Please provide at least 5 ideal client URLs. You currently have ${v.length}.

Each URL should be on a separate line.`);return}}t(a)};return l.jsxs("form",{onSubmit:d,className:"space-y-8",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Ideal Client Profile"}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"idealClientDescription",className:"block text-sm font-medium text-gray-700 mb-2",children:"Describe your absolute IDEAL client *"}),l.jsx("textarea",{id:"idealClientDescription",name:"idealClientDescription",value:a.idealClientDescription,onChange:u,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",required:!0})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"industryVertical",className:"block text-sm font-medium text-gray-700 mb-2",children:"Industry Vertical"}),l.jsx("input",{type:"text",id:"industryVertical",name:"industryVertical",value:a.industryVertical,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"annualRevenue",className:"block text-sm font-medium text-gray-700 mb-2",children:"Annual Revenue"}),l.jsx("input",{type:"text",id:"annualRevenue",name:"annualRevenue",value:a.annualRevenue,onChange:u,placeholder:"e.g., $1M-$10M",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"companySize",className:"block text-sm font-medium text-gray-700 mb-2",children:"Company size (employees)"}),l.jsx("input",{type:"text",id:"companySize",name:"companySize",value:a.companySize,onChange:u,placeholder:"e.g., 50-200",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"geographicLocation",className:"block text-sm font-medium text-gray-700 mb-2",children:"Geographic location"}),l.jsx("input",{type:"text",id:"geographicLocation",name:"geographicLocation",value:a.geographicLocation,onChange:u,placeholder:"e.g., North America, Europe",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"technologiesUsed",className:"block text-sm font-medium text-gray-700 mb-2",children:"Technologies they use"}),l.jsx("input",{type:"text",id:"technologiesUsed",name:"technologiesUsed",value:a.technologiesUsed,onChange:u,placeholder:"e.g., Salesforce, HubSpot",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"budgetRange",className:"block text-sm font-medium text-gray-700 mb-2",children:"Budget range"}),l.jsx("input",{type:"text",id:"budgetRange",name:"budgetRange",value:a.budgetRange,onChange:u,placeholder:"e.g., $10K-$50K",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"idealClientUrls",className:"block text-sm font-medium text-gray-700 mb-2",children:"Provide URLs of 5+ ideal clients (current or dream) *"}),l.jsx("textarea",{id:"idealClientUrls",name:"idealClientUrls",value:a.idealClientUrls,onChange:u,rows:6,placeholder:`[Company Name] - [URL] - [Why they're ideal]
[Company Name] - [URL] - [Why they're ideal]
...`,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",required:!0})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Decision Makers"}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"targetJobTitles",className:"block text-sm font-medium text-gray-700 mb-2",children:"Job titles you target (i.e. Owner, CEO, CFO, Head of Engineering, etc.) *"}),l.jsx("textarea",{id:"targetJobTitles",name:"targetJobTitles",value:a.targetJobTitles,onChange:u,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"secondaryInfluencers",className:"block text-sm font-medium text-gray-700 mb-2",children:"What are some secondary influencers in the buying process?"}),l.jsx("textarea",{id:"secondaryInfluencers",name:"secondaryInfluencers",value:a.secondaryInfluencers,onChange:u,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary"})]})]}),l.jsxs("div",{className:"flex justify-between pt-6 border-t border-gray-200",children:[!n&&l.jsx("button",{type:"button",onClick:e,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-all font-medium",children:"Previous"}),l.jsx("button",{type:"submit",className:`px-6 py-3 bg-secondary text-white rounded-md hover:bg-opacity-90 transition-all font-medium ${n?"ml-auto":""}`,children:s?"Submit":"Next"})]})]})},M$=({onNext:t,onPrevious:e,formData:r,isFirstStep:n,isLastStep:s,updateStepData:i,clearPendingSave:o})=>{const[a,c]=b.useState(r||{painPoints:"",primaryGoals:"",triggers:"",competitorFrustrations:"",prospectQuestions:"",objections:"",frequentQuestions:""});b.useEffect(()=>{i&&i(a)},[a,i]);const u=f=>{const{name:h,value:m}=f.target;c(v=>({...v,[h]:m}))},d=f=>{f.preventDefault(),o&&o();const m=["painPoints","primaryGoals","triggers","competitorFrustrations","prospectQuestions","objections"].filter(v=>{var w;return!((w=a[v])!=null&&w.trim())});if(m.length>0){const v={painPoints:"Top 3 Pain Points",primaryGoals:"Primary Goals/Desires",triggers:"Triggers to Seek Your Solution",competitorFrustrations:"Frustrations with Competitors/Alternatives",prospectQuestions:"Questions Prospects Would Respond To",objections:"Top 3 Objections and Responses"},w=m.map(_=>v[_]);alert(`Please fill in the following required fields:

• ${w.join(`
• `)}`);return}t(a)};return l.jsxs("form",{onSubmit:d,className:"space-y-8",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Pain Points & Motivations"}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"painPoints",className:"block text-sm font-medium text-gray-700 mb-2",children:"Top 3 pain points your ideal clients face *"}),l.jsx("textarea",{id:"painPoints",name:"painPoints",value:a.painPoints,onChange:u,rows:6,placeholder:`Pain point 1: [How you solve it]
Pain point 2: [How you solve it]
Pain point 3: [How you solve it]`,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"primaryGoals",className:"block text-sm font-medium text-gray-700 mb-2",children:"What are their primary goals/desires? *"}),l.jsx("textarea",{id:"primaryGoals",name:"primaryGoals",value:a.primaryGoals,onChange:u,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"triggers",className:"block text-sm font-medium text-gray-700 mb-2",children:"What triggers them to seek your solution? *"}),l.jsx("textarea",{id:"triggers",name:"triggers",value:a.triggers,onChange:u,rows:4,placeholder:"Specific events, seasons, business changes",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"competitorFrustrations",className:"block text-sm font-medium text-gray-700 mb-2",children:"Common frustrations with competitors/alternatives *"}),l.jsx("textarea",{id:"competitorFrustrations",name:"competitorFrustrations",value:a.competitorFrustrations,onChange:u,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"prospectQuestions",className:"block text-sm font-medium text-gray-700 mb-2",children:"Questions your prospects would likely respond to? *"}),l.jsx("textarea",{id:"prospectQuestions",name:"prospectQuestions",value:a.prospectQuestions,onChange:u,rows:4,placeholder:"Think of questions you would ask during cold calling",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",required:!0})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Objections & Questions"}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"objections",className:"block text-sm font-medium text-gray-700 mb-2",children:"Top 3 objections you hear and your responses *"}),l.jsx("textarea",{id:"objections",name:"objections",value:a.objections,onChange:u,rows:6,placeholder:`[Objection 1]: [Your response]
[Objection 2]: [Your response]
[Objection 3]: [Your response]`,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"frequentQuestions",className:"block text-sm font-medium text-gray-700 mb-2",children:"Most frequent questions on sales calls and your responses"}),l.jsx("textarea",{id:"frequentQuestions",name:"frequentQuestions",value:a.frequentQuestions,onChange:u,rows:6,placeholder:`[Question 1]: [Your answer]
[Question 2]: [Your answer]
[Question 3]: [Your answer]`,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary"})]})]}),l.jsxs("div",{className:"flex justify-between pt-6 border-t border-gray-200",children:[!n&&l.jsx("button",{type:"button",onClick:e,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-all font-medium",children:"Previous"}),l.jsx("button",{type:"submit",className:`px-6 py-3 bg-secondary text-white rounded-md hover:bg-opacity-90 transition-all font-medium ${n?"ml-auto":""}`,children:s?"Submit":"Next"})]})]})},z$=({onNext:t,onPrevious:e,formData:r,isFirstStep:n,isLastStep:s,updateStepData:i,clearPendingSave:o})=>{const[a,c]=b.useState(r||{caseStudies:"",awards:"",mediaReferences:"",partnerships:"",clientFeedback:""});b.useEffect(()=>{i&&i(a)},[a,i]);const u=f=>{const{name:h,value:m}=f.target;c(v=>({...v,[h]:m}))},d=f=>{f.preventDefault(),o&&o();const m=["caseStudies"].filter(v=>{var w;return!((w=a[v])!=null&&w.trim())});if(m.length>0){const v={caseStudies:"Case Studies and Positive Results (2-3 examples)"},w=m.map(_=>v[_]);alert(`Please fill in the following required fields:

• ${w.join(`
• `)}`);return}t(a)};return l.jsxs("form",{onSubmit:d,className:"space-y-8",children:[l.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-200 mb-6",children:[l.jsx("h4",{className:"text-lg font-semibold text-blue-900 mb-3",children:"Case Study Framework"}),l.jsxs("p",{className:"text-blue-800 mb-3",children:[l.jsx("strong",{children:"General Formula:"}),' "We helped [Client/Industry] achieve [Specific Result] in [Timeframe] using [Your Unique Method]"']}),l.jsx("p",{className:"text-blue-800 text-sm",children:"Include: (1) Client name/industry, (2) Quantifiable result, (3) Timeframe, (4) Unique mechanism"})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Case Studies"}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"caseStudies",className:"block text-sm font-medium text-gray-700 mb-2",children:"Your most recent CASE STUDIES and positive results (2-3 examples) *"}),l.jsx("textarea",{id:"caseStudies",name:"caseStudies",value:a.caseStudies,onChange:u,rows:8,placeholder:`Example 1: Just recently helped [brand] increase their monthly revenue from 12k/month to 40k/month in just one month working with us.

Example 2: I just helped Hanover, an online store similar to yours, increase their email revenue from 7,426 to 84,270 in just one month by making some small tweaks inside their email flows.

Example 3: We just helped Mario Lanzarotti add 20k of new client revenue in just their first month working with us.`,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",required:!0})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Credibility Markers"}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"awards",className:"block text-sm font-medium text-gray-700 mb-2",children:"Awards, certifications, or recognition"}),l.jsx("textarea",{id:"awards",name:"awards",value:a.awards,onChange:u,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"mediaReferences",className:"block text-sm font-medium text-gray-700 mb-2",children:"Media mentions, press coverage, or speaking engagements"}),l.jsx("textarea",{id:"mediaReferences",name:"mediaReferences",value:a.mediaReferences,onChange:u,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"partnerships",className:"block text-sm font-medium text-gray-700 mb-2",children:"Strategic partnerships or notable clients"}),l.jsx("textarea",{id:"partnerships",name:"partnerships",value:a.partnerships,onChange:u,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary"})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Client Feedback"}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"clientFeedback",className:"block text-sm font-medium text-gray-700 mb-2",children:"What do your best clients say about you? (Include 3-5 direct quotes)"}),l.jsx("textarea",{id:"clientFeedback",name:"clientFeedback",value:a.clientFeedback,onChange:u,rows:8,placeholder:`Quote 1: "[Direct client quote]" - [Client Name/Company]

Quote 2: "[Direct client quote]" - [Client Name/Company]

Quote 3: "[Direct client quote]" - [Client Name/Company]`,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary"})]})]}),l.jsxs("div",{className:"flex justify-between pt-6 border-t border-gray-200",children:[!n&&l.jsx("button",{type:"button",onClick:e,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-all font-medium",children:"Previous"}),l.jsx("button",{type:"submit",className:`px-6 py-3 bg-secondary text-white rounded-md hover:bg-opacity-90 transition-all font-medium ${n?"ml-auto":""}`,children:s?"Submit":"Next"})]})]})},B$=({onNext:t,onPrevious:e,formData:r,isFirstStep:n,isLastStep:s,updateStepData:i,clearPendingSave:o})=>{const[a,c]=b.useState(r||{competitors:"",uniqueDifferentiators:"",pricingAdvantage:"",alternativeSpending:""});b.useEffect(()=>{i&&i(a)},[a,i]);const u=f=>{const{name:h,value:m}=f.target;c(v=>({...v,[h]:m}))},d=f=>{f.preventDefault(),o&&o();const m=["competitors","uniqueDifferentiators"].filter(v=>{var w;return!((w=a[v])!=null&&w.trim())});if(m.length>0){const v={competitors:"Top 3-5 Competitors with Website Links",uniqueDifferentiators:"What Makes Your Company Unique"},w=m.map(_=>v[_]);alert(`Please fill in the following required fields:

• ${w.join(`
• `)}`);return}t(a)};return l.jsxs("form",{onSubmit:d,className:"space-y-8",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"competitors",className:"block text-sm font-medium text-gray-700 mb-2",children:"List your top 3-5 competitors with links to their website *"}),l.jsx("textarea",{id:"competitors",name:"competitors",value:a.competitors,onChange:u,rows:6,placeholder:`[Competitor 1] - [Link]
[Competitor 2] - [Link]
[Competitor 3] - [Link]`,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"uniqueDifferentiators",className:"block text-sm font-medium text-gray-700 mb-2",children:"What makes your company unique and different from your competitors? *"}),l.jsx("textarea",{id:"uniqueDifferentiators",name:"uniqueDifferentiators",value:a.uniqueDifferentiators,onChange:u,rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"pricingAdvantage",className:"block text-sm font-medium text-gray-700 mb-2",children:"How is your pricing competitive or attractive compared to alternatives?"}),l.jsx("textarea",{id:"pricingAdvantage",name:"pricingAdvantage",value:a.pricingAdvantage,onChange:u,rows:4,placeholder:"Is it better/faster/cheaper?",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"alternativeSpending",className:"block text-sm font-medium text-gray-700 mb-2",children:"What do your clients usually spend their money on that would be better utilized via your product/service?"}),l.jsx("textarea",{id:"alternativeSpending",name:"alternativeSpending",value:a.alternativeSpending,onChange:u,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary"})]})]}),l.jsxs("div",{className:"flex justify-between pt-6 border-t border-gray-200",children:[!n&&l.jsx("button",{type:"button",onClick:e,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-all font-medium",children:"Previous"}),l.jsx("button",{type:"submit",className:`px-6 py-3 bg-secondary text-white rounded-md hover:bg-opacity-90 transition-all font-medium ${n?"ml-auto":""}`,children:s?"Submit":"Next"})]})]})},V$=({onNext:t,onPrevious:e,formData:r,isFirstStep:n,isLastStep:s,updateStepData:i,clearPendingSave:o})=>{const[a,c]=b.useState(r||{guarantee:"",leadMagnets:"",mustUseTerms:"",avoidTerms:"",coreMessages:""});b.useEffect(()=>{i&&i(a)},[a,i]);const u=f=>{const{name:h,value:m}=f.target;c(v=>({...v,[h]:m}))},d=f=>{f.preventDefault(),o&&o();const m=["guarantee","leadMagnets"].filter(v=>{var w;return!((w=a[v])!=null&&w.trim())});if(m.length>0){const v={guarantee:"Guarantee or Risk Reversal",leadMagnets:"Lead Magnet Offers"},w=m.map(_=>v[_]);alert(`Please fill in the following required fields:

• ${w.join(`
• `)}`);return}t(a)};return l.jsxs("form",{onSubmit:d,className:"space-y-8",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Offers & Incentives"}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"guarantee",className:"block text-sm font-medium text-gray-700 mb-2",children:"Do you offer a guarantee or risk reversal? *"}),l.jsx("textarea",{id:"guarantee",name:"guarantee",value:a.guarantee,onChange:u,rows:4,placeholder:"e.g., 'XYZ result or you don't pay', money back guarantee, performance-based offer",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"leadMagnets",className:"block text-sm font-medium text-gray-700 mb-2",children:"Do you have any lead magnet offers? *"}),l.jsx("textarea",{id:"leadMagnets",name:"leadMagnets",value:a.leadMagnets,onChange:u,rows:4,placeholder:"trial/pilot offers, free service, free information (video/pdf/proven strategies), etc.",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",required:!0})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Messaging Preferences"}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"mustUseTerms",className:"block text-sm font-medium text-gray-700 mb-2",children:"Must-use phrases or terminology"}),l.jsx("textarea",{id:"mustUseTerms",name:"mustUseTerms",value:a.mustUseTerms,onChange:u,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"avoidTerms",className:"block text-sm font-medium text-gray-700 mb-2",children:"Words/phrases to AVOID"}),l.jsx("textarea",{id:"avoidTerms",name:"avoidTerms",value:a.avoidTerms,onChange:u,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"coreMessages",className:"block text-sm font-medium text-gray-700 mb-2",children:"Core messages that resonate with your audience"}),l.jsx("textarea",{id:"coreMessages",name:"coreMessages",value:a.coreMessages,onChange:u,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary"})]})]}),l.jsxs("div",{className:"flex justify-between pt-6 border-t border-gray-200",children:[!n&&l.jsx("button",{type:"button",onClick:e,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-all font-medium",children:"Previous"}),l.jsx("button",{type:"submit",className:`px-6 py-3 bg-secondary text-white rounded-md hover:bg-opacity-90 transition-all font-medium ${n?"ml-auto":""}`,children:s?"Submit":"Next"})]})]})},H$=({onNext:t,onPrevious:e,formData:r,isFirstStep:n,isLastStep:s,updateStepData:i,clearPendingSave:o})=>{const[a,c]=b.useState(r||{marketingAssets:"",campaignHistory:"",whatWorked:"",whatDidntWork:""});b.useEffect(()=>{i&&i(a)},[a,i]);const u=f=>{const{name:h,value:m}=f.target;c(v=>({...v,[h]:m}))},d=f=>{f.preventDefault(),o&&o(),t(a)};return l.jsxs("form",{onSubmit:d,className:"space-y-8",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Existing Materials"}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"marketingAssets",className:"block text-sm font-medium text-gray-700 mb-2",children:"List all current marketing/sales assets"}),l.jsx("textarea",{id:"marketingAssets",name:"marketingAssets",value:a.marketingAssets,onChange:u,rows:6,placeholder:`Sales decks: [Links]
Case study documents: [Links]
Video content: [Links]
Testimonial videos: [Links]
Other: [Links]`,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary"})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Campaign History"}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"campaignHistory",className:"block text-sm font-medium text-gray-700 mb-2",children:"Previous outbound campaign results"}),l.jsx("textarea",{id:"campaignHistory",name:"campaignHistory",value:a.campaignHistory,onChange:u,rows:6,placeholder:`Cold calling: [Results/script if available]
Cold email: [Results/copy if available]
LinkedIn: [Results/templates if available]
Other: [Results]`,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"whatWorked",className:"block text-sm font-medium text-gray-700 mb-2",children:"What has worked best historically?"}),l.jsx("textarea",{id:"whatWorked",name:"whatWorked",value:a.whatWorked,onChange:u,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"whatDidntWork",className:"block text-sm font-medium text-gray-700 mb-2",children:"What has NOT worked?"}),l.jsx("textarea",{id:"whatDidntWork",name:"whatDidntWork",value:a.whatDidntWork,onChange:u,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary"})]})]}),l.jsxs("div",{className:"flex justify-between pt-6 border-t border-gray-200",children:[!n&&l.jsx("button",{type:"button",onClick:e,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-all font-medium",children:"Previous"}),l.jsx("button",{type:"submit",className:`px-6 py-3 bg-secondary text-white rounded-md hover:bg-opacity-90 transition-all font-medium ${n?"ml-auto":""}`,children:s?"Submit":"Next"})]})]})},q$=({onNext:t,onPrevious:e,formData:r,isFirstStep:n,isLastStep:s,updateStepData:i,clearPendingSave:o})=>{const[a,c]=b.useState(r||{emailSendingPlatform:"",emailHosting:"",leadDataSource:"",clayUsage:"",automationTools:"",helpNeeded:"",compliance:""});b.useEffect(()=>{i&&i(a)},[a,i]);const u=h=>{const{name:m,value:v}=h.target;c(w=>({...w,[m]:v}))},d=h=>{h.preventDefault(),o&&o();const m=["emailSendingPlatform","emailHosting","leadDataSource","clayUsage","automationTools","helpNeeded"],v=[];if(m.forEach(w=>{var _;w==="helpNeeded"?(!a.helpNeeded||a.helpNeeded.trim()==="")&&v.push("Help Needed (select at least one option)"):(_=a[w])!=null&&_.trim()||v.push(f(w))}),v.length>0){setTimeout(()=>{alert(`Please fill in the following required fields:

• ${v.join(`
• `)}`)},50);return}t(a)},f=h=>({emailSendingPlatform:"Cold Email Sending Platform",emailHosting:"Email Hosting Provider",leadDataSource:"Lead Data Source",clayUsage:"Clay.com Usage",automationTools:"Marketing Automation Tools"})[h]||h;return l.jsxs("form",{onSubmit:d,className:"space-y-8",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Systems & Platforms"}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"emailSendingPlatform",className:"block text-sm font-medium text-gray-700 mb-2",children:"What Cold Email Sending Platform are you using? *"}),l.jsx("input",{type:"text",id:"emailSendingPlatform",name:"emailSendingPlatform",value:a.emailSendingPlatform,onChange:u,placeholder:"i.e. Instantly, Smartlead, EmailBison, HubSpot, etc.",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"emailHosting",className:"block text-sm font-medium text-gray-700 mb-2",children:"What providers are you using for Email Hosting? *"}),l.jsx("input",{type:"text",id:"emailHosting",name:"emailHosting",value:a.emailHosting,onChange:u,placeholder:"i.e. Google, Microsoft, Instantly, Smartlead, ScaledMail, Mailreef, Hypertide, etc.",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"leadDataSource",className:"block text-sm font-medium text-gray-700 mb-2",children:"How are you sourcing your lead data? *"}),l.jsx("input",{type:"text",id:"leadDataSource",name:"leadDataSource",value:a.leadDataSource,onChange:u,placeholder:"i.e. Apollo.io, ZoomInfo, Ocean.io custom list provider, etc.",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"clayUsage",className:"block text-sm font-medium text-gray-700 mb-2",children:"Are you using Clay.com to enrich/personalize your lead data? *"}),l.jsxs("select",{id:"clayUsage",name:"clayUsage",value:a.clayUsage,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",required:!0,children:[l.jsx("option",{value:"",children:"Select an option"}),l.jsx("option",{value:"yes",children:"Yes"}),l.jsx("option",{value:"no",children:"No"}),l.jsx("option",{value:"planning-to",children:"Planning to start using it"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"automationTools",className:"block text-sm font-medium text-gray-700 mb-2",children:"What marketing automation tools are you using? *"}),l.jsx("input",{type:"text",id:"automationTools",name:"automationTools",value:a.automationTools,onChange:u,placeholder:"Zapier.com, Make.com, n8n workflows, etc.",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",required:!0})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Help Needed"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Would you like help with any of the following? *"}),l.jsx("div",{className:"space-y-3",children:["Setting up your cold email sending platform","Creating your diversified email account infrastructure","Lead sourcing and list building","Clay lead data enrichment/personalization for more targeted/relevant emails","Creating custom marketing automations to speed up your operations"].map((h,m)=>l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",name:"helpNeeded",value:h,checked:a.helpNeeded?a.helpNeeded.includes(h):!1,onChange:v=>{const{value:w,checked:_}=v.target;c(_?g=>({...g,helpNeeded:[...(g.helpNeeded||"").split(", ").filter(Boolean),w].join(", ")}):g=>({...g,helpNeeded:(g.helpNeeded||"").split(", ").filter(p=>p!==w).join(", ")}))},className:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded"}),l.jsx("span",{className:"ml-2 text-gray-700",children:h})]},m))})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Compliance"}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"compliance",className:"block text-sm font-medium text-gray-700 mb-2",children:"Any industry compliance considerations or legal restrictions/disclaimers needed"}),l.jsx("textarea",{id:"compliance",name:"compliance",value:a.compliance,onChange:u,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary"})]})]}),l.jsxs("div",{className:"flex justify-between pt-6 border-t border-gray-200",children:[!n&&l.jsx("button",{type:"button",onClick:e,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-all font-medium",children:"Previous"}),l.jsx("button",{type:"submit",className:`px-6 py-3 bg-secondary text-white rounded-md hover:bg-opacity-90 transition-all font-medium ${n?"ml-auto":""}`,children:s?"Submit":"Next"})]})]})},W$=({onNext:t,onPrevious:e,formData:r,isFirstStep:n,isLastStep:s,allFormData:i,updateStepData:o,clearPendingSave:a})=>{const[c,u]=b.useState(r||{primaryGoal:"",secondaryGoals:"",additionalInfo:"",questionsForTeam:""});b.useEffect(()=>{o&&o(c)},[c,o]);const d=w=>{const{name:_,value:g}=w.target;u(p=>({...p,[_]:g}))},f=()=>({company_fundamentals:["companyName","websiteUrl","businessAddress","industry","contactName","contactTitle","contactPhone","contactEmail"],business_overview:["businessDescription","coreProducts","salesCycleLength","initialEngagementLength","averageClientLifetime","renewalOpportunities","problemsSolved","clientTransformationBefore","clientTransformationAfter","timelineToResults","primaryBenefit","elevatorPitch"],target_market:["idealClientDescription","idealClientUrls","targetJobTitles"],client_intelligence:["painPoints","primaryGoals","triggers","competitorFrustrations","prospectQuestions","objections"],social_proof:["caseStudies"],competitive_landscape:["competitors","uniqueDifferentiators"],sales_marketing:["guarantee","leadMagnets"],assets_resources:[],technical_setup:["emailSendingPlatform","emailHosting","leadDataSource","clayUsage","automationTools","helpNeeded"],goals_final:["primaryGoal","additionalInfo"]}),h=w=>({companyName:"Company Name",websiteUrl:"Website URL",businessAddress:"Primary Business Address",industry:"Industry/Vertical",contactName:"Primary Contact Name",contactTitle:"Primary Contact Title",contactPhone:"Best Phone Number",contactEmail:"Best Email Address",businessDescription:"Business Description (2-3 sentences)",coreProducts:"Core Products/Services with Pricing",salesCycleLength:"Average Sales Cycle Length",initialEngagementLength:"Initial Engagement Length",averageClientLifetime:"Average Client Lifetime",renewalOpportunities:"Renewal/Upsell/Downsell Opportunities",problemsSolved:"Problems You Solve for Clients",clientTransformationBefore:"Client Transformation - Before State",clientTransformationAfter:"Client Transformation - After State",timelineToResults:"Timeline to Results",primaryBenefit:"Primary Benefit to Clients",elevatorPitch:"Elevator Pitch",idealClientDescription:"Ideal Client Description",idealClientUrls:"URLs of 5+ Ideal Clients",targetJobTitles:"Target Job Titles",painPoints:"Top 3 Pain Points",primaryGoals:"Primary Goals/Desires",triggers:"Triggers to Seek Your Solution",competitorFrustrations:"Frustrations with Competitors",prospectQuestions:"Questions Prospects Would Respond To",objections:"Top 3 Objections and Responses",caseStudies:"Case Studies and Results",competitors:"Top 3-5 Competitors",uniqueDifferentiators:"What Makes You Unique",guarantee:"Guarantee or Risk Reversal",leadMagnets:"Lead Magnet Offers",emailSendingPlatform:"Cold Email Sending Platform",emailHosting:"Email Hosting Provider",leadDataSource:"Lead Data Source",clayUsage:"Clay.com Usage",automationTools:"Marketing Automation Tools",helpNeeded:"Help Needed",primaryGoal:"Primary Goal for Campaigns",additionalInfo:"Anything Else We Should Know"})[w]||w,m=()=>{const w=f(),_=[],g={...i,goals_final:c};return Object.entries(w).forEach(([p,y])=>{const x=g[p]||{};y.forEach(E=>{var k;E==="helpNeeded"?(!x.helpNeeded||x.helpNeeded.trim()==="")&&_.push(`${h(E)} (select at least one option)`):(k=x[E])!=null&&k.trim()||_.push(h(E))})}),_},v=w=>{w.preventDefault(),a&&a();const g=["primaryGoal","additionalInfo"].filter(y=>{var x;return!((x=c[y])!=null&&x.trim())});if(g.length>0){const y={primaryGoal:"Primary Goal for Campaigns",additionalInfo:"Anything Else We Should Know"},x=g.map(E=>y[E]);alert(`Please fill in the following required fields in the current step:

• ${x.join(`
• `)}`);return}const p=m();if(p.length>0){const y={"Company Name":"Company Fundamentals","Website URL":"Company Fundamentals","Primary Business Address":"Company Fundamentals","Industry/Vertical":"Company Fundamentals","Primary Contact Name":"Company Fundamentals","Primary Contact Title":"Company Fundamentals","Best Phone Number":"Company Fundamentals","Best Email Address":"Company Fundamentals","Business Description (2-3 sentences)":"Business Overview","Core Products/Services with Pricing":"Business Overview","Average Sales Cycle Length":"Business Overview","Initial Engagement Length":"Business Overview","Average Client Lifetime":"Business Overview","Renewal/Upsell/Downsell Opportunities":"Business Overview","Problems You Solve for Clients":"Business Overview","Client Transformation - Before State":"Business Overview","Client Transformation - After State":"Business Overview","Timeline to Results":"Business Overview","Primary Benefit to Clients":"Business Overview","Elevator Pitch":"Business Overview","Ideal Client Description":"Target Market","URLs of 5+ Ideal Clients":"Target Market","Target Job Titles":"Target Market","Top 3 Pain Points":"Client Intelligence","Primary Goals/Desires":"Client Intelligence","Triggers to Seek Your Solution":"Client Intelligence","Frustrations with Competitors":"Client Intelligence","Questions Prospects Would Respond To":"Client Intelligence","Top 3 Objections and Responses":"Client Intelligence","Case Studies and Results":"Social Proof","Top 3-5 Competitors":"Competitive Landscape","What Makes You Unique":"Competitive Landscape","Guarantee or Risk Reversal":"Sales & Marketing","Lead Magnet Offers":"Sales & Marketing","Cold Email Sending Platform":"Technical Setup","Email Hosting Provider":"Technical Setup","Lead Data Source":"Technical Setup","Clay.com Usage":"Technical Setup","Marketing Automation Tools":"Technical Setup","Help Needed":"Technical Setup"},x={};p.forEach(k=>{const T=y[k]||"Unknown Step";x[T]||(x[T]=[]),x[T].push(k)});let E=`Please complete the following required fields before finishing onboarding:

`;Object.entries(x).forEach(([k,T])=>{E+=`${k}:
`,T.forEach(A=>{E+=`  • ${A}
`}),E+=`
`}),E+="Please go back to the relevant steps and complete these fields, then return to finish your onboarding.",alert(E);return}t(c)};return l.jsxs("form",{onSubmit:v,className:"space-y-8",children:[l.jsxs("div",{className:"bg-green-50 p-6 rounded-lg border border-green-200 mb-6",children:[l.jsx("h4",{className:"text-lg font-semibold text-green-900 mb-3",children:"🎉 Almost Done!"}),l.jsx("p",{className:"text-green-800",children:"You're on the final step of your LeadLines onboarding. This information will help us set clear expectations and ensure we deliver exactly what you need."})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Business Objectives"}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"primaryGoal",className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary goal for your campaigns *"}),l.jsx("textarea",{id:"primaryGoal",name:"primaryGoal",value:c.primaryGoal,onChange:d,rows:4,placeholder:"e.g., Book 20 qualified demos per month, Generate 50 leads per week, Increase revenue by 30%",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"secondaryGoals",className:"block text-sm font-medium text-gray-700 mb-2",children:"Secondary goals"}),l.jsx("textarea",{id:"secondaryGoals",name:"secondaryGoals",value:c.secondaryGoals,onChange:d,rows:4,placeholder:"Any additional objectives you'd like to achieve",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary"})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Final Information"}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"additionalInfo",className:"block text-sm font-medium text-gray-700 mb-2",children:"Anything else we should know? *"}),l.jsx("textarea",{id:"additionalInfo",name:"additionalInfo",value:c.additionalInfo,onChange:d,rows:6,placeholder:"Any special considerations, unique aspects of your business, specific challenges, or additional context that would help us create better campaigns for you",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"questionsForTeam",className:"block text-sm font-medium text-gray-700 mb-2",children:"Questions for the LeadLines team?"}),l.jsx("textarea",{id:"questionsForTeam",name:"questionsForTeam",value:c.questionsForTeam,onChange:d,rows:4,placeholder:"Any questions about our process, timeline, or how we can best support your goals",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary"})]})]}),l.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-200",children:[l.jsx("h4",{className:"text-lg font-semibold text-blue-900 mb-3",children:"What Happens Next?"}),l.jsxs("div",{className:"text-blue-800 space-y-2",children:[l.jsx("p",{children:"✅ Your information will be processed by our LeadLines AI Agents"}),l.jsx("p",{children:"✅ We'll analyze your responses and create custom training docs"}),l.jsx("p",{children:"✅ You'll receive a detailed review of your training docs to sign off on"}),l.jsx("p",{children:"✅ Once approved, we'll create your personal workspace and AI Agent"})]})]}),l.jsxs("div",{className:"flex justify-between pt-6 border-t border-gray-200",children:[!n&&l.jsx("button",{type:"button",onClick:e,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-all font-medium",children:"Previous"}),l.jsx("button",{type:"submit",className:`px-8 py-4 bg-green-600 text-white rounded-md hover:bg-green-700 transition-all font-semibold text-lg ${n?"ml-auto":""}`,children:"Complete Onboarding"})]})]})};var G$={};const K$=()=>{const{currentUser:t,completeOnboarding:e,checkOnboardingStatus:r,logout:n}=bt(),s=Cr(),[i,o]=b.useState(0),[a,c]=b.useState({}),[u,d]=b.useState(new Set([0])),[f,h]=b.useState(!1),[m,v]=b.useState(""),[w,_]=b.useState(!1),[g,p]=b.useState(!1),[y,x]=b.useState(!1),E=b.useRef(null),k=b.useRef(null),[T,A]=b.useState(!1),U=b.useRef(null),S=[{component:L$,title:"Welcome",key:"welcome"},{component:D$,title:"Company Basics",key:"company_fundamentals"},{component:F$,title:"Business Overview",key:"business_overview"},{component:U$,title:"Target Market",key:"target_market"},{component:M$,title:"Client Intelligence",key:"client_intelligence"},{component:z$,title:"Social Proof",key:"social_proof"},{component:B$,title:"Competition",key:"competitive_landscape"},{component:V$,title:"Sales & Marketing",key:"sales_marketing"},{component:H$,title:"Assets & Resources",key:"assets_resources"},{component:q$,title:"Technical Setup",key:"technical_setup"},{component:W$,title:"Goals & Final",key:"goals_final"}],I=()=>{try{const B=localStorage.getItem("leadlines_onboarding_data"),Y=localStorage.getItem("leadlines_onboarding_visited"),Ee=localStorage.getItem("leadlines_onboarding_current_step");B&&c(JSON.parse(B)),Y&&d(new Set(JSON.parse(Y))),Ee&&o(parseInt(Ee))}catch(B){console.warn("Failed to load saved onboarding data:",B)}},M=()=>{d(B=>{const Y=new Set(B);return Y.add(i),Y})},H=()=>{const B=document.querySelector("main .h-full.overflow-y-auto");B?B.scrollTo({top:0,behavior:"smooth"}):window.scrollTo({top:0,behavior:"smooth"})},W=()=>{var B;if(w){p(!0),_(!1);const Y=Ee=>{var Oe;Ee.target===E.current&&Ee.propertyName==="width"&&(p(!1),(Oe=E.current)==null||Oe.removeEventListener("transitionend",Y))};(B=E.current)==null||B.addEventListener("transitionend",Y)}else _(!0),p(!1)},R=B=>{u.has(B)&&B>=0&&(o(B),setTimeout(()=>{C()},200),H())};b.useEffect(()=>{(async()=>{if(!t){s("/login");return}try{if(await r(t)){s("/dashboard");return}}catch(Y){console.error("Error checking onboarding status:",Y)}I()})()},[t,s,r]),b.useEffect(()=>()=>{k.current&&clearTimeout(k.current)},[]);const ue=(B,Y)=>{c(Ee=>{const Oe={...Ee,[B]:Y};return k.current&&clearTimeout(k.current),k.current=setTimeout(()=>{if(t)try{localStorage.setItem("leadlines_onboarding_data",JSON.stringify(Oe)),localStorage.setItem("leadlines_onboarding_visited",JSON.stringify([...u])),localStorage.setItem("leadlines_onboarding_current_step",i.toString())}catch(He){console.warn("Failed to save onboarding data:",He)}k.current=null},100),Oe})},pe=()=>{k.current&&(clearTimeout(k.current),k.current=null)},C=()=>{if(t)try{localStorage.setItem("leadlines_onboarding_data",JSON.stringify(a)),localStorage.setItem("leadlines_onboarding_visited",JSON.stringify([...u])),localStorage.setItem("leadlines_onboarding_current_step",i.toString())}catch(B){console.warn("Failed to save progress data:",B)}},O=B=>{const Y=S[i].key,Ee={...a,[Y]:B};c(Ee),M(),i<S.length-1?(o(i+1),d(Oe=>{const He=new Set(Oe);return He.add(i+1),He}),setTimeout(()=>{C()},200),H()):$(Ee)},N=()=>{i>0&&(o(i-1),H())},$=async B=>{h(!0),x(!0),v("");try{const Y={user_id:t.uid,email:t.email,timestamp:new Date().toISOString(),onboarding_data:B},Ee=G$.REACT_APP_ONBOARDING_WEBHOOK_URL||"https://bluecraftleads.app.n8n.cloud/webhook/e5e2d7f2-2569-4f26-bfaa-1bf8ca0d6f32";if(!(await fetch(Ee,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y)})).ok)throw new Error("Failed to submit onboarding data");if(!await e(t))throw new Error("Failed to mark onboarding as completed");localStorage.removeItem("leadlines_onboarding_data"),localStorage.removeItem("leadlines_onboarding_visited"),localStorage.removeItem("leadlines_onboarding_current_step"),s("/dashboard")}catch(Y){console.error("Error submitting onboarding:",Y),v("Failed to complete onboarding. Please try again."),h(!1),x(!1)}},K=()=>S.map((B,Y)=>{const Ee=u.has(Y),Oe=Y===i,He=u.has(Y)&&!Oe,Zs=()=>{He&&R(Y)};return w&&!g?l.jsx("li",{className:`flex items-center justify-center p-2 rounded-md transition-colors duration-200 ${He?"cursor-pointer hover:bg-accent hover:bg-opacity-30":""} ${Oe?"bg-accent bg-opacity-20":""}`,onClick:Zs,children:l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-colors duration-200 ${Ee?"bg-accent text-text-dark":"bg-gray-600 text-gray-300"}`,children:Y+1})},Y):g?l.jsx("li",{className:`flex items-center p-2 rounded-md transition-colors duration-200 ${He?"cursor-pointer hover:bg-accent hover:bg-opacity-30":""} ${Oe?"bg-accent bg-opacity-20":""}`,onClick:Zs,children:l.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-sm font-medium transition-colors duration-200 flex-shrink-0 ${Ee?"bg-accent text-text-dark":"bg-gray-600 text-gray-300"}`,children:Y+1})},Y):l.jsxs("li",{className:`flex items-center space-x-3 p-2 rounded-md transition-colors duration-200 ${He?"cursor-pointer hover:bg-accent hover:bg-opacity-30":""} ${Oe?"bg-accent bg-opacity-20":""}`,onClick:Zs,children:[l.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-sm font-medium transition-colors duration-200 flex-shrink-0 ${Ee?"bg-accent text-text-dark":"bg-gray-600 text-gray-300"}`,children:Y+1}),l.jsx("span",{className:`text-sm ${Oe?"font-medium text-white":He?"text-gray-200":"text-gray-300"}`,style:{animation:"fadeIn 0.2s ease-out"},children:B.title})]},Y)}),te=()=>{if(!t)return"U";const B=t.email.split("@")[0];return B?B[0].toUpperCase():"U"},_e=async()=>{try{await n(),A(!1),s("/login")}catch(B){console.error("Failed to log out",B)}};if(b.useEffect(()=>{const B=Y=>{U.current&&!U.current.contains(Y.target)&&A(!1)};return document.addEventListener("mousedown",B),()=>{document.removeEventListener("mousedown",B)}},[]),!t)return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-secondary mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})});const ct=S[i].component,Ue=y?100:i/S.length*100;return l.jsxs("div",{className:"bg-gray-50 h-screen flex flex-col overflow-hidden",children:[l.jsx("style",{jsx:!0,children:`
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
      `}),l.jsxs("div",{className:"h-screen flex flex-col overflow-hidden",children:[l.jsx("header",{className:"bg-secondary text-text-light p-4 pb-3 relative min-h-16",children:l.jsxs("div",{className:"container mx-auto flex justify-between items-center h-full",children:[l.jsx("div",{className:"absolute left-0 top-0 w-44 h-full flex items-center bg-secondary",children:l.jsx("button",{onClick:()=>s("/dashboard"),className:"text-2xl font-bold hover:text-accent transition-colors block px-4 py-2 text-center w-full",children:"LeadLines"})}),l.jsx("div",{className:"w-44 invisible"}),l.jsx("div",{})," "]})}),l.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[l.jsxs("aside",{ref:E,className:`bg-secondary text-text-light p-3 pt-2 flex flex-col relative transition-all duration-300 ease-out ${w?"w-22":"w-44"}`,style:{zIndex:40,overflow:"visible"},children:[l.jsx("button",{onClick:W,className:"absolute w-6 h-6 rounded-full bg-accent text-text-dark flex items-center justify-center hover:bg-accent-dark transition-colors",style:{right:"-12px",bottom:"60px",zIndex:9999},"aria-label":"Toggle sidebar",children:l.jsx("span",{className:"text-xs",children:w?"▶":"◀"})}),l.jsx("nav",{className:"mb-auto",children:l.jsx("ul",{className:"space-y-2",children:K()})}),l.jsxs("div",{className:"mt-auto relative",ref:U,children:[l.jsx("button",{onClick:()=>A(!T),className:"w-full flex items-center justify-center p-2 hover:bg-secondary-dark rounded-md transition-colors","aria-label":"Profile menu",children:l.jsx("div",{className:"w-10 h-10 rounded-full bg-accent text-text-dark flex items-center justify-center font-medium",children:te()})}),T&&l.jsx("div",{className:"absolute bottom-full left-0 right-0 mb-2 mx-auto w-auto min-w-full bg-white rounded-md shadow-lg py-1 z-50",children:l.jsx("button",{onClick:_e,className:"block w-full text-left px-4 py-2 text-text-dark hover:bg-gray-100",children:"Sign Out"})})]})]}),l.jsx("main",{className:"flex-1 overflow-hidden",style:{zIndex:1},children:l.jsx("div",{className:"h-full overflow-y-auto p-4",children:l.jsx("div",{className:"container mx-auto",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsx("div",{className:"mb-8",children:l.jsx("h2",{className:"text-2xl font-bold text-text-dark",children:"Onboarding"})}),l.jsxs("div",{className:"mb-8",children:[l.jsx("div",{className:"relative mb-4",children:l.jsx("div",{className:"overflow-hidden h-2 text-xs flex rounded bg-gray-200",children:l.jsx("div",{className:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-secondary transition-all duration-300 ease-out",style:{width:`${Ue}%`}})})}),l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("div",{className:"text-sm text-gray-600",children:["Step ",i+1," of ",S.length]}),l.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[Math.round(Ue),"% Complete"]})]}),l.jsx("div",{className:"text-center",children:l.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:S[i].title})})]}),m&&l.jsx("div",{className:"mb-6 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:m}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-8",children:l.jsx(ct,{onNext:O,onPrevious:N,formData:a[S[i].key]||{},isFirstStep:i===0,isLastStep:i===S.length-1,loading:f,allFormData:i===S.length-1?a:void 0,updateStepData:B=>ue(S[i].key,B),clearPendingSave:pe})})]})})})})]})]})]})},Or=({children:t})=>{const{currentUser:e,checkOnboardingStatus:r}=bt(),[n,s]=b.useState(!1),[i,o]=b.useState(!0);return b.useEffect(()=>{(async()=>{if(!e){o(!1);return}try{const c=await r(e);if(s(c),!c&&window.location.pathname!=="/onboarding"){window.location.href="/onboarding";return}}catch(c){console.error("Error checking onboarding status:",c)}finally{o(!1)}})()},[e,r]),e?i?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-secondary mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):t:l.jsx(Ov,{to:"/login",replace:!0})};function J$(){return l.jsxs(YS,{children:[l.jsx(Xe,{path:"/",element:l.jsx(Ov,{to:"/login",replace:!0})}),l.jsx(Xe,{path:"/login",element:l.jsx(At,{children:l.jsx(m$,{})})}),l.jsx(Xe,{path:"/register",element:l.jsx(At,{children:l.jsx(g$,{})})}),l.jsx(Xe,{path:"/onboarding",element:l.jsx(K$,{})}),l.jsx(Xe,{path:"/submissions",element:l.jsx(Or,{children:l.jsx(At,{children:l.jsx(E$,{})})})}),l.jsx(Xe,{path:"/dashboard",element:l.jsx(Or,{children:l.jsx(At,{children:l.jsx(y$,{})})})}),l.jsx(Xe,{path:"/upload",element:l.jsx(Or,{children:l.jsx(At,{children:l.jsx(O$,{})})})}),l.jsx(Xe,{path:"/agent",element:l.jsx(Or,{children:l.jsx(At,{children:l.jsx($$,{})})})}),l.jsx(Xe,{path:"/workflow/:id",element:l.jsx(Or,{children:l.jsx(At,{children:l.jsx(w$,{})})})}),l.jsx(Xe,{path:"/profile",element:l.jsx(Or,{children:l.jsx(At,{children:l.jsx(b$,{})})})}),l.jsx(Xe,{path:"/email-submission",element:l.jsx(Or,{children:l.jsx(At,{children:l.jsx(_$,{})})})}),l.jsx(Xe,{path:"/schedule-call",element:l.jsx(Or,{children:l.jsx(At,{children:l.jsx(S$,{})})})}),l.jsx(Xe,{path:"*",element:l.jsx(At,{children:l.jsx(x$,{})})})]})}function Y$(){return l.jsx(BI,{children:l.jsx(nk,{children:l.jsx(J$,{})})})}Wc.createRoot(document.getElementById("root")).render(l.jsx(bd.StrictMode,{children:l.jsx(Y$,{})}));export{Xa as g};
