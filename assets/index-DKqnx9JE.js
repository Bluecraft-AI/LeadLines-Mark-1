function J_(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var gt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Za(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Y_(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Ig={exports:{}},el={},Cg={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var so=Symbol.for("react.element"),Q_=Symbol.for("react.portal"),X_=Symbol.for("react.fragment"),Z_=Symbol.for("react.strict_mode"),ex=Symbol.for("react.profiler"),tx=Symbol.for("react.provider"),rx=Symbol.for("react.context"),nx=Symbol.for("react.forward_ref"),sx=Symbol.for("react.suspense"),ix=Symbol.for("react.memo"),ox=Symbol.for("react.lazy"),gh=Symbol.iterator;function ax(t){return t===null||typeof t!="object"?null:(t=gh&&t[gh]||t["@@iterator"],typeof t=="function"?t:null)}var jg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ng=Object.assign,Pg={};function Vs(t,e,r){this.props=t,this.context=e,this.refs=Pg,this.updater=r||jg}Vs.prototype.isReactComponent={};Vs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Vs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Og(){}Og.prototype=Vs.prototype;function bd(t,e,r){this.props=t,this.context=e,this.refs=Pg,this.updater=r||jg}var Sd=bd.prototype=new Og;Sd.constructor=bd;Ng(Sd,Vs.prototype);Sd.isPureReactComponent=!0;var yh=Array.isArray,Ag=Object.prototype.hasOwnProperty,Ed={current:null},Rg={key:!0,ref:!0,__self:!0,__source:!0};function $g(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Ag.call(e,n)&&!Rg.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:so,type:t,key:i,ref:o,props:s,_owner:Ed.current}}function lx(t,e){return{$$typeof:so,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function kd(t){return typeof t=="object"&&t!==null&&t.$$typeof===so}function ux(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var vh=/\/+/g;function Xl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ux(""+t.key):e.toString(36)}function Ko(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case so:case Q_:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+Xl(o,0):n,yh(s)?(r="",t!=null&&(r=t.replace(vh,"$&/")+"/"),Ko(s,e,r,"",function(u){return u})):s!=null&&(kd(s)&&(s=lx(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(vh,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",yh(t))for(var a=0;a<t.length;a++){i=t[a];var l=n+Xl(i,a);o+=Ko(i,e,r,l,s)}else if(l=ax(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=n+Xl(i,a++),o+=Ko(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function bo(t,e,r){if(t==null)return t;var n=[],s=0;return Ko(t,n,"","",function(i){return e.call(r,i,s++)}),n}function cx(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ue={current:null},Go={transition:null},dx={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:Go,ReactCurrentOwner:Ed};function Dg(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:bo,forEach:function(t,e,r){bo(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return bo(t,function(){e++}),e},toArray:function(t){return bo(t,function(e){return e})||[]},only:function(t){if(!kd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};W.Component=Vs;W.Fragment=X_;W.Profiler=ex;W.PureComponent=bd;W.StrictMode=Z_;W.Suspense=sx;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dx;W.act=Dg;W.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Ng({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Ed.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Ag.call(e,l)&&!Rg.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:so,type:t.type,key:s,ref:i,props:n,_owner:o}};W.createContext=function(t){return t={$$typeof:rx,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:tx,_context:t},t.Consumer=t};W.createElement=$g;W.createFactory=function(t){var e=$g.bind(null,t);return e.type=t,e};W.createRef=function(){return{current:null}};W.forwardRef=function(t){return{$$typeof:nx,render:t}};W.isValidElement=kd;W.lazy=function(t){return{$$typeof:ox,_payload:{_status:-1,_result:t},_init:cx}};W.memo=function(t,e){return{$$typeof:ix,type:t,compare:e===void 0?null:e}};W.startTransition=function(t){var e=Go.transition;Go.transition={};try{t()}finally{Go.transition=e}};W.unstable_act=Dg;W.useCallback=function(t,e){return Ue.current.useCallback(t,e)};W.useContext=function(t){return Ue.current.useContext(t)};W.useDebugValue=function(){};W.useDeferredValue=function(t){return Ue.current.useDeferredValue(t)};W.useEffect=function(t,e){return Ue.current.useEffect(t,e)};W.useId=function(){return Ue.current.useId()};W.useImperativeHandle=function(t,e,r){return Ue.current.useImperativeHandle(t,e,r)};W.useInsertionEffect=function(t,e){return Ue.current.useInsertionEffect(t,e)};W.useLayoutEffect=function(t,e){return Ue.current.useLayoutEffect(t,e)};W.useMemo=function(t,e){return Ue.current.useMemo(t,e)};W.useReducer=function(t,e,r){return Ue.current.useReducer(t,e,r)};W.useRef=function(t){return Ue.current.useRef(t)};W.useState=function(t){return Ue.current.useState(t)};W.useSyncExternalStore=function(t,e,r){return Ue.current.useSyncExternalStore(t,e,r)};W.useTransition=function(){return Ue.current.useTransition()};W.version="18.3.1";Cg.exports=W;var w=Cg.exports;const Bt=Za(w),fx=J_({__proto__:null,default:Bt},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hx=w,px=Symbol.for("react.element"),mx=Symbol.for("react.fragment"),gx=Object.prototype.hasOwnProperty,yx=hx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vx={key:!0,ref:!0,__self:!0,__source:!0};function Lg(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)gx.call(e,n)&&!vx.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:px,type:t,key:i,ref:o,props:s,_owner:yx.current}}el.Fragment=mx;el.jsx=Lg;el.jsxs=Lg;Ig.exports=el;var c=Ig.exports,Ju={},Fg={exports:{}},it={},Ug={exports:{}},Mg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(C,R){var D=C.length;C.push(R);e:for(;0<D;){var V=D-1>>>1,ie=C[V];if(0<s(ie,R))C[V]=R,C[D]=ie,D=V;else break e}}function r(C){return C.length===0?null:C[0]}function n(C){if(C.length===0)return null;var R=C[0],D=C.pop();if(D!==R){C[0]=D;e:for(var V=0,ie=C.length,hn=ie>>>1;V<hn;){var _t=2*(V+1)-1,Rt=C[_t],$t=_t+1,_r=C[$t];if(0>s(Rt,D))$t<ie&&0>s(_r,Rt)?(C[V]=_r,C[$t]=D,V=$t):(C[V]=Rt,C[_t]=D,V=_t);else if($t<ie&&0>s(_r,D))C[V]=_r,C[$t]=D,V=$t;else break e}}return R}function s(C,R){var D=C.sortIndex-R.sortIndex;return D!==0?D:C.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,f=null,h=3,g=!1,y=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(C){for(var R=r(u);R!==null;){if(R.callback===null)n(u);else if(R.startTime<=C)n(u),R.sortIndex=R.expirationTime,e(l,R);else break;R=r(u)}}function E(C){if(_=!1,v(C),!y)if(r(l)!==null)y=!0,fn(T);else{var R=r(u);R!==null&&$(E,R.startTime-C)}}function T(C,R){y=!1,_&&(_=!1,p(I),I=-1),g=!0;var D=h;try{for(v(R),f=r(l);f!==null&&(!(f.expirationTime>R)||C&&!N());){var V=f.callback;if(typeof V=="function"){f.callback=null,h=f.priorityLevel;var ie=V(f.expirationTime<=R);R=t.unstable_now(),typeof ie=="function"?f.callback=ie:f===r(l)&&n(l),v(R)}else n(l);f=r(l)}if(f!==null)var hn=!0;else{var _t=r(u);_t!==null&&$(E,_t.startTime-R),hn=!1}return hn}finally{f=null,h=D,g=!1}}var k=!1,b=null,I=-1,A=5,U=-1;function N(){return!(t.unstable_now()-U<A)}function F(){if(b!==null){var C=t.unstable_now();U=C;var R=!0;try{R=b(!0,C)}finally{R?K():(k=!1,b=null)}}else k=!1}var K;if(typeof m=="function")K=function(){m(F)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,es=pe.port2;pe.port1.onmessage=F,K=function(){es.postMessage(null)}}else K=function(){x(F,0)};function fn(C){b=C,k||(k=!0,K())}function $(C,R){I=x(function(){C(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_continueExecution=function(){y||g||(y=!0,fn(T))},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(C){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var D=h;h=R;try{return C()}finally{h=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(C,R){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var D=h;h=C;try{return R()}finally{h=D}},t.unstable_scheduleCallback=function(C,R,D){var V=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?V+D:V):D=V,C){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=D+ie,C={id:d++,callback:R,priorityLevel:C,startTime:D,expirationTime:ie,sortIndex:-1},D>V?(C.sortIndex=D,e(u,C),r(l)===null&&C===r(u)&&(_?(p(I),I=-1):_=!0,$(E,D-V))):(C.sortIndex=ie,e(l,C),y||g||(y=!0,fn(T))),C},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(C){var R=h;return function(){var D=h;h=R;try{return C.apply(this,arguments)}finally{h=D}}}})(Mg);Ug.exports=Mg;var wx=Ug.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _x=w,st=wx;function j(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zg=new Set,Oi={};function Bn(t,e){Os(t,e),Os(t+"Capture",e)}function Os(t,e){for(Oi[t]=e,t=0;t<e.length;t++)zg.add(e[t])}var cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yu=Object.prototype.hasOwnProperty,xx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wh={},_h={};function bx(t){return Yu.call(_h,t)?!0:Yu.call(wh,t)?!1:xx.test(t)?_h[t]=!0:(wh[t]=!0,!1)}function Sx(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Ex(t,e,r,n){if(e===null||typeof e>"u"||Sx(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Me(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){je[t]=new Me(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];je[e]=new Me(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){je[t]=new Me(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){je[t]=new Me(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){je[t]=new Me(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){je[t]=new Me(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){je[t]=new Me(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){je[t]=new Me(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){je[t]=new Me(t,5,!1,t.toLowerCase(),null,!1,!1)});var Td=/[\-:]([a-z])/g;function Id(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Td,Id);je[e]=new Me(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Td,Id);je[e]=new Me(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Td,Id);je[e]=new Me(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){je[t]=new Me(t,1,!1,t.toLowerCase(),null,!1,!1)});je.xlinkHref=new Me("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){je[t]=new Me(t,1,!1,t.toLowerCase(),null,!0,!0)});function Cd(t,e,r,n){var s=je.hasOwnProperty(e)?je[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Ex(e,r,s,n)&&(r=null),n||s===null?bx(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var gr=_x.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,So=Symbol.for("react.element"),as=Symbol.for("react.portal"),ls=Symbol.for("react.fragment"),jd=Symbol.for("react.strict_mode"),Qu=Symbol.for("react.profiler"),Bg=Symbol.for("react.provider"),Vg=Symbol.for("react.context"),Nd=Symbol.for("react.forward_ref"),Xu=Symbol.for("react.suspense"),Zu=Symbol.for("react.suspense_list"),Pd=Symbol.for("react.memo"),Ir=Symbol.for("react.lazy"),Hg=Symbol.for("react.offscreen"),xh=Symbol.iterator;function Xs(t){return t===null||typeof t!="object"?null:(t=xh&&t[xh]||t["@@iterator"],typeof t=="function"?t:null)}var he=Object.assign,Zl;function li(t){if(Zl===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Zl=e&&e[1]||""}return`
`+Zl+t}var eu=!1;function tu(t,e){if(!t||eu)return"";eu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{eu=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?li(t):""}function kx(t){switch(t.tag){case 5:return li(t.type);case 16:return li("Lazy");case 13:return li("Suspense");case 19:return li("SuspenseList");case 0:case 2:case 15:return t=tu(t.type,!1),t;case 11:return t=tu(t.type.render,!1),t;case 1:return t=tu(t.type,!0),t;default:return""}}function ec(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ls:return"Fragment";case as:return"Portal";case Qu:return"Profiler";case jd:return"StrictMode";case Xu:return"Suspense";case Zu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Vg:return(t.displayName||"Context")+".Consumer";case Bg:return(t._context.displayName||"Context")+".Provider";case Nd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Pd:return e=t.displayName||null,e!==null?e:ec(t.type)||"Memo";case Ir:e=t._payload,t=t._init;try{return ec(t(e))}catch{}}return null}function Tx(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ec(e);case 8:return e===jd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Zr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Wg(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ix(t){var e=Wg(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Eo(t){t._valueTracker||(t._valueTracker=Ix(t))}function qg(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Wg(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function ha(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function tc(t,e){var r=e.checked;return he({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function bh(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Zr(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Kg(t,e){e=e.checked,e!=null&&Cd(t,"checked",e,!1)}function rc(t,e){Kg(t,e);var r=Zr(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?nc(t,e.type,r):e.hasOwnProperty("defaultValue")&&nc(t,e.type,Zr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Sh(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function nc(t,e,r){(e!=="number"||ha(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var ui=Array.isArray;function xs(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Zr(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function sc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return he({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Eh(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(j(92));if(ui(r)){if(1<r.length)throw Error(j(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Zr(r)}}function Gg(t,e){var r=Zr(e.value),n=Zr(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function kh(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Jg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ic(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Jg(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ko,Yg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ko=ko||document.createElement("div"),ko.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ko.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ai(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var gi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Cx=["Webkit","ms","Moz","O"];Object.keys(gi).forEach(function(t){Cx.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),gi[e]=gi[t]})});function Qg(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||gi.hasOwnProperty(t)&&gi[t]?(""+e).trim():e+"px"}function Xg(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Qg(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var jx=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oc(t,e){if(e){if(jx[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function ac(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lc=null;function Od(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var uc=null,bs=null,Ss=null;function Th(t){if(t=ao(t)){if(typeof uc!="function")throw Error(j(280));var e=t.stateNode;e&&(e=il(e),uc(t.stateNode,t.type,e))}}function Zg(t){bs?Ss?Ss.push(t):Ss=[t]:bs=t}function ey(){if(bs){var t=bs,e=Ss;if(Ss=bs=null,Th(t),e)for(t=0;t<e.length;t++)Th(e[t])}}function ty(t,e){return t(e)}function ry(){}var ru=!1;function ny(t,e,r){if(ru)return t(e,r);ru=!0;try{return ty(t,e,r)}finally{ru=!1,(bs!==null||Ss!==null)&&(ry(),ey())}}function Ri(t,e){var r=t.stateNode;if(r===null)return null;var n=il(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(j(231,e,typeof r));return r}var cc=!1;if(cr)try{var Zs={};Object.defineProperty(Zs,"passive",{get:function(){cc=!0}}),window.addEventListener("test",Zs,Zs),window.removeEventListener("test",Zs,Zs)}catch{cc=!1}function Nx(t,e,r,n,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var yi=!1,pa=null,ma=!1,dc=null,Px={onError:function(t){yi=!0,pa=t}};function Ox(t,e,r,n,s,i,o,a,l){yi=!1,pa=null,Nx.apply(Px,arguments)}function Ax(t,e,r,n,s,i,o,a,l){if(Ox.apply(this,arguments),yi){if(yi){var u=pa;yi=!1,pa=null}else throw Error(j(198));ma||(ma=!0,dc=u)}}function Vn(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function sy(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ih(t){if(Vn(t)!==t)throw Error(j(188))}function Rx(t){var e=t.alternate;if(!e){if(e=Vn(t),e===null)throw Error(j(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Ih(s),t;if(i===n)return Ih(s),e;i=i.sibling}throw Error(j(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(j(189))}}if(r.alternate!==n)throw Error(j(190))}if(r.tag!==3)throw Error(j(188));return r.stateNode.current===r?t:e}function iy(t){return t=Rx(t),t!==null?oy(t):null}function oy(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=oy(t);if(e!==null)return e;t=t.sibling}return null}var ay=st.unstable_scheduleCallback,Ch=st.unstable_cancelCallback,$x=st.unstable_shouldYield,Dx=st.unstable_requestPaint,ge=st.unstable_now,Lx=st.unstable_getCurrentPriorityLevel,Ad=st.unstable_ImmediatePriority,ly=st.unstable_UserBlockingPriority,ga=st.unstable_NormalPriority,Fx=st.unstable_LowPriority,uy=st.unstable_IdlePriority,tl=null,Vt=null;function Ux(t){if(Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(tl,t,void 0,(t.current.flags&128)===128)}catch{}}var It=Math.clz32?Math.clz32:Bx,Mx=Math.log,zx=Math.LN2;function Bx(t){return t>>>=0,t===0?32:31-(Mx(t)/zx|0)|0}var To=64,Io=4194304;function ci(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ya(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=ci(a):(i&=o,i!==0&&(n=ci(i)))}else o=r&~s,o!==0?n=ci(o):i!==0&&(n=ci(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-It(e),s=1<<r,n|=t[r],e&=~s;return n}function Vx(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hx(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-It(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=Vx(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function fc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function cy(){var t=To;return To<<=1,!(To&4194240)&&(To=64),t}function nu(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function io(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-It(e),t[e]=r}function Wx(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-It(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function Rd(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-It(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var Q=0;function dy(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var fy,$d,hy,py,my,hc=!1,Co=[],Br=null,Vr=null,Hr=null,$i=new Map,Di=new Map,Pr=[],qx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jh(t,e){switch(t){case"focusin":case"focusout":Br=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":Hr=null;break;case"pointerover":case"pointerout":$i.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Di.delete(e.pointerId)}}function ei(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ao(e),e!==null&&$d(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Kx(t,e,r,n,s){switch(e){case"focusin":return Br=ei(Br,t,e,r,n,s),!0;case"dragenter":return Vr=ei(Vr,t,e,r,n,s),!0;case"mouseover":return Hr=ei(Hr,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return $i.set(i,ei($i.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Di.set(i,ei(Di.get(i)||null,t,e,r,n,s)),!0}return!1}function gy(t){var e=bn(t.target);if(e!==null){var r=Vn(e);if(r!==null){if(e=r.tag,e===13){if(e=sy(r),e!==null){t.blockedOn=e,my(t.priority,function(){hy(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=pc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);lc=n,r.target.dispatchEvent(n),lc=null}else return e=ao(r),e!==null&&$d(e),t.blockedOn=r,!1;e.shift()}return!0}function Nh(t,e,r){Jo(t)&&r.delete(e)}function Gx(){hc=!1,Br!==null&&Jo(Br)&&(Br=null),Vr!==null&&Jo(Vr)&&(Vr=null),Hr!==null&&Jo(Hr)&&(Hr=null),$i.forEach(Nh),Di.forEach(Nh)}function ti(t,e){t.blockedOn===e&&(t.blockedOn=null,hc||(hc=!0,st.unstable_scheduleCallback(st.unstable_NormalPriority,Gx)))}function Li(t){function e(s){return ti(s,t)}if(0<Co.length){ti(Co[0],t);for(var r=1;r<Co.length;r++){var n=Co[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Br!==null&&ti(Br,t),Vr!==null&&ti(Vr,t),Hr!==null&&ti(Hr,t),$i.forEach(e),Di.forEach(e),r=0;r<Pr.length;r++)n=Pr[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Pr.length&&(r=Pr[0],r.blockedOn===null);)gy(r),r.blockedOn===null&&Pr.shift()}var Es=gr.ReactCurrentBatchConfig,va=!0;function Jx(t,e,r,n){var s=Q,i=Es.transition;Es.transition=null;try{Q=1,Dd(t,e,r,n)}finally{Q=s,Es.transition=i}}function Yx(t,e,r,n){var s=Q,i=Es.transition;Es.transition=null;try{Q=4,Dd(t,e,r,n)}finally{Q=s,Es.transition=i}}function Dd(t,e,r,n){if(va){var s=pc(t,e,r,n);if(s===null)hu(t,e,n,wa,r),jh(t,n);else if(Kx(s,t,e,r,n))n.stopPropagation();else if(jh(t,n),e&4&&-1<qx.indexOf(t)){for(;s!==null;){var i=ao(s);if(i!==null&&fy(i),i=pc(t,e,r,n),i===null&&hu(t,e,n,wa,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else hu(t,e,n,null,r)}}var wa=null;function pc(t,e,r,n){if(wa=null,t=Od(n),t=bn(t),t!==null)if(e=Vn(t),e===null)t=null;else if(r=e.tag,r===13){if(t=sy(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return wa=t,null}function yy(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lx()){case Ad:return 1;case ly:return 4;case ga:case Fx:return 16;case uy:return 536870912;default:return 16}default:return 16}}var Fr=null,Ld=null,Yo=null;function vy(){if(Yo)return Yo;var t,e=Ld,r=e.length,n,s="value"in Fr?Fr.value:Fr.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return Yo=s.slice(t,1<n?1-n:void 0)}function Qo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function jo(){return!0}function Ph(){return!1}function ot(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?jo:Ph,this.isPropagationStopped=Ph,this}return he(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=jo)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=jo)},persist:function(){},isPersistent:jo}),e}var Hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fd=ot(Hs),oo=he({},Hs,{view:0,detail:0}),Qx=ot(oo),su,iu,ri,rl=he({},oo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ud,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ri&&(ri&&t.type==="mousemove"?(su=t.screenX-ri.screenX,iu=t.screenY-ri.screenY):iu=su=0,ri=t),su)},movementY:function(t){return"movementY"in t?t.movementY:iu}}),Oh=ot(rl),Xx=he({},rl,{dataTransfer:0}),Zx=ot(Xx),eb=he({},oo,{relatedTarget:0}),ou=ot(eb),tb=he({},Hs,{animationName:0,elapsedTime:0,pseudoElement:0}),rb=ot(tb),nb=he({},Hs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sb=ot(nb),ib=he({},Hs,{data:0}),Ah=ot(ib),ob={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ab={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ub(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=lb[t])?!!e[t]:!1}function Ud(){return ub}var cb=he({},oo,{key:function(t){if(t.key){var e=ob[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ab[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ud,charCode:function(t){return t.type==="keypress"?Qo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),db=ot(cb),fb=he({},rl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rh=ot(fb),hb=he({},oo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ud}),pb=ot(hb),mb=he({},Hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),gb=ot(mb),yb=he({},rl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),vb=ot(yb),wb=[9,13,27,32],Md=cr&&"CompositionEvent"in window,vi=null;cr&&"documentMode"in document&&(vi=document.documentMode);var _b=cr&&"TextEvent"in window&&!vi,wy=cr&&(!Md||vi&&8<vi&&11>=vi),$h=" ",Dh=!1;function _y(t,e){switch(t){case"keyup":return wb.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xy(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var us=!1;function xb(t,e){switch(t){case"compositionend":return xy(e);case"keypress":return e.which!==32?null:(Dh=!0,$h);case"textInput":return t=e.data,t===$h&&Dh?null:t;default:return null}}function bb(t,e){if(us)return t==="compositionend"||!Md&&_y(t,e)?(t=vy(),Yo=Ld=Fr=null,us=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return wy&&e.locale!=="ko"?null:e.data;default:return null}}var Sb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Sb[t.type]:e==="textarea"}function by(t,e,r,n){Zg(n),e=_a(e,"onChange"),0<e.length&&(r=new Fd("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var wi=null,Fi=null;function Eb(t){Ay(t,0)}function nl(t){var e=fs(t);if(qg(e))return t}function kb(t,e){if(t==="change")return e}var Sy=!1;if(cr){var au;if(cr){var lu="oninput"in document;if(!lu){var Fh=document.createElement("div");Fh.setAttribute("oninput","return;"),lu=typeof Fh.oninput=="function"}au=lu}else au=!1;Sy=au&&(!document.documentMode||9<document.documentMode)}function Uh(){wi&&(wi.detachEvent("onpropertychange",Ey),Fi=wi=null)}function Ey(t){if(t.propertyName==="value"&&nl(Fi)){var e=[];by(e,Fi,t,Od(t)),ny(Eb,e)}}function Tb(t,e,r){t==="focusin"?(Uh(),wi=e,Fi=r,wi.attachEvent("onpropertychange",Ey)):t==="focusout"&&Uh()}function Ib(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return nl(Fi)}function Cb(t,e){if(t==="click")return nl(e)}function jb(t,e){if(t==="input"||t==="change")return nl(e)}function Nb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var jt=typeof Object.is=="function"?Object.is:Nb;function Ui(t,e){if(jt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Yu.call(e,s)||!jt(t[s],e[s]))return!1}return!0}function Mh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zh(t,e){var r=Mh(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Mh(r)}}function ky(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ky(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ty(){for(var t=window,e=ha();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=ha(t.document)}return e}function zd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Pb(t){var e=Ty(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&ky(r.ownerDocument.documentElement,r)){if(n!==null&&zd(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=zh(r,i);var o=zh(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ob=cr&&"documentMode"in document&&11>=document.documentMode,cs=null,mc=null,_i=null,gc=!1;function Bh(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;gc||cs==null||cs!==ha(n)||(n=cs,"selectionStart"in n&&zd(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),_i&&Ui(_i,n)||(_i=n,n=_a(mc,"onSelect"),0<n.length&&(e=new Fd("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=cs)))}function No(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var ds={animationend:No("Animation","AnimationEnd"),animationiteration:No("Animation","AnimationIteration"),animationstart:No("Animation","AnimationStart"),transitionend:No("Transition","TransitionEnd")},uu={},Iy={};cr&&(Iy=document.createElement("div").style,"AnimationEvent"in window||(delete ds.animationend.animation,delete ds.animationiteration.animation,delete ds.animationstart.animation),"TransitionEvent"in window||delete ds.transitionend.transition);function sl(t){if(uu[t])return uu[t];if(!ds[t])return t;var e=ds[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Iy)return uu[t]=e[r];return t}var Cy=sl("animationend"),jy=sl("animationiteration"),Ny=sl("animationstart"),Py=sl("transitionend"),Oy=new Map,Vh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rn(t,e){Oy.set(t,e),Bn(e,[t])}for(var cu=0;cu<Vh.length;cu++){var du=Vh[cu],Ab=du.toLowerCase(),Rb=du[0].toUpperCase()+du.slice(1);rn(Ab,"on"+Rb)}rn(Cy,"onAnimationEnd");rn(jy,"onAnimationIteration");rn(Ny,"onAnimationStart");rn("dblclick","onDoubleClick");rn("focusin","onFocus");rn("focusout","onBlur");rn(Py,"onTransitionEnd");Os("onMouseEnter",["mouseout","mouseover"]);Os("onMouseLeave",["mouseout","mouseover"]);Os("onPointerEnter",["pointerout","pointerover"]);Os("onPointerLeave",["pointerout","pointerover"]);Bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var di="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$b=new Set("cancel close invalid load scroll toggle".split(" ").concat(di));function Hh(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Ax(n,e,void 0,t),t.currentTarget=null}function Ay(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Hh(s,a,u),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Hh(s,a,u),i=l}}}if(ma)throw t=dc,ma=!1,dc=null,t}function oe(t,e){var r=e[xc];r===void 0&&(r=e[xc]=new Set);var n=t+"__bubble";r.has(n)||(Ry(e,t,2,!1),r.add(n))}function fu(t,e,r){var n=0;e&&(n|=4),Ry(r,t,n,e)}var Po="_reactListening"+Math.random().toString(36).slice(2);function Mi(t){if(!t[Po]){t[Po]=!0,zg.forEach(function(r){r!=="selectionchange"&&($b.has(r)||fu(r,!1,t),fu(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Po]||(e[Po]=!0,fu("selectionchange",!1,e))}}function Ry(t,e,r,n){switch(yy(e)){case 1:var s=Jx;break;case 4:s=Yx;break;default:s=Dd}r=s.bind(null,e,r,t),s=void 0,!cc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function hu(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=bn(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}ny(function(){var u=i,d=Od(r),f=[];e:{var h=Oy.get(t);if(h!==void 0){var g=Fd,y=t;switch(t){case"keypress":if(Qo(r)===0)break e;case"keydown":case"keyup":g=db;break;case"focusin":y="focus",g=ou;break;case"focusout":y="blur",g=ou;break;case"beforeblur":case"afterblur":g=ou;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Oh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Zx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=pb;break;case Cy:case jy:case Ny:g=rb;break;case Py:g=gb;break;case"scroll":g=Qx;break;case"wheel":g=vb;break;case"copy":case"cut":case"paste":g=sb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Rh}var _=(e&4)!==0,x=!_&&t==="scroll",p=_?h!==null?h+"Capture":null:h;_=[];for(var m=u,v;m!==null;){v=m;var E=v.stateNode;if(v.tag===5&&E!==null&&(v=E,p!==null&&(E=Ri(m,p),E!=null&&_.push(zi(m,E,v)))),x)break;m=m.return}0<_.length&&(h=new g(h,y,null,r,d),f.push({event:h,listeners:_}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&r!==lc&&(y=r.relatedTarget||r.fromElement)&&(bn(y)||y[dr]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(y=r.relatedTarget||r.toElement,g=u,y=y?bn(y):null,y!==null&&(x=Vn(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=u),g!==y)){if(_=Oh,E="onMouseLeave",p="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(_=Rh,E="onPointerLeave",p="onPointerEnter",m="pointer"),x=g==null?h:fs(g),v=y==null?h:fs(y),h=new _(E,m+"leave",g,r,d),h.target=x,h.relatedTarget=v,E=null,bn(d)===u&&(_=new _(p,m+"enter",y,r,d),_.target=v,_.relatedTarget=x,E=_),x=E,g&&y)t:{for(_=g,p=y,m=0,v=_;v;v=ts(v))m++;for(v=0,E=p;E;E=ts(E))v++;for(;0<m-v;)_=ts(_),m--;for(;0<v-m;)p=ts(p),v--;for(;m--;){if(_===p||p!==null&&_===p.alternate)break t;_=ts(_),p=ts(p)}_=null}else _=null;g!==null&&Wh(f,h,g,_,!1),y!==null&&x!==null&&Wh(f,x,y,_,!0)}}e:{if(h=u?fs(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var T=kb;else if(Lh(h))if(Sy)T=jb;else{T=Ib;var k=Tb}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=Cb);if(T&&(T=T(t,u))){by(f,T,r,d);break e}k&&k(t,h,u),t==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&nc(h,"number",h.value)}switch(k=u?fs(u):window,t){case"focusin":(Lh(k)||k.contentEditable==="true")&&(cs=k,mc=u,_i=null);break;case"focusout":_i=mc=cs=null;break;case"mousedown":gc=!0;break;case"contextmenu":case"mouseup":case"dragend":gc=!1,Bh(f,r,d);break;case"selectionchange":if(Ob)break;case"keydown":case"keyup":Bh(f,r,d)}var b;if(Md)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else us?_y(t,r)&&(I="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(I="onCompositionStart");I&&(wy&&r.locale!=="ko"&&(us||I!=="onCompositionStart"?I==="onCompositionEnd"&&us&&(b=vy()):(Fr=d,Ld="value"in Fr?Fr.value:Fr.textContent,us=!0)),k=_a(u,I),0<k.length&&(I=new Ah(I,t,null,r,d),f.push({event:I,listeners:k}),b?I.data=b:(b=xy(r),b!==null&&(I.data=b)))),(b=_b?xb(t,r):bb(t,r))&&(u=_a(u,"onBeforeInput"),0<u.length&&(d=new Ah("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=b))}Ay(f,e)})}function zi(t,e,r){return{instance:t,listener:e,currentTarget:r}}function _a(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ri(t,r),i!=null&&n.unshift(zi(t,i,s)),i=Ri(t,e),i!=null&&n.push(zi(t,i,s))),t=t.return}return n}function ts(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Wh(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,s?(l=Ri(r,i),l!=null&&o.unshift(zi(r,l,a))):s||(l=Ri(r,i),l!=null&&o.push(zi(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var Db=/\r\n?/g,Lb=/\u0000|\uFFFD/g;function qh(t){return(typeof t=="string"?t:""+t).replace(Db,`
`).replace(Lb,"")}function Oo(t,e,r){if(e=qh(e),qh(t)!==e&&r)throw Error(j(425))}function xa(){}var yc=null,vc=null;function wc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _c=typeof setTimeout=="function"?setTimeout:void 0,Fb=typeof clearTimeout=="function"?clearTimeout:void 0,Kh=typeof Promise=="function"?Promise:void 0,Ub=typeof queueMicrotask=="function"?queueMicrotask:typeof Kh<"u"?function(t){return Kh.resolve(null).then(t).catch(Mb)}:_c;function Mb(t){setTimeout(function(){throw t})}function pu(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Li(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Li(e)}function Wr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Gh(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ws=Math.random().toString(36).slice(2),Mt="__reactFiber$"+Ws,Bi="__reactProps$"+Ws,dr="__reactContainer$"+Ws,xc="__reactEvents$"+Ws,zb="__reactListeners$"+Ws,Bb="__reactHandles$"+Ws;function bn(t){var e=t[Mt];if(e)return e;for(var r=t.parentNode;r;){if(e=r[dr]||r[Mt]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Gh(t);t!==null;){if(r=t[Mt])return r;t=Gh(t)}return e}t=r,r=t.parentNode}return null}function ao(t){return t=t[Mt]||t[dr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function fs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function il(t){return t[Bi]||null}var bc=[],hs=-1;function nn(t){return{current:t}}function le(t){0>hs||(t.current=bc[hs],bc[hs]=null,hs--)}function se(t,e){hs++,bc[hs]=t.current,t.current=e}var en={},Ae=nn(en),Ge=nn(!1),Pn=en;function As(t,e){var r=t.type.contextTypes;if(!r)return en;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Je(t){return t=t.childContextTypes,t!=null}function ba(){le(Ge),le(Ae)}function Jh(t,e,r){if(Ae.current!==en)throw Error(j(168));se(Ae,e),se(Ge,r)}function $y(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(j(108,Tx(t)||"Unknown",s));return he({},r,n)}function Sa(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||en,Pn=Ae.current,se(Ae,t),se(Ge,Ge.current),!0}function Yh(t,e,r){var n=t.stateNode;if(!n)throw Error(j(169));r?(t=$y(t,e,Pn),n.__reactInternalMemoizedMergedChildContext=t,le(Ge),le(Ae),se(Ae,t)):le(Ge),se(Ge,r)}var er=null,ol=!1,mu=!1;function Dy(t){er===null?er=[t]:er.push(t)}function Vb(t){ol=!0,Dy(t)}function sn(){if(!mu&&er!==null){mu=!0;var t=0,e=Q;try{var r=er;for(Q=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}er=null,ol=!1}catch(s){throw er!==null&&(er=er.slice(t+1)),ay(Ad,sn),s}finally{Q=e,mu=!1}}return null}var ps=[],ms=0,Ea=null,ka=0,ut=[],ct=0,On=null,rr=1,nr="";function yn(t,e){ps[ms++]=ka,ps[ms++]=Ea,Ea=t,ka=e}function Ly(t,e,r){ut[ct++]=rr,ut[ct++]=nr,ut[ct++]=On,On=t;var n=rr;t=nr;var s=32-It(n)-1;n&=~(1<<s),r+=1;var i=32-It(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,rr=1<<32-It(e)+s|r<<s|n,nr=i+t}else rr=1<<i|r<<s|n,nr=t}function Bd(t){t.return!==null&&(yn(t,1),Ly(t,1,0))}function Vd(t){for(;t===Ea;)Ea=ps[--ms],ps[ms]=null,ka=ps[--ms],ps[ms]=null;for(;t===On;)On=ut[--ct],ut[ct]=null,nr=ut[--ct],ut[ct]=null,rr=ut[--ct],ut[ct]=null}var rt=null,tt=null,ce=!1,Tt=null;function Fy(t,e){var r=ht(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Qh(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,rt=t,tt=Wr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,rt=t,tt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=On!==null?{id:rr,overflow:nr}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ht(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,rt=t,tt=null,!0):!1;default:return!1}}function Sc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ec(t){if(ce){var e=tt;if(e){var r=e;if(!Qh(t,e)){if(Sc(t))throw Error(j(418));e=Wr(r.nextSibling);var n=rt;e&&Qh(t,e)?Fy(n,r):(t.flags=t.flags&-4097|2,ce=!1,rt=t)}}else{if(Sc(t))throw Error(j(418));t.flags=t.flags&-4097|2,ce=!1,rt=t}}}function Xh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;rt=t}function Ao(t){if(t!==rt)return!1;if(!ce)return Xh(t),ce=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!wc(t.type,t.memoizedProps)),e&&(e=tt)){if(Sc(t))throw Uy(),Error(j(418));for(;e;)Fy(t,e),e=Wr(e.nextSibling)}if(Xh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){tt=Wr(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}tt=null}}else tt=rt?Wr(t.stateNode.nextSibling):null;return!0}function Uy(){for(var t=tt;t;)t=Wr(t.nextSibling)}function Rs(){tt=rt=null,ce=!1}function Hd(t){Tt===null?Tt=[t]:Tt.push(t)}var Hb=gr.ReactCurrentBatchConfig;function ni(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(j(309));var n=r.stateNode}if(!n)throw Error(j(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(j(284));if(!r._owner)throw Error(j(290,t))}return t}function Ro(t,e){throw t=Object.prototype.toString.call(e),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Zh(t){var e=t._init;return e(t._payload)}function My(t){function e(p,m){if(t){var v=p.deletions;v===null?(p.deletions=[m],p.flags|=16):v.push(m)}}function r(p,m){if(!t)return null;for(;m!==null;)e(p,m),m=m.sibling;return null}function n(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function s(p,m){return p=Jr(p,m),p.index=0,p.sibling=null,p}function i(p,m,v){return p.index=v,t?(v=p.alternate,v!==null?(v=v.index,v<m?(p.flags|=2,m):v):(p.flags|=2,m)):(p.flags|=1048576,m)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,m,v,E){return m===null||m.tag!==6?(m=bu(v,p.mode,E),m.return=p,m):(m=s(m,v),m.return=p,m)}function l(p,m,v,E){var T=v.type;return T===ls?d(p,m,v.props.children,E,v.key):m!==null&&(m.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ir&&Zh(T)===m.type)?(E=s(m,v.props),E.ref=ni(p,m,v),E.return=p,E):(E=sa(v.type,v.key,v.props,null,p.mode,E),E.ref=ni(p,m,v),E.return=p,E)}function u(p,m,v,E){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=Su(v,p.mode,E),m.return=p,m):(m=s(m,v.children||[]),m.return=p,m)}function d(p,m,v,E,T){return m===null||m.tag!==7?(m=jn(v,p.mode,E,T),m.return=p,m):(m=s(m,v),m.return=p,m)}function f(p,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=bu(""+m,p.mode,v),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case So:return v=sa(m.type,m.key,m.props,null,p.mode,v),v.ref=ni(p,null,m),v.return=p,v;case as:return m=Su(m,p.mode,v),m.return=p,m;case Ir:var E=m._init;return f(p,E(m._payload),v)}if(ui(m)||Xs(m))return m=jn(m,p.mode,v,null),m.return=p,m;Ro(p,m)}return null}function h(p,m,v,E){var T=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return T!==null?null:a(p,m,""+v,E);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case So:return v.key===T?l(p,m,v,E):null;case as:return v.key===T?u(p,m,v,E):null;case Ir:return T=v._init,h(p,m,T(v._payload),E)}if(ui(v)||Xs(v))return T!==null?null:d(p,m,v,E,null);Ro(p,v)}return null}function g(p,m,v,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return p=p.get(v)||null,a(m,p,""+E,T);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case So:return p=p.get(E.key===null?v:E.key)||null,l(m,p,E,T);case as:return p=p.get(E.key===null?v:E.key)||null,u(m,p,E,T);case Ir:var k=E._init;return g(p,m,v,k(E._payload),T)}if(ui(E)||Xs(E))return p=p.get(v)||null,d(m,p,E,T,null);Ro(m,E)}return null}function y(p,m,v,E){for(var T=null,k=null,b=m,I=m=0,A=null;b!==null&&I<v.length;I++){b.index>I?(A=b,b=null):A=b.sibling;var U=h(p,b,v[I],E);if(U===null){b===null&&(b=A);break}t&&b&&U.alternate===null&&e(p,b),m=i(U,m,I),k===null?T=U:k.sibling=U,k=U,b=A}if(I===v.length)return r(p,b),ce&&yn(p,I),T;if(b===null){for(;I<v.length;I++)b=f(p,v[I],E),b!==null&&(m=i(b,m,I),k===null?T=b:k.sibling=b,k=b);return ce&&yn(p,I),T}for(b=n(p,b);I<v.length;I++)A=g(b,p,I,v[I],E),A!==null&&(t&&A.alternate!==null&&b.delete(A.key===null?I:A.key),m=i(A,m,I),k===null?T=A:k.sibling=A,k=A);return t&&b.forEach(function(N){return e(p,N)}),ce&&yn(p,I),T}function _(p,m,v,E){var T=Xs(v);if(typeof T!="function")throw Error(j(150));if(v=T.call(v),v==null)throw Error(j(151));for(var k=T=null,b=m,I=m=0,A=null,U=v.next();b!==null&&!U.done;I++,U=v.next()){b.index>I?(A=b,b=null):A=b.sibling;var N=h(p,b,U.value,E);if(N===null){b===null&&(b=A);break}t&&b&&N.alternate===null&&e(p,b),m=i(N,m,I),k===null?T=N:k.sibling=N,k=N,b=A}if(U.done)return r(p,b),ce&&yn(p,I),T;if(b===null){for(;!U.done;I++,U=v.next())U=f(p,U.value,E),U!==null&&(m=i(U,m,I),k===null?T=U:k.sibling=U,k=U);return ce&&yn(p,I),T}for(b=n(p,b);!U.done;I++,U=v.next())U=g(b,p,I,U.value,E),U!==null&&(t&&U.alternate!==null&&b.delete(U.key===null?I:U.key),m=i(U,m,I),k===null?T=U:k.sibling=U,k=U);return t&&b.forEach(function(F){return e(p,F)}),ce&&yn(p,I),T}function x(p,m,v,E){if(typeof v=="object"&&v!==null&&v.type===ls&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case So:e:{for(var T=v.key,k=m;k!==null;){if(k.key===T){if(T=v.type,T===ls){if(k.tag===7){r(p,k.sibling),m=s(k,v.props.children),m.return=p,p=m;break e}}else if(k.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ir&&Zh(T)===k.type){r(p,k.sibling),m=s(k,v.props),m.ref=ni(p,k,v),m.return=p,p=m;break e}r(p,k);break}else e(p,k);k=k.sibling}v.type===ls?(m=jn(v.props.children,p.mode,E,v.key),m.return=p,p=m):(E=sa(v.type,v.key,v.props,null,p.mode,E),E.ref=ni(p,m,v),E.return=p,p=E)}return o(p);case as:e:{for(k=v.key;m!==null;){if(m.key===k)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){r(p,m.sibling),m=s(m,v.children||[]),m.return=p,p=m;break e}else{r(p,m);break}else e(p,m);m=m.sibling}m=Su(v,p.mode,E),m.return=p,p=m}return o(p);case Ir:return k=v._init,x(p,m,k(v._payload),E)}if(ui(v))return y(p,m,v,E);if(Xs(v))return _(p,m,v,E);Ro(p,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(r(p,m.sibling),m=s(m,v),m.return=p,p=m):(r(p,m),m=bu(v,p.mode,E),m.return=p,p=m),o(p)):r(p,m)}return x}var $s=My(!0),zy=My(!1),Ta=nn(null),Ia=null,gs=null,Wd=null;function qd(){Wd=gs=Ia=null}function Kd(t){var e=Ta.current;le(Ta),t._currentValue=e}function kc(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function ks(t,e){Ia=t,Wd=gs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ke=!0),t.firstContext=null)}function yt(t){var e=t._currentValue;if(Wd!==t)if(t={context:t,memoizedValue:e,next:null},gs===null){if(Ia===null)throw Error(j(308));gs=t,Ia.dependencies={lanes:0,firstContext:t}}else gs=gs.next=t;return e}var Sn=null;function Gd(t){Sn===null?Sn=[t]:Sn.push(t)}function By(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Gd(e)):(r.next=s.next,s.next=r),e.interleaved=r,fr(t,n)}function fr(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Cr=!1;function Jd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vy(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ar(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function qr(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,G&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,fr(t,r)}return s=n.interleaved,s===null?(e.next=e,Gd(n)):(e.next=s.next,s.next=e),n.interleaved=e,fr(t,r)}function Xo(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Rd(t,r)}}function ep(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Ca(t,e,r,n){var s=t.updateQueue;Cr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=u=l=null,a=i;do{var h=a.lane,g=a.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,_=a;switch(h=e,g=r,_.tag){case 1:if(y=_.payload,typeof y=="function"){f=y.call(g,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=_.payload,h=typeof y=="function"?y.call(g,f,h):y,h==null)break e;f=he({},f,h);break e;case 2:Cr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=g,l=f):d=d.next=g,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Rn|=o,t.lanes=o,t.memoizedState=f}}function tp(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(j(191,s));s.call(n)}}}var lo={},Ht=nn(lo),Vi=nn(lo),Hi=nn(lo);function En(t){if(t===lo)throw Error(j(174));return t}function Yd(t,e){switch(se(Hi,e),se(Vi,t),se(Ht,lo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ic(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ic(e,t)}le(Ht),se(Ht,e)}function Ds(){le(Ht),le(Vi),le(Hi)}function Hy(t){En(Hi.current);var e=En(Ht.current),r=ic(e,t.type);e!==r&&(se(Vi,t),se(Ht,r))}function Qd(t){Vi.current===t&&(le(Ht),le(Vi))}var de=nn(0);function ja(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var gu=[];function Xd(){for(var t=0;t<gu.length;t++)gu[t]._workInProgressVersionPrimary=null;gu.length=0}var Zo=gr.ReactCurrentDispatcher,yu=gr.ReactCurrentBatchConfig,An=0,fe=null,we=null,be=null,Na=!1,xi=!1,Wi=0,Wb=0;function Ne(){throw Error(j(321))}function Zd(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!jt(t[r],e[r]))return!1;return!0}function ef(t,e,r,n,s,i){if(An=i,fe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Zo.current=t===null||t.memoizedState===null?Jb:Yb,t=r(n,s),xi){i=0;do{if(xi=!1,Wi=0,25<=i)throw Error(j(301));i+=1,be=we=null,e.updateQueue=null,Zo.current=Qb,t=r(n,s)}while(xi)}if(Zo.current=Pa,e=we!==null&&we.next!==null,An=0,be=we=fe=null,Na=!1,e)throw Error(j(300));return t}function tf(){var t=Wi!==0;return Wi=0,t}function Ft(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?fe.memoizedState=be=t:be=be.next=t,be}function vt(){if(we===null){var t=fe.alternate;t=t!==null?t.memoizedState:null}else t=we.next;var e=be===null?fe.memoizedState:be.next;if(e!==null)be=e,we=t;else{if(t===null)throw Error(j(310));we=t,t={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},be===null?fe.memoizedState=be=t:be=be.next=t}return be}function qi(t,e){return typeof e=="function"?e(t):e}function vu(t){var e=vt(),r=e.queue;if(r===null)throw Error(j(311));r.lastRenderedReducer=t;var n=we,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((An&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=n):l=l.next=f,fe.lanes|=d,Rn|=d}u=u.next}while(u!==null&&u!==i);l===null?o=n:l.next=a,jt(n,e.memoizedState)||(Ke=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,fe.lanes|=i,Rn|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function wu(t){var e=vt(),r=e.queue;if(r===null)throw Error(j(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);jt(i,e.memoizedState)||(Ke=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function Wy(){}function qy(t,e){var r=fe,n=vt(),s=e(),i=!jt(n.memoizedState,s);if(i&&(n.memoizedState=s,Ke=!0),n=n.queue,rf(Jy.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||be!==null&&be.memoizedState.tag&1){if(r.flags|=2048,Ki(9,Gy.bind(null,r,n,s,e),void 0,null),Se===null)throw Error(j(349));An&30||Ky(r,e,s)}return s}function Ky(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=fe.updateQueue,e===null?(e={lastEffect:null,stores:null},fe.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Gy(t,e,r,n){e.value=r,e.getSnapshot=n,Yy(e)&&Qy(t)}function Jy(t,e,r){return r(function(){Yy(e)&&Qy(t)})}function Yy(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!jt(t,r)}catch{return!0}}function Qy(t){var e=fr(t,1);e!==null&&Ct(e,t,1,-1)}function rp(t){var e=Ft();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:t},e.queue=t,t=t.dispatch=Gb.bind(null,fe,t),[e.memoizedState,t]}function Ki(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=fe.updateQueue,e===null?(e={lastEffect:null,stores:null},fe.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Xy(){return vt().memoizedState}function ea(t,e,r,n){var s=Ft();fe.flags|=t,s.memoizedState=Ki(1|e,r,void 0,n===void 0?null:n)}function al(t,e,r,n){var s=vt();n=n===void 0?null:n;var i=void 0;if(we!==null){var o=we.memoizedState;if(i=o.destroy,n!==null&&Zd(n,o.deps)){s.memoizedState=Ki(e,r,i,n);return}}fe.flags|=t,s.memoizedState=Ki(1|e,r,i,n)}function np(t,e){return ea(8390656,8,t,e)}function rf(t,e){return al(2048,8,t,e)}function Zy(t,e){return al(4,2,t,e)}function ev(t,e){return al(4,4,t,e)}function tv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function rv(t,e,r){return r=r!=null?r.concat([t]):null,al(4,4,tv.bind(null,e,t),r)}function nf(){}function nv(t,e){var r=vt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Zd(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function sv(t,e){var r=vt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Zd(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function iv(t,e,r){return An&21?(jt(r,e)||(r=cy(),fe.lanes|=r,Rn|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ke=!0),t.memoizedState=r)}function qb(t,e){var r=Q;Q=r!==0&&4>r?r:4,t(!0);var n=yu.transition;yu.transition={};try{t(!1),e()}finally{Q=r,yu.transition=n}}function ov(){return vt().memoizedState}function Kb(t,e,r){var n=Gr(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},av(t))lv(e,r);else if(r=By(t,e,r,n),r!==null){var s=Le();Ct(r,t,n,s),uv(r,e,n)}}function Gb(t,e,r){var n=Gr(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(av(t))lv(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,jt(a,o)){var l=e.interleaved;l===null?(s.next=s,Gd(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=By(t,e,s,n),r!==null&&(s=Le(),Ct(r,t,n,s),uv(r,e,n))}}function av(t){var e=t.alternate;return t===fe||e!==null&&e===fe}function lv(t,e){xi=Na=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function uv(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Rd(t,r)}}var Pa={readContext:yt,useCallback:Ne,useContext:Ne,useEffect:Ne,useImperativeHandle:Ne,useInsertionEffect:Ne,useLayoutEffect:Ne,useMemo:Ne,useReducer:Ne,useRef:Ne,useState:Ne,useDebugValue:Ne,useDeferredValue:Ne,useTransition:Ne,useMutableSource:Ne,useSyncExternalStore:Ne,useId:Ne,unstable_isNewReconciler:!1},Jb={readContext:yt,useCallback:function(t,e){return Ft().memoizedState=[t,e===void 0?null:e],t},useContext:yt,useEffect:np,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,ea(4194308,4,tv.bind(null,e,t),r)},useLayoutEffect:function(t,e){return ea(4194308,4,t,e)},useInsertionEffect:function(t,e){return ea(4,2,t,e)},useMemo:function(t,e){var r=Ft();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Ft();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Kb.bind(null,fe,t),[n.memoizedState,t]},useRef:function(t){var e=Ft();return t={current:t},e.memoizedState=t},useState:rp,useDebugValue:nf,useDeferredValue:function(t){return Ft().memoizedState=t},useTransition:function(){var t=rp(!1),e=t[0];return t=qb.bind(null,t[1]),Ft().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=fe,s=Ft();if(ce){if(r===void 0)throw Error(j(407));r=r()}else{if(r=e(),Se===null)throw Error(j(349));An&30||Ky(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,np(Jy.bind(null,n,i,t),[t]),n.flags|=2048,Ki(9,Gy.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=Ft(),e=Se.identifierPrefix;if(ce){var r=nr,n=rr;r=(n&~(1<<32-It(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Wi++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Wb++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Yb={readContext:yt,useCallback:nv,useContext:yt,useEffect:rf,useImperativeHandle:rv,useInsertionEffect:Zy,useLayoutEffect:ev,useMemo:sv,useReducer:vu,useRef:Xy,useState:function(){return vu(qi)},useDebugValue:nf,useDeferredValue:function(t){var e=vt();return iv(e,we.memoizedState,t)},useTransition:function(){var t=vu(qi)[0],e=vt().memoizedState;return[t,e]},useMutableSource:Wy,useSyncExternalStore:qy,useId:ov,unstable_isNewReconciler:!1},Qb={readContext:yt,useCallback:nv,useContext:yt,useEffect:rf,useImperativeHandle:rv,useInsertionEffect:Zy,useLayoutEffect:ev,useMemo:sv,useReducer:wu,useRef:Xy,useState:function(){return wu(qi)},useDebugValue:nf,useDeferredValue:function(t){var e=vt();return we===null?e.memoizedState=t:iv(e,we.memoizedState,t)},useTransition:function(){var t=wu(qi)[0],e=vt().memoizedState;return[t,e]},useMutableSource:Wy,useSyncExternalStore:qy,useId:ov,unstable_isNewReconciler:!1};function St(t,e){if(t&&t.defaultProps){e=he({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Tc(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:he({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ll={isMounted:function(t){return(t=t._reactInternals)?Vn(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Le(),s=Gr(t),i=ar(n,s);i.payload=e,r!=null&&(i.callback=r),e=qr(t,i,s),e!==null&&(Ct(e,t,s,n),Xo(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Le(),s=Gr(t),i=ar(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=qr(t,i,s),e!==null&&(Ct(e,t,s,n),Xo(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Le(),n=Gr(t),s=ar(r,n);s.tag=2,e!=null&&(s.callback=e),e=qr(t,s,n),e!==null&&(Ct(e,t,n,r),Xo(e,t,n))}};function sp(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ui(r,n)||!Ui(s,i):!0}function cv(t,e,r){var n=!1,s=en,i=e.contextType;return typeof i=="object"&&i!==null?i=yt(i):(s=Je(e)?Pn:Ae.current,n=e.contextTypes,i=(n=n!=null)?As(t,s):en),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ll,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function ip(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&ll.enqueueReplaceState(e,e.state,null)}function Ic(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Jd(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=yt(i):(i=Je(e)?Pn:Ae.current,s.context=As(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Tc(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ll.enqueueReplaceState(s,s.state,null),Ca(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ls(t,e){try{var r="",n=e;do r+=kx(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function _u(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Cc(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Xb=typeof WeakMap=="function"?WeakMap:Map;function dv(t,e,r){r=ar(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Aa||(Aa=!0,Fc=n),Cc(t,e)},r}function fv(t,e,r){r=ar(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Cc(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Cc(t,e),typeof n!="function"&&(Kr===null?Kr=new Set([this]):Kr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function op(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Xb;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=fS.bind(null,t,e,r),e.then(t,t))}function ap(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function lp(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ar(-1,1),e.tag=2,qr(r,e,1))),r.lanes|=1),t)}var Zb=gr.ReactCurrentOwner,Ke=!1;function De(t,e,r,n){e.child=t===null?zy(e,null,r,n):$s(e,t.child,r,n)}function up(t,e,r,n,s){r=r.render;var i=e.ref;return ks(e,s),n=ef(t,e,r,n,i,s),r=tf(),t!==null&&!Ke?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,hr(t,e,s)):(ce&&r&&Bd(e),e.flags|=1,De(t,e,n,s),e.child)}function cp(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!ff(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,hv(t,e,i,n,s)):(t=sa(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Ui,r(o,n)&&t.ref===e.ref)return hr(t,e,s)}return e.flags|=1,t=Jr(i,n),t.ref=e.ref,t.return=e,e.child=t}function hv(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(Ui(i,n)&&t.ref===e.ref)if(Ke=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Ke=!0);else return e.lanes=t.lanes,hr(t,e,s)}return jc(t,e,r,n,s)}function pv(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},se(vs,et),et|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,se(vs,et),et|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,se(vs,et),et|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,se(vs,et),et|=n;return De(t,e,s,r),e.child}function mv(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function jc(t,e,r,n,s){var i=Je(r)?Pn:Ae.current;return i=As(e,i),ks(e,s),r=ef(t,e,r,n,i,s),n=tf(),t!==null&&!Ke?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,hr(t,e,s)):(ce&&n&&Bd(e),e.flags|=1,De(t,e,r,s),e.child)}function dp(t,e,r,n,s){if(Je(r)){var i=!0;Sa(e)}else i=!1;if(ks(e,s),e.stateNode===null)ta(t,e),cv(e,r,n),Ic(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=yt(u):(u=Je(r)?Pn:Ae.current,u=As(e,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&ip(e,o,n,u),Cr=!1;var h=e.memoizedState;o.state=h,Ca(e,n,o,s),l=e.memoizedState,a!==n||h!==l||Ge.current||Cr?(typeof d=="function"&&(Tc(e,r,d,n),l=e.memoizedState),(a=Cr||sp(e,r,a,n,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,Vy(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:St(e.type,a),o.props=u,f=e.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=yt(l):(l=Je(r)?Pn:Ae.current,l=As(e,l));var g=r.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&ip(e,o,n,l),Cr=!1,h=e.memoizedState,o.state=h,Ca(e,n,o,s);var y=e.memoizedState;a!==f||h!==y||Ge.current||Cr?(typeof g=="function"&&(Tc(e,r,g,n),y=e.memoizedState),(u=Cr||sp(e,r,u,n,h,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=y),o.props=n,o.state=y,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return Nc(t,e,r,n,i,s)}function Nc(t,e,r,n,s,i){mv(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&Yh(e,r,!1),hr(t,e,i);n=e.stateNode,Zb.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=$s(e,t.child,null,i),e.child=$s(e,null,a,i)):De(t,e,a,i),e.memoizedState=n.state,s&&Yh(e,r,!0),e.child}function gv(t){var e=t.stateNode;e.pendingContext?Jh(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Jh(t,e.context,!1),Yd(t,e.containerInfo)}function fp(t,e,r,n,s){return Rs(),Hd(s),e.flags|=256,De(t,e,r,n),e.child}var Pc={dehydrated:null,treeContext:null,retryLane:0};function Oc(t){return{baseLanes:t,cachePool:null,transitions:null}}function yv(t,e,r){var n=e.pendingProps,s=de.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),se(de,s&1),t===null)return Ec(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=dl(o,n,0,null),t=jn(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Oc(r),e.memoizedState=Pc,t):sf(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return eS(t,e,o,n,a,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Jr(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Jr(a,i):(i=jn(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?Oc(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=Pc,n}return i=t.child,t=i.sibling,n=Jr(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function sf(t,e){return e=dl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function $o(t,e,r,n){return n!==null&&Hd(n),$s(e,t.child,null,r),t=sf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function eS(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=_u(Error(j(422))),$o(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=dl({mode:"visible",children:n.children},s,0,null),i=jn(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&$s(e,t.child,null,o),e.child.memoizedState=Oc(o),e.memoizedState=Pc,i);if(!(e.mode&1))return $o(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(j(419)),n=_u(i,n,void 0),$o(t,e,o,n)}if(a=(o&t.childLanes)!==0,Ke||a){if(n=Se,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,fr(t,s),Ct(n,t,s,-1))}return df(),n=_u(Error(j(421))),$o(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=hS.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,tt=Wr(s.nextSibling),rt=e,ce=!0,Tt=null,t!==null&&(ut[ct++]=rr,ut[ct++]=nr,ut[ct++]=On,rr=t.id,nr=t.overflow,On=e),e=sf(e,n.children),e.flags|=4096,e)}function hp(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),kc(t.return,e,r)}function xu(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function vv(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(De(t,e,n.children,r),n=de.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hp(t,r,e);else if(t.tag===19)hp(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(se(de,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&ja(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),xu(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ja(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}xu(e,!0,r,null,i);break;case"together":xu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ta(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function hr(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Rn|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,r=Jr(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Jr(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function tS(t,e,r){switch(e.tag){case 3:gv(e),Rs();break;case 5:Hy(e);break;case 1:Je(e.type)&&Sa(e);break;case 4:Yd(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;se(Ta,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(se(de,de.current&1),e.flags|=128,null):r&e.child.childLanes?yv(t,e,r):(se(de,de.current&1),t=hr(t,e,r),t!==null?t.sibling:null);se(de,de.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return vv(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),se(de,de.current),n)break;return null;case 22:case 23:return e.lanes=0,pv(t,e,r)}return hr(t,e,r)}var wv,Ac,_v,xv;wv=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ac=function(){};_v=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,En(Ht.current);var i=null;switch(r){case"input":s=tc(t,s),n=tc(t,n),i=[];break;case"select":s=he({},s,{value:void 0}),n=he({},n,{value:void 0}),i=[];break;case"textarea":s=sc(t,s),n=sc(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=xa)}oc(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Oi.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Oi.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&oe("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};xv=function(t,e,r,n){r!==n&&(e.flags|=4)};function si(t,e){if(!ce)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Pe(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function rS(t,e,r){var n=e.pendingProps;switch(Vd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(e),null;case 1:return Je(e.type)&&ba(),Pe(e),null;case 3:return n=e.stateNode,Ds(),le(Ge),le(Ae),Xd(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ao(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Tt!==null&&(zc(Tt),Tt=null))),Ac(t,e),Pe(e),null;case 5:Qd(e);var s=En(Hi.current);if(r=e.type,t!==null&&e.stateNode!=null)_v(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(j(166));return Pe(e),null}if(t=En(Ht.current),Ao(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[Mt]=e,n[Bi]=i,t=(e.mode&1)!==0,r){case"dialog":oe("cancel",n),oe("close",n);break;case"iframe":case"object":case"embed":oe("load",n);break;case"video":case"audio":for(s=0;s<di.length;s++)oe(di[s],n);break;case"source":oe("error",n);break;case"img":case"image":case"link":oe("error",n),oe("load",n);break;case"details":oe("toggle",n);break;case"input":bh(n,i),oe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},oe("invalid",n);break;case"textarea":Eh(n,i),oe("invalid",n)}oc(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&Oo(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Oo(n.textContent,a,t),s=["children",""+a]):Oi.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&oe("scroll",n)}switch(r){case"input":Eo(n),Sh(n,i,!0);break;case"textarea":Eo(n),kh(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=xa)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Jg(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Mt]=e,t[Bi]=n,wv(t,e,!1,!1),e.stateNode=t;e:{switch(o=ac(r,n),r){case"dialog":oe("cancel",t),oe("close",t),s=n;break;case"iframe":case"object":case"embed":oe("load",t),s=n;break;case"video":case"audio":for(s=0;s<di.length;s++)oe(di[s],t);s=n;break;case"source":oe("error",t),s=n;break;case"img":case"image":case"link":oe("error",t),oe("load",t),s=n;break;case"details":oe("toggle",t),s=n;break;case"input":bh(t,n),s=tc(t,n),oe("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=he({},n,{value:void 0}),oe("invalid",t);break;case"textarea":Eh(t,n),s=sc(t,n),oe("invalid",t);break;default:s=n}oc(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Xg(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Yg(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Ai(t,l):typeof l=="number"&&Ai(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Oi.hasOwnProperty(i)?l!=null&&i==="onScroll"&&oe("scroll",t):l!=null&&Cd(t,i,l,o))}switch(r){case"input":Eo(t),Sh(t,n,!1);break;case"textarea":Eo(t),kh(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Zr(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?xs(t,!!n.multiple,i,!1):n.defaultValue!=null&&xs(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=xa)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pe(e),null;case 6:if(t&&e.stateNode!=null)xv(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(j(166));if(r=En(Hi.current),En(Ht.current),Ao(e)){if(n=e.stateNode,r=e.memoizedProps,n[Mt]=e,(i=n.nodeValue!==r)&&(t=rt,t!==null))switch(t.tag){case 3:Oo(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Oo(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Mt]=e,e.stateNode=n}return Pe(e),null;case 13:if(le(de),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ce&&tt!==null&&e.mode&1&&!(e.flags&128))Uy(),Rs(),e.flags|=98560,i=!1;else if(i=Ao(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(j(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(j(317));i[Mt]=e}else Rs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pe(e),i=!1}else Tt!==null&&(zc(Tt),Tt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||de.current&1?_e===0&&(_e=3):df())),e.updateQueue!==null&&(e.flags|=4),Pe(e),null);case 4:return Ds(),Ac(t,e),t===null&&Mi(e.stateNode.containerInfo),Pe(e),null;case 10:return Kd(e.type._context),Pe(e),null;case 17:return Je(e.type)&&ba(),Pe(e),null;case 19:if(le(de),i=e.memoizedState,i===null)return Pe(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)si(i,!1);else{if(_e!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ja(t),o!==null){for(e.flags|=128,si(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return se(de,de.current&1|2),e.child}t=t.sibling}i.tail!==null&&ge()>Fs&&(e.flags|=128,n=!0,si(i,!1),e.lanes=4194304)}else{if(!n)if(t=ja(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),si(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ce)return Pe(e),null}else 2*ge()-i.renderingStartTime>Fs&&r!==1073741824&&(e.flags|=128,n=!0,si(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ge(),e.sibling=null,r=de.current,se(de,n?r&1|2:r&1),e):(Pe(e),null);case 22:case 23:return cf(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?et&1073741824&&(Pe(e),e.subtreeFlags&6&&(e.flags|=8192)):Pe(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function nS(t,e){switch(Vd(e),e.tag){case 1:return Je(e.type)&&ba(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ds(),le(Ge),le(Ae),Xd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Qd(e),null;case 13:if(le(de),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(j(340));Rs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return le(de),null;case 4:return Ds(),null;case 10:return Kd(e.type._context),null;case 22:case 23:return cf(),null;case 24:return null;default:return null}}var Do=!1,Oe=!1,sS=typeof WeakSet=="function"?WeakSet:Set,O=null;function ys(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){me(t,e,n)}else r.current=null}function Rc(t,e,r){try{r()}catch(n){me(t,e,n)}}var pp=!1;function iS(t,e){if(yc=va,t=Ty(),zd(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var g;f!==r||s!==0&&f.nodeType!==3||(a=o+s),f!==i||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===t)break t;if(h===r&&++u===s&&(a=o),h===i&&++d===n&&(l=o),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(vc={focusedElem:t,selectionRange:r},va=!1,O=e;O!==null;)if(e=O,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,O=t;else for(;O!==null;){e=O;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var _=y.memoizedProps,x=y.memoizedState,p=e.stateNode,m=p.getSnapshotBeforeUpdate(e.elementType===e.type?_:St(e.type,_),x);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(E){me(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,O=t;break}O=e.return}return y=pp,pp=!1,y}function bi(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Rc(e,r,i)}s=s.next}while(s!==n)}}function ul(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function $c(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function bv(t){var e=t.alternate;e!==null&&(t.alternate=null,bv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Mt],delete e[Bi],delete e[xc],delete e[zb],delete e[Bb])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Sv(t){return t.tag===5||t.tag===3||t.tag===4}function mp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Sv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Dc(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=xa));else if(n!==4&&(t=t.child,t!==null))for(Dc(t,e,r),t=t.sibling;t!==null;)Dc(t,e,r),t=t.sibling}function Lc(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Lc(t,e,r),t=t.sibling;t!==null;)Lc(t,e,r),t=t.sibling}var Te=null,Et=!1;function xr(t,e,r){for(r=r.child;r!==null;)Ev(t,e,r),r=r.sibling}function Ev(t,e,r){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(tl,r)}catch{}switch(r.tag){case 5:Oe||ys(r,e);case 6:var n=Te,s=Et;Te=null,xr(t,e,r),Te=n,Et=s,Te!==null&&(Et?(t=Te,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Te.removeChild(r.stateNode));break;case 18:Te!==null&&(Et?(t=Te,r=r.stateNode,t.nodeType===8?pu(t.parentNode,r):t.nodeType===1&&pu(t,r),Li(t)):pu(Te,r.stateNode));break;case 4:n=Te,s=Et,Te=r.stateNode.containerInfo,Et=!0,xr(t,e,r),Te=n,Et=s;break;case 0:case 11:case 14:case 15:if(!Oe&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Rc(r,e,o),s=s.next}while(s!==n)}xr(t,e,r);break;case 1:if(!Oe&&(ys(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){me(r,e,a)}xr(t,e,r);break;case 21:xr(t,e,r);break;case 22:r.mode&1?(Oe=(n=Oe)||r.memoizedState!==null,xr(t,e,r),Oe=n):xr(t,e,r);break;default:xr(t,e,r)}}function gp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new sS),e.forEach(function(n){var s=pS.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function xt(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Te=a.stateNode,Et=!1;break e;case 3:Te=a.stateNode.containerInfo,Et=!0;break e;case 4:Te=a.stateNode.containerInfo,Et=!0;break e}a=a.return}if(Te===null)throw Error(j(160));Ev(i,o,s),Te=null,Et=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){me(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)kv(e,t),e=e.sibling}function kv(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xt(e,t),Dt(t),n&4){try{bi(3,t,t.return),ul(3,t)}catch(_){me(t,t.return,_)}try{bi(5,t,t.return)}catch(_){me(t,t.return,_)}}break;case 1:xt(e,t),Dt(t),n&512&&r!==null&&ys(r,r.return);break;case 5:if(xt(e,t),Dt(t),n&512&&r!==null&&ys(r,r.return),t.flags&32){var s=t.stateNode;try{Ai(s,"")}catch(_){me(t,t.return,_)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Kg(s,i),ac(a,o);var u=ac(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?Xg(s,f):d==="dangerouslySetInnerHTML"?Yg(s,f):d==="children"?Ai(s,f):Cd(s,d,f,u)}switch(a){case"input":rc(s,i);break;case"textarea":Gg(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?xs(s,!!i.multiple,g,!1):h!==!!i.multiple&&(i.defaultValue!=null?xs(s,!!i.multiple,i.defaultValue,!0):xs(s,!!i.multiple,i.multiple?[]:"",!1))}s[Bi]=i}catch(_){me(t,t.return,_)}}break;case 6:if(xt(e,t),Dt(t),n&4){if(t.stateNode===null)throw Error(j(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){me(t,t.return,_)}}break;case 3:if(xt(e,t),Dt(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Li(e.containerInfo)}catch(_){me(t,t.return,_)}break;case 4:xt(e,t),Dt(t);break;case 13:xt(e,t),Dt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(lf=ge())),n&4&&gp(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Oe=(u=Oe)||d,xt(e,t),Oe=u):xt(e,t),Dt(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(O=t,d=t.child;d!==null;){for(f=O=d;O!==null;){switch(h=O,g=h.child,h.tag){case 0:case 11:case 14:case 15:bi(4,h,h.return);break;case 1:ys(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(_){me(n,r,_)}}break;case 5:ys(h,h.return);break;case 22:if(h.memoizedState!==null){vp(f);continue}}g!==null?(g.return=h,O=g):vp(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Qg("display",o))}catch(_){me(t,t.return,_)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(_){me(t,t.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:xt(e,t),Dt(t),n&4&&gp(t);break;case 21:break;default:xt(e,t),Dt(t)}}function Dt(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Sv(r)){var n=r;break e}r=r.return}throw Error(j(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Ai(s,""),n.flags&=-33);var i=mp(t);Lc(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=mp(t);Dc(t,a,o);break;default:throw Error(j(161))}}catch(l){me(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function oS(t,e,r){O=t,Tv(t)}function Tv(t,e,r){for(var n=(t.mode&1)!==0;O!==null;){var s=O,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Do;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Oe;a=Do;var u=Oe;if(Do=o,(Oe=l)&&!u)for(O=s;O!==null;)o=O,l=o.child,o.tag===22&&o.memoizedState!==null?wp(s):l!==null?(l.return=o,O=l):wp(s);for(;i!==null;)O=i,Tv(i),i=i.sibling;O=s,Do=a,Oe=u}yp(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,O=i):yp(t)}}function yp(t){for(;O!==null;){var e=O;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Oe||ul(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Oe)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:St(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&tp(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}tp(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Li(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}Oe||e.flags&512&&$c(e)}catch(h){me(e,e.return,h)}}if(e===t){O=null;break}if(r=e.sibling,r!==null){r.return=e.return,O=r;break}O=e.return}}function vp(t){for(;O!==null;){var e=O;if(e===t){O=null;break}var r=e.sibling;if(r!==null){r.return=e.return,O=r;break}O=e.return}}function wp(t){for(;O!==null;){var e=O;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{ul(4,e)}catch(l){me(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){me(e,s,l)}}var i=e.return;try{$c(e)}catch(l){me(e,i,l)}break;case 5:var o=e.return;try{$c(e)}catch(l){me(e,o,l)}}}catch(l){me(e,e.return,l)}if(e===t){O=null;break}var a=e.sibling;if(a!==null){a.return=e.return,O=a;break}O=e.return}}var aS=Math.ceil,Oa=gr.ReactCurrentDispatcher,of=gr.ReactCurrentOwner,pt=gr.ReactCurrentBatchConfig,G=0,Se=null,ve=null,Ce=0,et=0,vs=nn(0),_e=0,Gi=null,Rn=0,cl=0,af=0,Si=null,He=null,lf=0,Fs=1/0,Xt=null,Aa=!1,Fc=null,Kr=null,Lo=!1,Ur=null,Ra=0,Ei=0,Uc=null,ra=-1,na=0;function Le(){return G&6?ge():ra!==-1?ra:ra=ge()}function Gr(t){return t.mode&1?G&2&&Ce!==0?Ce&-Ce:Hb.transition!==null?(na===0&&(na=cy()),na):(t=Q,t!==0||(t=window.event,t=t===void 0?16:yy(t.type)),t):1}function Ct(t,e,r,n){if(50<Ei)throw Ei=0,Uc=null,Error(j(185));io(t,r,n),(!(G&2)||t!==Se)&&(t===Se&&(!(G&2)&&(cl|=r),_e===4&&Or(t,Ce)),Ye(t,n),r===1&&G===0&&!(e.mode&1)&&(Fs=ge()+500,ol&&sn()))}function Ye(t,e){var r=t.callbackNode;Hx(t,e);var n=ya(t,t===Se?Ce:0);if(n===0)r!==null&&Ch(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Ch(r),e===1)t.tag===0?Vb(_p.bind(null,t)):Dy(_p.bind(null,t)),Ub(function(){!(G&6)&&sn()}),r=null;else{switch(dy(n)){case 1:r=Ad;break;case 4:r=ly;break;case 16:r=ga;break;case 536870912:r=uy;break;default:r=ga}r=Rv(r,Iv.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Iv(t,e){if(ra=-1,na=0,G&6)throw Error(j(327));var r=t.callbackNode;if(Ts()&&t.callbackNode!==r)return null;var n=ya(t,t===Se?Ce:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=$a(t,n);else{e=n;var s=G;G|=2;var i=jv();(Se!==t||Ce!==e)&&(Xt=null,Fs=ge()+500,Cn(t,e));do try{cS();break}catch(a){Cv(t,a)}while(!0);qd(),Oa.current=i,G=s,ve!==null?e=0:(Se=null,Ce=0,e=_e)}if(e!==0){if(e===2&&(s=fc(t),s!==0&&(n=s,e=Mc(t,s))),e===1)throw r=Gi,Cn(t,0),Or(t,n),Ye(t,ge()),r;if(e===6)Or(t,n);else{if(s=t.current.alternate,!(n&30)&&!lS(s)&&(e=$a(t,n),e===2&&(i=fc(t),i!==0&&(n=i,e=Mc(t,i))),e===1))throw r=Gi,Cn(t,0),Or(t,n),Ye(t,ge()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(j(345));case 2:vn(t,He,Xt);break;case 3:if(Or(t,n),(n&130023424)===n&&(e=lf+500-ge(),10<e)){if(ya(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Le(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=_c(vn.bind(null,t,He,Xt),e);break}vn(t,He,Xt);break;case 4:if(Or(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-It(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=ge()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*aS(n/1960))-n,10<n){t.timeoutHandle=_c(vn.bind(null,t,He,Xt),n);break}vn(t,He,Xt);break;case 5:vn(t,He,Xt);break;default:throw Error(j(329))}}}return Ye(t,ge()),t.callbackNode===r?Iv.bind(null,t):null}function Mc(t,e){var r=Si;return t.current.memoizedState.isDehydrated&&(Cn(t,e).flags|=256),t=$a(t,e),t!==2&&(e=He,He=r,e!==null&&zc(e)),t}function zc(t){He===null?He=t:He.push.apply(He,t)}function lS(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!jt(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Or(t,e){for(e&=~af,e&=~cl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-It(e),n=1<<r;t[r]=-1,e&=~n}}function _p(t){if(G&6)throw Error(j(327));Ts();var e=ya(t,0);if(!(e&1))return Ye(t,ge()),null;var r=$a(t,e);if(t.tag!==0&&r===2){var n=fc(t);n!==0&&(e=n,r=Mc(t,n))}if(r===1)throw r=Gi,Cn(t,0),Or(t,e),Ye(t,ge()),r;if(r===6)throw Error(j(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,vn(t,He,Xt),Ye(t,ge()),null}function uf(t,e){var r=G;G|=1;try{return t(e)}finally{G=r,G===0&&(Fs=ge()+500,ol&&sn())}}function $n(t){Ur!==null&&Ur.tag===0&&!(G&6)&&Ts();var e=G;G|=1;var r=pt.transition,n=Q;try{if(pt.transition=null,Q=1,t)return t()}finally{Q=n,pt.transition=r,G=e,!(G&6)&&sn()}}function cf(){et=vs.current,le(vs)}function Cn(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Fb(r)),ve!==null)for(r=ve.return;r!==null;){var n=r;switch(Vd(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ba();break;case 3:Ds(),le(Ge),le(Ae),Xd();break;case 5:Qd(n);break;case 4:Ds();break;case 13:le(de);break;case 19:le(de);break;case 10:Kd(n.type._context);break;case 22:case 23:cf()}r=r.return}if(Se=t,ve=t=Jr(t.current,null),Ce=et=e,_e=0,Gi=null,af=cl=Rn=0,He=Si=null,Sn!==null){for(e=0;e<Sn.length;e++)if(r=Sn[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Sn=null}return t}function Cv(t,e){do{var r=ve;try{if(qd(),Zo.current=Pa,Na){for(var n=fe.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Na=!1}if(An=0,be=we=fe=null,xi=!1,Wi=0,of.current=null,r===null||r.return===null){_e=1,Gi=e,ve=null;break}e:{var i=t,o=r.return,a=r,l=e;if(e=Ce,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=ap(o);if(g!==null){g.flags&=-257,lp(g,o,a,i,e),g.mode&1&&op(i,u,e),e=g,l=u;var y=e.updateQueue;if(y===null){var _=new Set;_.add(l),e.updateQueue=_}else y.add(l);break e}else{if(!(e&1)){op(i,u,e),df();break e}l=Error(j(426))}}else if(ce&&a.mode&1){var x=ap(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),lp(x,o,a,i,e),Hd(Ls(l,a));break e}}i=l=Ls(l,a),_e!==4&&(_e=2),Si===null?Si=[i]:Si.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var p=dv(i,l,e);ep(i,p);break e;case 1:a=l;var m=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Kr===null||!Kr.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var E=fv(i,a,e);ep(i,E);break e}}i=i.return}while(i!==null)}Pv(r)}catch(T){e=T,ve===r&&r!==null&&(ve=r=r.return);continue}break}while(!0)}function jv(){var t=Oa.current;return Oa.current=Pa,t===null?Pa:t}function df(){(_e===0||_e===3||_e===2)&&(_e=4),Se===null||!(Rn&268435455)&&!(cl&268435455)||Or(Se,Ce)}function $a(t,e){var r=G;G|=2;var n=jv();(Se!==t||Ce!==e)&&(Xt=null,Cn(t,e));do try{uS();break}catch(s){Cv(t,s)}while(!0);if(qd(),G=r,Oa.current=n,ve!==null)throw Error(j(261));return Se=null,Ce=0,_e}function uS(){for(;ve!==null;)Nv(ve)}function cS(){for(;ve!==null&&!$x();)Nv(ve)}function Nv(t){var e=Av(t.alternate,t,et);t.memoizedProps=t.pendingProps,e===null?Pv(t):ve=e,of.current=null}function Pv(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=nS(r,e),r!==null){r.flags&=32767,ve=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_e=6,ve=null;return}}else if(r=rS(r,e,et),r!==null){ve=r;return}if(e=e.sibling,e!==null){ve=e;return}ve=e=t}while(e!==null);_e===0&&(_e=5)}function vn(t,e,r){var n=Q,s=pt.transition;try{pt.transition=null,Q=1,dS(t,e,r,n)}finally{pt.transition=s,Q=n}return null}function dS(t,e,r,n){do Ts();while(Ur!==null);if(G&6)throw Error(j(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(j(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(Wx(t,i),t===Se&&(ve=Se=null,Ce=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Lo||(Lo=!0,Rv(ga,function(){return Ts(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=pt.transition,pt.transition=null;var o=Q;Q=1;var a=G;G|=4,of.current=null,iS(t,r),kv(r,t),Pb(vc),va=!!yc,vc=yc=null,t.current=r,oS(r),Dx(),G=a,Q=o,pt.transition=i}else t.current=r;if(Lo&&(Lo=!1,Ur=t,Ra=s),i=t.pendingLanes,i===0&&(Kr=null),Ux(r.stateNode),Ye(t,ge()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Aa)throw Aa=!1,t=Fc,Fc=null,t;return Ra&1&&t.tag!==0&&Ts(),i=t.pendingLanes,i&1?t===Uc?Ei++:(Ei=0,Uc=t):Ei=0,sn(),null}function Ts(){if(Ur!==null){var t=dy(Ra),e=pt.transition,r=Q;try{if(pt.transition=null,Q=16>t?16:t,Ur===null)var n=!1;else{if(t=Ur,Ur=null,Ra=0,G&6)throw Error(j(331));var s=G;for(G|=4,O=t.current;O!==null;){var i=O,o=i.child;if(O.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(O=u;O!==null;){var d=O;switch(d.tag){case 0:case 11:case 15:bi(8,d,i)}var f=d.child;if(f!==null)f.return=d,O=f;else for(;O!==null;){d=O;var h=d.sibling,g=d.return;if(bv(d),d===u){O=null;break}if(h!==null){h.return=g,O=h;break}O=g}}}var y=i.alternate;if(y!==null){var _=y.child;if(_!==null){y.child=null;do{var x=_.sibling;_.sibling=null,_=x}while(_!==null)}}O=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,O=o;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:bi(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,O=p;break e}O=i.return}}var m=t.current;for(O=m;O!==null;){o=O;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,O=v;else e:for(o=m;O!==null;){if(a=O,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ul(9,a)}}catch(T){me(a,a.return,T)}if(a===o){O=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,O=E;break e}O=a.return}}if(G=s,sn(),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(tl,t)}catch{}n=!0}return n}finally{Q=r,pt.transition=e}}return!1}function xp(t,e,r){e=Ls(r,e),e=dv(t,e,1),t=qr(t,e,1),e=Le(),t!==null&&(io(t,1,e),Ye(t,e))}function me(t,e,r){if(t.tag===3)xp(t,t,r);else for(;e!==null;){if(e.tag===3){xp(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Kr===null||!Kr.has(n))){t=Ls(r,t),t=fv(e,t,1),e=qr(e,t,1),t=Le(),e!==null&&(io(e,1,t),Ye(e,t));break}}e=e.return}}function fS(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Le(),t.pingedLanes|=t.suspendedLanes&r,Se===t&&(Ce&r)===r&&(_e===4||_e===3&&(Ce&130023424)===Ce&&500>ge()-lf?Cn(t,0):af|=r),Ye(t,e)}function Ov(t,e){e===0&&(t.mode&1?(e=Io,Io<<=1,!(Io&130023424)&&(Io=4194304)):e=1);var r=Le();t=fr(t,e),t!==null&&(io(t,e,r),Ye(t,r))}function hS(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Ov(t,r)}function pS(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(j(314))}n!==null&&n.delete(e),Ov(t,r)}var Av;Av=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ge.current)Ke=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Ke=!1,tS(t,e,r);Ke=!!(t.flags&131072)}else Ke=!1,ce&&e.flags&1048576&&Ly(e,ka,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;ta(t,e),t=e.pendingProps;var s=As(e,Ae.current);ks(e,r),s=ef(null,e,n,t,s,r);var i=tf();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Je(n)?(i=!0,Sa(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Jd(e),s.updater=ll,e.stateNode=s,s._reactInternals=e,Ic(e,n,t,r),e=Nc(null,e,n,!0,i,r)):(e.tag=0,ce&&i&&Bd(e),De(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(ta(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=gS(n),t=St(n,t),s){case 0:e=jc(null,e,n,t,r);break e;case 1:e=dp(null,e,n,t,r);break e;case 11:e=up(null,e,n,t,r);break e;case 14:e=cp(null,e,n,St(n.type,t),r);break e}throw Error(j(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:St(n,s),jc(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:St(n,s),dp(t,e,n,s,r);case 3:e:{if(gv(e),t===null)throw Error(j(387));n=e.pendingProps,i=e.memoizedState,s=i.element,Vy(t,e),Ca(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ls(Error(j(423)),e),e=fp(t,e,n,r,s);break e}else if(n!==s){s=Ls(Error(j(424)),e),e=fp(t,e,n,r,s);break e}else for(tt=Wr(e.stateNode.containerInfo.firstChild),rt=e,ce=!0,Tt=null,r=zy(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Rs(),n===s){e=hr(t,e,r);break e}De(t,e,n,r)}e=e.child}return e;case 5:return Hy(e),t===null&&Ec(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,wc(n,s)?o=null:i!==null&&wc(n,i)&&(e.flags|=32),mv(t,e),De(t,e,o,r),e.child;case 6:return t===null&&Ec(e),null;case 13:return yv(t,e,r);case 4:return Yd(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=$s(e,null,n,r):De(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:St(n,s),up(t,e,n,s,r);case 7:return De(t,e,e.pendingProps,r),e.child;case 8:return De(t,e,e.pendingProps.children,r),e.child;case 12:return De(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,se(Ta,n._currentValue),n._currentValue=o,i!==null)if(jt(i.value,o)){if(i.children===s.children&&!Ge.current){e=hr(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=ar(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),kc(i.return,r,e),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(j(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),kc(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}De(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,ks(e,r),s=yt(s),n=n(s),e.flags|=1,De(t,e,n,r),e.child;case 14:return n=e.type,s=St(n,e.pendingProps),s=St(n.type,s),cp(t,e,n,s,r);case 15:return hv(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:St(n,s),ta(t,e),e.tag=1,Je(n)?(t=!0,Sa(e)):t=!1,ks(e,r),cv(e,n,s),Ic(e,n,s,r),Nc(null,e,n,!0,t,r);case 19:return vv(t,e,r);case 22:return pv(t,e,r)}throw Error(j(156,e.tag))};function Rv(t,e){return ay(t,e)}function mS(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ht(t,e,r,n){return new mS(t,e,r,n)}function ff(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gS(t){if(typeof t=="function")return ff(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Nd)return 11;if(t===Pd)return 14}return 2}function Jr(t,e){var r=t.alternate;return r===null?(r=ht(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function sa(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")ff(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ls:return jn(r.children,s,i,e);case jd:o=8,s|=8;break;case Qu:return t=ht(12,r,e,s|2),t.elementType=Qu,t.lanes=i,t;case Xu:return t=ht(13,r,e,s),t.elementType=Xu,t.lanes=i,t;case Zu:return t=ht(19,r,e,s),t.elementType=Zu,t.lanes=i,t;case Hg:return dl(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Bg:o=10;break e;case Vg:o=9;break e;case Nd:o=11;break e;case Pd:o=14;break e;case Ir:o=16,n=null;break e}throw Error(j(130,t==null?t:typeof t,""))}return e=ht(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function jn(t,e,r,n){return t=ht(7,t,n,e),t.lanes=r,t}function dl(t,e,r,n){return t=ht(22,t,n,e),t.elementType=Hg,t.lanes=r,t.stateNode={isHidden:!1},t}function bu(t,e,r){return t=ht(6,t,null,e),t.lanes=r,t}function Su(t,e,r){return e=ht(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function yS(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nu(0),this.expirationTimes=nu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nu(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function hf(t,e,r,n,s,i,o,a,l){return t=new yS(t,e,r,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ht(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jd(i),t}function vS(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:as,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function $v(t){if(!t)return en;t=t._reactInternals;e:{if(Vn(t)!==t||t.tag!==1)throw Error(j(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Je(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(t.tag===1){var r=t.type;if(Je(r))return $y(t,r,e)}return e}function Dv(t,e,r,n,s,i,o,a,l){return t=hf(r,n,!0,t,s,i,o,a,l),t.context=$v(null),r=t.current,n=Le(),s=Gr(r),i=ar(n,s),i.callback=e??null,qr(r,i,s),t.current.lanes=s,io(t,s,n),Ye(t,n),t}function fl(t,e,r,n){var s=e.current,i=Le(),o=Gr(s);return r=$v(r),e.context===null?e.context=r:e.pendingContext=r,e=ar(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=qr(s,e,o),t!==null&&(Ct(t,s,o,i),Xo(t,s,o)),o}function Da(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function pf(t,e){bp(t,e),(t=t.alternate)&&bp(t,e)}function wS(){return null}var Lv=typeof reportError=="function"?reportError:function(t){console.error(t)};function mf(t){this._internalRoot=t}hl.prototype.render=mf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(j(409));fl(t,e,null,null)};hl.prototype.unmount=mf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;$n(function(){fl(null,t,null,null)}),e[dr]=null}};function hl(t){this._internalRoot=t}hl.prototype.unstable_scheduleHydration=function(t){if(t){var e=py();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Pr.length&&e!==0&&e<Pr[r].priority;r++);Pr.splice(r,0,t),r===0&&gy(t)}};function gf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function pl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Sp(){}function _S(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Da(o);i.call(u)}}var o=Dv(e,n,t,0,null,!1,!1,"",Sp);return t._reactRootContainer=o,t[dr]=o.current,Mi(t.nodeType===8?t.parentNode:t),$n(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=Da(l);a.call(u)}}var l=hf(t,0,!1,null,null,!1,!1,"",Sp);return t._reactRootContainer=l,t[dr]=l.current,Mi(t.nodeType===8?t.parentNode:t),$n(function(){fl(e,l,r,n)}),l}function ml(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Da(o);a.call(l)}}fl(e,o,t,s)}else o=_S(r,e,t,s,n);return Da(o)}fy=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=ci(e.pendingLanes);r!==0&&(Rd(e,r|1),Ye(e,ge()),!(G&6)&&(Fs=ge()+500,sn()))}break;case 13:$n(function(){var n=fr(t,1);if(n!==null){var s=Le();Ct(n,t,1,s)}}),pf(t,1)}};$d=function(t){if(t.tag===13){var e=fr(t,134217728);if(e!==null){var r=Le();Ct(e,t,134217728,r)}pf(t,134217728)}};hy=function(t){if(t.tag===13){var e=Gr(t),r=fr(t,e);if(r!==null){var n=Le();Ct(r,t,e,n)}pf(t,e)}};py=function(){return Q};my=function(t,e){var r=Q;try{return Q=t,e()}finally{Q=r}};uc=function(t,e,r){switch(e){case"input":if(rc(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=il(n);if(!s)throw Error(j(90));qg(n),rc(n,s)}}}break;case"textarea":Gg(t,r);break;case"select":e=r.value,e!=null&&xs(t,!!r.multiple,e,!1)}};ty=uf;ry=$n;var xS={usingClientEntryPoint:!1,Events:[ao,fs,il,Zg,ey,uf]},ii={findFiberByHostInstance:bn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bS={bundleType:ii.bundleType,version:ii.version,rendererPackageName:ii.rendererPackageName,rendererConfig:ii.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=iy(t),t===null?null:t.stateNode},findFiberByHostInstance:ii.findFiberByHostInstance||wS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fo.isDisabled&&Fo.supportsFiber)try{tl=Fo.inject(bS),Vt=Fo}catch{}}it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xS;it.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gf(e))throw Error(j(200));return vS(t,e,null,r)};it.createRoot=function(t,e){if(!gf(t))throw Error(j(299));var r=!1,n="",s=Lv;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=hf(t,1,!1,null,null,r,!1,n,s),t[dr]=e.current,Mi(t.nodeType===8?t.parentNode:t),new mf(e)};it.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=iy(e),t=t===null?null:t.stateNode,t};it.flushSync=function(t){return $n(t)};it.hydrate=function(t,e,r){if(!pl(e))throw Error(j(200));return ml(null,t,e,!0,r)};it.hydrateRoot=function(t,e,r){if(!gf(t))throw Error(j(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Lv;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=Dv(e,null,t,1,r??null,s,!1,i,o),t[dr]=e.current,Mi(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new hl(e)};it.render=function(t,e,r){if(!pl(e))throw Error(j(200));return ml(null,t,e,!1,r)};it.unmountComponentAtNode=function(t){if(!pl(t))throw Error(j(40));return t._reactRootContainer?($n(function(){ml(null,null,t,!1,function(){t._reactRootContainer=null,t[dr]=null})}),!0):!1};it.unstable_batchedUpdates=uf;it.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!pl(r))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return ml(t,e,r,!1,n)};it.version="18.3.1-next-f1338f8080-20240426";function Fv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Fv)}catch(t){console.error(t)}}Fv(),Fg.exports=it;var SS=Fg.exports,Ep=SS;Ju.createRoot=Ep.createRoot,Ju.hydrateRoot=Ep.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ji(){return Ji=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ji.apply(this,arguments)}var Mr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Mr||(Mr={}));const kp="popstate";function ES(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:o,hash:a}=n.location;return Bc("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:La(s)}return TS(e,r,null,t)}function ye(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Uv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kS(){return Math.random().toString(36).substr(2,8)}function Tp(t,e){return{usr:t.state,key:t.key,idx:e}}function Bc(t,e,r,n){return r===void 0&&(r=null),Ji({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?qs(e):e,{state:r,key:e&&e.key||n||kS()})}function La(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function qs(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function TS(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=Mr.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Ji({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=Mr.Pop;let x=d(),p=x==null?null:x-u;u=x,l&&l({action:a,location:_.location,delta:p})}function h(x,p){a=Mr.Push;let m=Bc(_.location,x,p);u=d()+1;let v=Tp(m,u),E=_.createHref(m);try{o.pushState(v,"",E)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;s.location.assign(E)}i&&l&&l({action:a,location:_.location,delta:1})}function g(x,p){a=Mr.Replace;let m=Bc(_.location,x,p);u=d();let v=Tp(m,u),E=_.createHref(m);o.replaceState(v,"",E),i&&l&&l({action:a,location:_.location,delta:0})}function y(x){let p=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof x=="string"?x:La(x);return m=m.replace(/ $/,"%20"),ye(p,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,p)}let _={get action(){return a},get location(){return t(s,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(kp,f),l=x,()=>{s.removeEventListener(kp,f),l=null}},createHref(x){return e(s,x)},createURL:y,encodeLocation(x){let p=y(x);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:g,go(x){return o.go(x)}};return _}var Ip;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ip||(Ip={}));function IS(t,e,r){return r===void 0&&(r="/"),CS(t,e,r)}function CS(t,e,r,n){let s=typeof e=="string"?qs(e):e,i=yf(s.pathname||"/",r);if(i==null)return null;let o=Mv(t);jS(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=zS(i);a=FS(o[l],u)}return a}function Mv(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(ye(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Yr([n,l.relativePath]),d=r.concat(l);i.children&&i.children.length>0&&(ye(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Mv(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:DS(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of zv(i.path))s(i,o,l)}),e}function zv(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=zv(n.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function jS(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:LS(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const NS=/^:[\w-]+$/,PS=3,OS=2,AS=1,RS=10,$S=-2,Cp=t=>t==="*";function DS(t,e){let r=t.split("/"),n=r.length;return r.some(Cp)&&(n+=$S),e&&(n+=OS),r.filter(s=>!Cp(s)).reduce((s,i)=>s+(NS.test(i)?PS:i===""?AS:RS),n)}function LS(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function FS(t,e,r){let{routesMeta:n}=t,s={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=US({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Yr([i,f.pathname]),pathnameBase:WS(Yr([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Yr([i,f.pathnameBase]))}return o}function US(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=MS(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:g}=d;if(h==="*"){let _=a[f]||"";o=i.slice(0,i.length-_.length).replace(/(.)\/+$/,"$1")}const y=a[f];return g&&!y?u[h]=void 0:u[h]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function MS(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Uv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function zS(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Uv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function yf(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function BS(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?qs(t):t;return{pathname:r?r.startsWith("/")?r:VS(r,e):e,search:qS(n),hash:KS(s)}}function VS(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Eu(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function HS(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function vf(t,e){let r=HS(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function wf(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=qs(t):(s=Ji({},t),ye(!s.pathname||!s.pathname.includes("?"),Eu("?","pathname","search",s)),ye(!s.pathname||!s.pathname.includes("#"),Eu("#","pathname","hash",s)),ye(!s.search||!s.search.includes("#"),Eu("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let f=e.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=BS(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Yr=t=>t.join("/").replace(/\/\/+/g,"/"),WS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),qS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,KS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function GS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Bv=["post","put","patch","delete"];new Set(Bv);const JS=["get",...Bv];new Set(JS);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yi(){return Yi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yi.apply(this,arguments)}const _f=w.createContext(null),YS=w.createContext(null),on=w.createContext(null),gl=w.createContext(null),yr=w.createContext({outlet:null,matches:[],isDataRoute:!1}),Vv=w.createContext(null);function QS(t,e){let{relative:r}=e===void 0?{}:e;Ks()||ye(!1);let{basename:n,navigator:s}=w.useContext(on),{hash:i,pathname:o,search:a}=Wv(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:Yr([n,o])),s.createHref({pathname:l,search:a,hash:i})}function Ks(){return w.useContext(gl)!=null}function Gs(){return Ks()||ye(!1),w.useContext(gl).location}function Hv(t){w.useContext(on).static||w.useLayoutEffect(t)}function an(){let{isDataRoute:t}=w.useContext(yr);return t?dE():XS()}function XS(){Ks()||ye(!1);let t=w.useContext(_f),{basename:e,future:r,navigator:n}=w.useContext(on),{matches:s}=w.useContext(yr),{pathname:i}=Gs(),o=JSON.stringify(vf(s,r.v7_relativeSplatPath)),a=w.useRef(!1);return Hv(()=>{a.current=!0}),w.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let f=wf(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Yr([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,o,i,t])}function ZS(){let{matches:t}=w.useContext(yr),e=t[t.length-1];return e?e.params:{}}function Wv(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=w.useContext(on),{matches:s}=w.useContext(yr),{pathname:i}=Gs(),o=JSON.stringify(vf(s,n.v7_relativeSplatPath));return w.useMemo(()=>wf(t,JSON.parse(o),i,r==="path"),[t,o,i,r])}function eE(t,e){return tE(t,e)}function tE(t,e,r,n){Ks()||ye(!1);let{navigator:s,static:i}=w.useContext(on),{matches:o}=w.useContext(yr),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let d=Gs(),f;if(e){var h;let p=typeof e=="string"?qs(e):e;u==="/"||(h=p.pathname)!=null&&h.startsWith(u)||ye(!1),f=p}else f=d;let g=f.pathname||"/",y=g;if(u!=="/"){let p=u.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(p.length).join("/")}let _=IS(t,{pathname:y}),x=oE(_&&_.map(p=>Object.assign({},p,{params:Object.assign({},l,p.params),pathname:Yr([u,s.encodeLocation?s.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?u:Yr([u,s.encodeLocation?s.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),o,r,n);return e&&x?w.createElement(gl.Provider,{value:{location:Yi({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Mr.Pop}},x):x}function rE(){let t=cE(),e=GS(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),r?w.createElement("pre",{style:s},r):null,null)}const nE=w.createElement(rE,null);class sE extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?w.createElement(yr.Provider,{value:this.props.routeContext},w.createElement(Vv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function iE(t){let{routeContext:e,match:r,children:n}=t,s=w.useContext(_f);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(yr.Provider,{value:e},n)}function oE(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,a=(s=r)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||ye(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:g}=r,y=f.route.loader&&h[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||y){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let g,y=!1,_=null,x=null;r&&(g=a&&f.route.id?a[f.route.id]:void 0,_=f.route.errorElement||nE,l&&(u<0&&h===0?(fE("route-fallback"),y=!0,x=null):u===h&&(y=!0,x=f.route.hydrateFallbackElement||null)));let p=e.concat(o.slice(0,h+1)),m=()=>{let v;return g?v=_:y?v=x:f.route.Component?v=w.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=d,w.createElement(iE,{match:f,routeContext:{outlet:d,matches:p,isDataRoute:r!=null},children:v})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?w.createElement(sE,{location:r.location,revalidation:r.revalidation,component:_,error:g,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}var qv=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(qv||{}),Kv=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Kv||{});function aE(t){let e=w.useContext(_f);return e||ye(!1),e}function lE(t){let e=w.useContext(YS);return e||ye(!1),e}function uE(t){let e=w.useContext(yr);return e||ye(!1),e}function Gv(t){let e=uE(),r=e.matches[e.matches.length-1];return r.route.id||ye(!1),r.route.id}function cE(){var t;let e=w.useContext(Vv),r=lE(),n=Gv();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function dE(){let{router:t}=aE(qv.UseNavigateStable),e=Gv(Kv.UseNavigateStable),r=w.useRef(!1);return Hv(()=>{r.current=!0}),w.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Yi({fromRouteId:e},i)))},[t,e])}const jp={};function fE(t,e,r){jp[t]||(jp[t]=!0)}function hE(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Jv(t){let{to:e,replace:r,state:n,relative:s}=t;Ks()||ye(!1);let{future:i,static:o}=w.useContext(on),{matches:a}=w.useContext(yr),{pathname:l}=Gs(),u=an(),d=wf(e,vf(a,i.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(d);return w.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function Xe(t){ye(!1)}function pE(t){let{basename:e="/",children:r=null,location:n,navigationType:s=Mr.Pop,navigator:i,static:o=!1,future:a}=t;Ks()&&ye(!1);let l=e.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:l,navigator:i,static:o,future:Yi({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof n=="string"&&(n=qs(n));let{pathname:d="/",search:f="",hash:h="",state:g=null,key:y="default"}=n,_=w.useMemo(()=>{let x=yf(d,l);return x==null?null:{location:{pathname:x,search:f,hash:h,state:g,key:y},navigationType:s}},[l,d,f,h,g,y,s]);return _==null?null:w.createElement(on.Provider,{value:u},w.createElement(gl.Provider,{children:r,value:_}))}function mE(t){let{children:e,location:r}=t;return eE(Vc(e),r)}new Promise(()=>{});function Vc(t,e){e===void 0&&(e=[]);let r=[];return w.Children.forEach(t,(n,s)=>{if(!w.isValidElement(n))return;let i=[...e,s];if(n.type===w.Fragment){r.push.apply(r,Vc(n.props.children,i));return}n.type!==Xe&&ye(!1),!n.props.index||!n.props.children||ye(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Vc(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hc(){return Hc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hc.apply(this,arguments)}function gE(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function yE(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function vE(t,e){return t.button===0&&(!e||e==="_self")&&!yE(t)}const wE=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],_E="6";try{window.__reactRouterVersion=_E}catch{}const xE="startTransition",Np=fx[xE];function bE(t){let{basename:e,children:r,future:n,window:s}=t,i=w.useRef();i.current==null&&(i.current=ES({window:s,v5Compat:!0}));let o=i.current,[a,l]=w.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=w.useCallback(f=>{u&&Np?Np(()=>l(f)):l(f)},[l,u]);return w.useLayoutEffect(()=>o.listen(d),[o,d]),w.useEffect(()=>hE(n),[n]),w.createElement(pE,{basename:e,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}const SE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",EE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dt=w.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:f}=e,h=gE(e,wE),{basename:g}=w.useContext(on),y,_=!1;if(typeof u=="string"&&EE.test(u)&&(y=u,SE))try{let v=new URL(window.location.href),E=u.startsWith("//")?new URL(v.protocol+u):new URL(u),T=yf(E.pathname,g);E.origin===v.origin&&T!=null?u=T+E.search+E.hash:_=!0}catch{}let x=QS(u,{relative:s}),p=kE(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:f});function m(v){n&&n(v),v.defaultPrevented||p(v)}return w.createElement("a",Hc({},h,{href:y||x,onClick:_||i?n:m,ref:r,target:l}))});var Pp;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Pp||(Pp={}));var Op;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Op||(Op={}));function kE(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=an(),u=Gs(),d=Wv(t,{relative:o});return w.useCallback(f=>{if(vE(f,r)){f.preventDefault();let h=n!==void 0?n:La(u)===La(d);l(t,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,d,n,s,r,t,i,o,a])}var Ap={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);s<128?e[r++]=s:s<2048?(e[r++]=s>>6|192,e[r++]=s&63|128):(s&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=s>>18|240,e[r++]=s>>12&63|128,e[r++]=s>>6&63|128,e[r++]=s&63|128):(e[r++]=s>>12|224,e[r++]=s>>6&63|128,e[r++]=s&63|128)}return e},TE=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const s=t[r++];if(s<128)e[n++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[r++];e[n++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[r++],o=t[r++],a=t[r++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const i=t[r++],o=t[r++];e[n++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Qv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,d=i>>2,f=(i&3)<<4|a>>4;let h=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(h=64)),n.push(r[d],r[f],r[h],r[g])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Yv(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):TE(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<t.length;){const i=r[t.charAt(s++)],a=s<t.length?r[t.charAt(s)]:0;++s;const u=s<t.length?r[t.charAt(s)]:64;++s;const f=s<t.length?r[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||f==null)throw new IE;const h=i<<2|a>>4;if(n.push(h),u!==64){const g=a<<4&240|u>>2;if(n.push(g),f!==64){const y=u<<6&192|f;n.push(y)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class IE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CE=function(t){const e=Yv(t);return Qv.encodeByteArray(e,!0)},Xv=function(t){return CE(t).replace(/\./g,"")},Zv=function(t){try{return Qv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=()=>jE().__FIREBASE_DEFAULTS__,PE=()=>{if(typeof process>"u"||typeof Ap>"u")return;const t=Ap.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},OE=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Zv(t[1]);return e&&JSON.parse(e)},xf=()=>{try{return NE()||PE()||OE()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},e0=t=>{var e,r;return(r=(e=xf())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},AE=t=>{const e=e0(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},t0=()=>{var t;return(t=xf())===null||t===void 0?void 0:t.config},r0=t=>{var e;return(e=xf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RE=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $E(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fe())}function DE(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function n0(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function LE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FE(){const t=Fe();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function s0(){try{return typeof indexedDB=="object"}catch{return!1}}function i0(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},s.onupgradeneeded=()=>{r=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(r){e(r)}})}function UE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="FirebaseError";class At extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=ME,Object.setPrototypeOf(this,At.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hn.prototype.create)}}class Hn{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?zE(i,n):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new At(s,a,n)}}function zE(t,e){return t.replace(BE,(r,n)=>{const s=e[n];return s!=null?String(s):`<${n}?>`})}const BE=/\{\$([^}]+)}/g;function VE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qi(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const s of r){if(!n.includes(s))return!1;const i=t[s],o=e[s];if(Rp(i)&&Rp(o)){if(!Qi(i,o))return!1}else if(i!==o)return!1}for(const s of n)if(!r.includes(s))return!1;return!0}function Rp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uo(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(s=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function fi(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[s,i]=n.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function hi(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function HE(t,e){const r=new WE(t,e);return r.subscribe.bind(r)}class WE{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let s;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");qE(e,["next","error","complete"])?s=e:s={next:e,error:r,complete:n},s.next===void 0&&(s.next=ku),s.error===void 0&&(s.error=ku),s.complete===void 0&&(s.complete=ku);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qE(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function ku(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE=1e3,GE=2,JE=4*60*60*1e3,YE=.5;function $p(t,e=KE,r=GE){const n=e*Math.pow(r,t),s=Math.round(YE*n*(Math.random()-.5)*2);return Math.min(JE,n+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(t){return t&&t._delegate?t._delegate:t}class Nt{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new RE;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:r});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZE(e))try{this.getOrInitializeService({instanceIdentifier:wn})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:s});n.resolve(i)}catch{}}}}clearInstance(e=wn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wn){return this.instances.has(e)}getOptions(e=wn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);n===a&&o.resolve(s)}return s}onInit(e,r){var n;const s=this.normalizeInstanceIdentifier(r),i=(n=this.onInitCallbacks.get(s))!==null&&n!==void 0?n:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const s of n)try{s(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:XE(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=wn){return this.component?this.component.multipleInstances?e:wn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function XE(t){return t===wn?void 0:t}function ZE(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new QE(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(te||(te={}));const tk={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},rk=te.INFO,nk={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},sk=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),s=nk[e];if(s)console[s](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bf{constructor(e){this.name=e,this._logLevel=rk,this._logHandler=sk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...e),this._logHandler(this,te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...e),this._logHandler(this,te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,te.INFO,...e),this._logHandler(this,te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,te.WARN,...e),this._logHandler(this,te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...e),this._logHandler(this,te.ERROR,...e)}}const ik=(t,e)=>e.some(r=>t instanceof r);let Dp,Lp;function ok(){return Dp||(Dp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ak(){return Lp||(Lp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const o0=new WeakMap,Wc=new WeakMap,a0=new WeakMap,Tu=new WeakMap,Sf=new WeakMap;function lk(t){const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{r(Qr(t.result)),s()},o=()=>{n(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&o0.set(r,t)}).catch(()=>{}),Sf.set(e,t),e}function uk(t){if(Wc.has(t))return;const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{r(),s()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Wc.set(t,e)}let qc={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Wc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||a0.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Qr(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ck(t){qc=t(qc)}function dk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Iu(this),e,...r);return a0.set(n,e.sort?e.sort():[e]),Qr(n)}:ak().includes(t)?function(...e){return t.apply(Iu(this),e),Qr(o0.get(this))}:function(...e){return Qr(t.apply(Iu(this),e))}}function fk(t){return typeof t=="function"?dk(t):(t instanceof IDBTransaction&&uk(t),ik(t,ok())?new Proxy(t,qc):t)}function Qr(t){if(t instanceof IDBRequest)return lk(t);if(Tu.has(t))return Tu.get(t);const e=fk(t);return e!==t&&(Tu.set(t,e),Sf.set(e,t)),e}const Iu=t=>Sf.get(t);function l0(t,e,{blocked:r,upgrade:n,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Qr(o);return n&&o.addEventListener("upgradeneeded",l=>{n(Qr(o.result),l.oldVersion,l.newVersion,Qr(o.transaction),l)}),r&&o.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const hk=["get","getKey","getAll","getAllKeys","count"],pk=["put","add","delete","clear"],Cu=new Map;function Fp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Cu.get(e))return Cu.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,s=pk.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(s||hk.includes(r)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(a.shift())),(await Promise.all([u[r](...a),s&&l.done]))[0]};return Cu.set(e,i),i}ck(t=>({...t,get:(e,r,n)=>Fp(e,r)||t.get(e,r,n),has:(e,r)=>!!Fp(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(gk(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function gk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Kc="@firebase/app",Up="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr=new bf("@firebase/app"),yk="@firebase/app-compat",vk="@firebase/analytics-compat",wk="@firebase/analytics",_k="@firebase/app-check-compat",xk="@firebase/app-check",bk="@firebase/auth",Sk="@firebase/auth-compat",Ek="@firebase/database",kk="@firebase/data-connect",Tk="@firebase/database-compat",Ik="@firebase/functions",Ck="@firebase/functions-compat",jk="@firebase/installations",Nk="@firebase/installations-compat",Pk="@firebase/messaging",Ok="@firebase/messaging-compat",Ak="@firebase/performance",Rk="@firebase/performance-compat",$k="@firebase/remote-config",Dk="@firebase/remote-config-compat",Lk="@firebase/storage",Fk="@firebase/storage-compat",Uk="@firebase/firestore",Mk="@firebase/vertexai-preview",zk="@firebase/firestore-compat",Bk="firebase",Vk="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc="[DEFAULT]",Hk={[Kc]:"fire-core",[yk]:"fire-core-compat",[wk]:"fire-analytics",[vk]:"fire-analytics-compat",[xk]:"fire-app-check",[_k]:"fire-app-check-compat",[bk]:"fire-auth",[Sk]:"fire-auth-compat",[Ek]:"fire-rtdb",[kk]:"fire-data-connect",[Tk]:"fire-rtdb-compat",[Ik]:"fire-fn",[Ck]:"fire-fn-compat",[jk]:"fire-iid",[Nk]:"fire-iid-compat",[Pk]:"fire-fcm",[Ok]:"fire-fcm-compat",[Ak]:"fire-perf",[Rk]:"fire-perf-compat",[$k]:"fire-rc",[Dk]:"fire-rc-compat",[Lk]:"fire-gcs",[Fk]:"fire-gcs-compat",[Uk]:"fire-fst",[zk]:"fire-fst-compat",[Mk]:"fire-vertex","fire-js":"fire-js",[Bk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa=new Map,Wk=new Map,Jc=new Map;function Mp(t,e){try{t.container.addComponent(e)}catch(r){pr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Gt(t){const e=t.name;if(Jc.has(e))return pr.debug(`There were multiple attempts to register component ${e}.`),!1;Jc.set(e,t);for(const r of Fa.values())Mp(r,t);for(const r of Wk.values())Mp(r,t);return!0}function Wn(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function zt(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xr=new Hn("app","Firebase",qk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Nt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=Vk;function u0(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Gc,automaticDataCollectionEnabled:!1},e),s=n.name;if(typeof s!="string"||!s)throw Xr.create("bad-app-name",{appName:String(s)});if(r||(r=t0()),!r)throw Xr.create("no-options");const i=Fa.get(s);if(i){if(Qi(r,i.options)&&Qi(n,i.config))return i;throw Xr.create("duplicate-app",{appName:s})}const o=new ek(s);for(const l of Jc.values())o.addComponent(l);const a=new Kk(r,n,o);return Fa.set(s,a),a}function Ef(t=Gc){const e=Fa.get(t);if(!e&&t===Gc&&t0())return u0();if(!e)throw Xr.create("no-app",{appName:t});return e}function mt(t,e,r){var n;let s=(n=Hk[t])!==null&&n!==void 0?n:t;r&&(s+=`-${r}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pr.warn(a.join(" "));return}Gt(new Nt(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk="firebase-heartbeat-database",Jk=1,Xi="firebase-heartbeat-store";let ju=null;function c0(){return ju||(ju=l0(Gk,Jk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Xi)}catch(r){console.warn(r)}}}}).catch(t=>{throw Xr.create("idb-open",{originalErrorMessage:t.message})})),ju}async function Yk(t){try{const r=(await c0()).transaction(Xi),n=await r.objectStore(Xi).get(d0(t));return await r.done,n}catch(e){if(e instanceof At)pr.warn(e.message);else{const r=Xr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});pr.warn(r.message)}}}async function zp(t,e){try{const n=(await c0()).transaction(Xi,"readwrite");await n.objectStore(Xi).put(e,d0(t)),await n.done}catch(r){if(r instanceof At)pr.warn(r.message);else{const n=Xr.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});pr.warn(n.message)}}}function d0(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk=1024,Xk=30*24*60*60*1e3;class Zk{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new tT(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Bp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Xk}),this._storage.overwrite(this._heartbeatsCache))}catch(n){pr.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Bp(),{heartbeatsToSend:n,unsentEntries:s}=eT(this._heartbeatsCache.heartbeats),i=Xv(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return pr.warn(r),""}}}function Bp(){return new Date().toISOString().substring(0,10)}function eT(t,e=Qk){const r=[];let n=t.slice();for(const s of t){const i=r.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Vp(r)>e){i.dates.pop();break}}else if(r.push({agent:s.agent,dates:[s.date]}),Vp(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class tT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return s0()?i0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Yk(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return zp(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return zp(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Vp(t){return Xv(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(t){Gt(new Nt("platform-logger",e=>new mk(e),"PRIVATE")),Gt(new Nt("heartbeat",e=>new Zk(e),"PRIVATE")),mt(Kc,Up,t),mt(Kc,Up,"esm2017"),mt("fire-js","")}rT("");function kf(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function f0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nT=f0,h0=new Hn("auth","Firebase",f0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua=new bf("@firebase/auth");function sT(t,...e){Ua.logLevel<=te.WARN&&Ua.warn(`Auth (${co}): ${t}`,...e)}function ia(t,...e){Ua.logLevel<=te.ERROR&&Ua.error(`Auth (${co}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(t,...e){throw Tf(t,...e)}function Wt(t,...e){return Tf(t,...e)}function p0(t,e,r){const n=Object.assign(Object.assign({},nT()),{[e]:r});return new Hn("auth","Firebase",n).create(e,{appName:t.name})}function lr(t){return p0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tf(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return h0.create(t,...e)}function z(t,e,...r){if(!t)throw Tf(e,...r)}function sr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ia(e),new Error(e)}function mr(t,e){t||sr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function iT(){return Hp()==="http:"||Hp()==="https:"}function Hp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iT()||n0()||"connection"in navigator)?navigator.onLine:!0}function aT(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,r){this.shortDelay=e,this.longDelay=r,mr(r>e,"Short delay should be less than long delay!"),this.isMobile=$E()||LE()}get(){return oT()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function If(t,e){mr(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT=new fo(3e4,6e4);function ln(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function vr(t,e,r,n,s={}){return g0(t,s,async()=>{let i={},o={};n&&(e==="GET"?o=n:i={body:JSON.stringify(n)});const a=uo(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},i);return DE()||(u.referrerPolicy="no-referrer"),m0.fetch()(y0(t,t.config.apiHost,r,a),u)})}async function g0(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},lT),e);try{const s=new dT(t),i=await Promise.race([r(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Uo(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uo(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Uo(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Uo(t,"user-disabled",o);const d=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw p0(t,d,u);Pt(t,d)}}catch(s){if(s instanceof At)throw s;Pt(t,"network-request-failed",{message:String(s)})}}async function ho(t,e,r,n,s={}){const i=await vr(t,e,r,n,s);return"mfaPendingCredential"in i&&Pt(t,"multi-factor-auth-required",{_serverResponse:i}),i}function y0(t,e,r,n){const s=`${e}${r}?${n}`;return t.config.emulator?If(t.config,s):`${t.config.apiScheme}://${s}`}function cT(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dT{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Wt(this.auth,"network-request-failed")),uT.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Uo(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const s=Wt(t,e,n);return s.customData._tokenResponse=r,s}function Wp(t){return t!==void 0&&t.enterprise!==void 0}class fT{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return cT(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function hT(t,e){return vr(t,"GET","/v2/recaptchaConfig",ln(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pT(t,e){return vr(t,"POST","/v1/accounts:delete",e)}async function v0(t,e){return vr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function mT(t,e=!1){const r=Re(t),n=await r.getIdToken(e),s=Cf(n);z(s&&s.exp&&s.auth_time&&s.iat,r.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:n,authTime:ki(Nu(s.auth_time)),issuedAtTime:ki(Nu(s.iat)),expirationTime:ki(Nu(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Nu(t){return Number(t)*1e3}function Cf(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return ia("JWT malformed, contained fewer than 3 sections"),null;try{const s=Zv(r);return s?JSON.parse(s):(ia("Failed to decode base64 JWT payload"),null)}catch(s){return ia("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function qp(t){const e=Cf(t);return z(e,"internal-error"),z(typeof e.exp<"u","internal-error"),z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Us(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof At&&gT(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function gT({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=ki(this.lastLoginAt),this.creationTime=ki(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ma(t){var e;const r=t.auth,n=await t.getIdToken(),s=await Us(t,v0(r,{idToken:n}));z(s==null?void 0:s.users.length,r,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?w0(i.providerUserInfo):[],a=wT(t.providerData,o),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Qc(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function vT(t){const e=Re(t);await Ma(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function wT(t,e){return[...t.filter(n=>!e.some(s=>s.providerId===n.providerId)),...e]}function w0(t){return t.map(e=>{var{providerId:r}=e,n=kf(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _T(t,e){const r=await g0(t,{},async()=>{const n=uo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=y0(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",m0.fetch()(o,{method:"POST",headers:a,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function xT(t,e){return vr(t,"POST","/v2/accounts:revokeToken",ln(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){z(e.idToken,"internal-error"),z(typeof e.idToken<"u","internal-error"),z(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qp(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){z(e.length!==0,"internal-error");const r=qp(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:s,expiresIn:i}=await _T(e,r);this.updateTokensAndExpiration(n,s,Number(i))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:s,expirationTime:i}=r,o=new Is;return n&&(z(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),s&&(z(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(z(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Is,this.toJSON())}_performRefresh(){return sr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(t,e){z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ir{constructor(e){var{uid:r,auth:n,stsTokenManager:s}=e,i=kf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yT(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Qc(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await Us(this,this.stsTokenManager.getToken(this.auth,e));return z(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return mT(this,e)}reload(){return vT(this)}_assign(e){this!==e&&(z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new ir(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Ma(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zt(this.auth.app))return Promise.reject(lr(this.auth));const e=await this.getIdToken();return await Us(this,pT(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,s,i,o,a,l,u,d;const f=(n=r.displayName)!==null&&n!==void 0?n:void 0,h=(s=r.email)!==null&&s!==void 0?s:void 0,g=(i=r.phoneNumber)!==null&&i!==void 0?i:void 0,y=(o=r.photoURL)!==null&&o!==void 0?o:void 0,_=(a=r.tenantId)!==null&&a!==void 0?a:void 0,x=(l=r._redirectEventId)!==null&&l!==void 0?l:void 0,p=(u=r.createdAt)!==null&&u!==void 0?u:void 0,m=(d=r.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:v,emailVerified:E,isAnonymous:T,providerData:k,stsTokenManager:b}=r;z(v&&b,e,"internal-error");const I=Is.fromJSON(this.name,b);z(typeof v=="string",e,"internal-error"),br(f,e.name),br(h,e.name),z(typeof E=="boolean",e,"internal-error"),z(typeof T=="boolean",e,"internal-error"),br(g,e.name),br(y,e.name),br(_,e.name),br(x,e.name),br(p,e.name),br(m,e.name);const A=new ir({uid:v,auth:e,email:h,emailVerified:E,displayName:f,isAnonymous:T,photoURL:y,phoneNumber:g,tenantId:_,stsTokenManager:I,createdAt:p,lastLoginAt:m});return k&&Array.isArray(k)&&(A.providerData=k.map(U=>Object.assign({},U))),x&&(A._redirectEventId=x),A}static async _fromIdTokenResponse(e,r,n=!1){const s=new Is;s.updateFromServerResponse(r);const i=new ir({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:n});return await Ma(i),i}static async _fromGetAccountInfoResponse(e,r,n){const s=r.users[0];z(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?w0(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Is;a.updateFromIdToken(n);const l=new ir({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Qc(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp=new Map;function or(t){mr(t instanceof Function,"Expected a class definition");let e=Kp.get(t);return e?(mr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Kp.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}_0.type="NONE";const Gp=_0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(t,e,r){return`firebase:${t}:${e}:${r}`}class Cs{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:s,name:i}=this.auth;this.fullUserKey=oa(this.userKey,s.apiKey,i),this.fullPersistenceKey=oa("persistence",s.apiKey,i),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ir._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Cs(or(Gp),e,n);const s=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||or(Gp);const o=oa(n,e.config.apiKey,e.name);let a=null;for(const u of r)try{const d=await u._get(o);if(d){const f=ir._fromJSON(e,d);u!==i&&(a=f),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Cs(i,e,n):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(r.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Cs(i,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(E0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(x0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(T0(e))return"Blackberry";if(I0(e))return"Webos";if(b0(e))return"Safari";if((e.includes("chrome/")||S0(e))&&!e.includes("edge/"))return"Chrome";if(k0(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function x0(t=Fe()){return/firefox\//i.test(t)}function b0(t=Fe()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function S0(t=Fe()){return/crios\//i.test(t)}function E0(t=Fe()){return/iemobile/i.test(t)}function k0(t=Fe()){return/android/i.test(t)}function T0(t=Fe()){return/blackberry/i.test(t)}function I0(t=Fe()){return/webos/i.test(t)}function jf(t=Fe()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function bT(t=Fe()){var e;return jf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ST(){return FE()&&document.documentMode===10}function C0(t=Fe()){return jf(t)||k0(t)||I0(t)||T0(t)||/windows phone/i.test(t)||E0(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(t,e=[]){let r;switch(t){case"Browser":r=Jp(Fe());break;case"Worker":r=`${Jp(Fe())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${co}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});n.onAbort=r,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const s of r)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kT(t,e={}){return vr(t,"GET","/v2/passwordPolicy",ln(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT=6;class IT{constructor(e){var r,n,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:TT,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(r=l.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),s&&(r.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let s=0;s<e.length;s++)n=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e,r,n,s){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yp(this),this.idTokenSubscription=new Yp(this),this.beforeStateQueue=new ET(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=h0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=or(r)),this._initializationPromise=this.queue(async()=>{var n,s;if(!this._deleted&&(this.persistenceManager=await Cs.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await v0(this,{idToken:e}),n=await ir._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(zt(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return z(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Ma(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=aT()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zt(this.app))return Promise.reject(lr(this));const r=e?Re(e):null;return r&&z(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zt(this.app)?Promise.reject(lr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zt(this.app)?Promise.reject(lr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(or(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kT(this),r=new IT(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Hn("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await xT(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&or(e)||this._popupRedirectResolver;z(r,this,"argument-error"),this.redirectPersistenceManager=await Cs.create(this,[or(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,s){if(this._deleted)return()=>{};const i=typeof r=="function"?r:r.next.bind(r);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(z(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,s);return()=>{o=!0,l()}}else{const l=e.addObserver(r);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=j0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&sT(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function qn(t){return Re(t)}class Yp{constructor(e){this.auth=e,this.observer=null,this.addObserver=HE(r=>this.observer=r)}get next(){return z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yl={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jT(t){yl=t}function N0(t){return yl.loadJS(t)}function NT(){return yl.recaptchaEnterpriseScript}function PT(){return yl.gapiScript}function OT(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const AT="recaptcha-enterprise",RT="NO_RECAPTCHA";class $T{constructor(e){this.type=AT,this.auth=qn(e)}async verify(e="verify",r=!1){async function n(i){if(!r){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{hT(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new fT(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;Wp(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(RT)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{n(this.auth).then(a=>{if(!r&&Wp(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=NT();l.length!==0&&(l+=a),N0(l).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function Qp(t,e,r,n=!1){const s=new $T(t);let i;try{i=await s.verify(r)}catch{i=await s.verify(r,!0)}const o=Object.assign({},e);return n?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Xc(t,e,r,n){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Qp(t,e,r,r==="getOobCode");return n(t,i)}else return n(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Qp(t,e,r,r==="getOobCode");return n(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(t,e){const r=Wn(t,"auth");if(r.isInitialized()){const s=r.getImmediate(),i=r.getOptions();if(Qi(i,e??{}))return s;Pt(s,"already-initialized")}return r.initialize({options:e})}function LT(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(or);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function FT(t,e,r){const n=qn(t);z(n._canInitEmulator,n,"emulator-config-failed"),z(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const s=!1,i=P0(e),{host:o,port:a}=UT(e),l=a===null?"":`:${a}`;n.config.emulator={url:`${i}//${o}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),MT()}function P0(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function UT(t){const e=P0(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(n);if(s){const i=s[1];return{host:i,port:Xp(n.substr(i.length+1))}}else{const[i,o]=n.split(":");return{host:i,port:Xp(o)}}}function Xp(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function MT(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return sr("not implemented")}_getIdTokenResponse(e){return sr("not implemented")}_linkToIdToken(e,r){return sr("not implemented")}_getReauthenticationResolver(e){return sr("not implemented")}}async function zT(t,e){return vr(t,"POST","/v1/accounts:update",e)}async function BT(t,e){return vr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VT(t,e){return ho(t,"POST","/v1/accounts:signInWithPassword",ln(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HT(t,e){return ho(t,"POST","/v1/accounts:signInWithEmailLink",ln(t,e))}async function WT(t,e){return ho(t,"POST","/v1/accounts:signInWithEmailLink",ln(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends Nf{constructor(e,r,n,s=null){super("password",n),this._email=e,this._password=r,this._tenantId=s}static _fromEmailAndPassword(e,r){return new Zi(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new Zi(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xc(e,r,"signInWithPassword",VT);case"emailLink":return HT(e,{email:this._email,oobCode:this._password});default:Pt(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xc(e,n,"signUpPassword",BT);case"emailLink":return WT(e,{idToken:r,email:this._email,oobCode:this._password});default:Pt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function js(t,e){return ho(t,"POST","/v1/accounts:signInWithIdp",ln(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="http://localhost";class Dn extends Nf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Dn(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Pt("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:s}=r,i=kf(r,["providerId","signInMethod"]);if(!n||!s)return null;const o=new Dn(n,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return js(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,js(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,js(e,r)}buildRequest(){const e={requestUri:qT,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=uo(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function GT(t){const e=fi(hi(t)).link,r=e?fi(hi(e)).deep_link_id:null,n=fi(hi(t)).deep_link_id;return(n?fi(hi(n)).link:null)||n||r||e||t}class Pf{constructor(e){var r,n,s,i,o,a;const l=fi(hi(e)),u=(r=l.apiKey)!==null&&r!==void 0?r:null,d=(n=l.oobCode)!==null&&n!==void 0?n:null,f=KT((s=l.mode)!==null&&s!==void 0?s:null);z(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const r=GT(e);try{return new Pf(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(){this.providerId=Kn.PROVIDER_ID}static credential(e,r){return Zi._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=Pf.parseLink(r);return z(n,"argument-error"),Zi._fromEmailAndCode(e,n.code,n.tenantId)}}Kn.PROVIDER_ID="password";Kn.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Kn.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po extends O0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends po{constructor(){super("facebook.com")}static credential(e){return Dn._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ar.credential(e.oauthAccessToken)}catch{return null}}}Ar.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ar.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends po{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Dn._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Rr.credential(r,n)}catch{return null}}}Rr.GOOGLE_SIGN_IN_METHOD="google.com";Rr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends po{constructor(){super("github.com")}static credential(e){return Dn._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $r.credential(e.oauthAccessToken)}catch{return null}}}$r.GITHUB_SIGN_IN_METHOD="github.com";$r.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends po{constructor(){super("twitter.com")}static credential(e,r){return Dn._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Dr.credential(r,n)}catch{return null}}}Dr.TWITTER_SIGN_IN_METHOD="twitter.com";Dr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JT(t,e){return ho(t,"POST","/v1/accounts:signUp",ln(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,s=!1){const i=await ir._fromIdTokenResponse(e,n,s),o=Zp(n);return new Ln({user:i,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const s=Zp(n);return new Ln({user:e,providerId:s,_tokenResponse:n,operationType:r})}}function Zp(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za extends At{constructor(e,r,n,s){var i;super(r.code,r.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,za.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,s){return new za(e,r,n,s)}}function A0(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?za._fromErrorAndOperation(t,i,e,n):i})}async function YT(t,e,r=!1){const n=await Us(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Ln._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R0(t,e,r=!1){const{auth:n}=t;if(zt(n.app))return Promise.reject(lr(n));const s="reauthenticate";try{const i=await Us(t,A0(n,s,e,t),r);z(i.idToken,n,"internal-error");const o=Cf(i.idToken);z(o,n,"internal-error");const{sub:a}=o;return z(t.uid===a,n,"user-mismatch"),Ln._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Pt(n,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $0(t,e,r=!1){if(zt(t.app))return Promise.reject(lr(t));const n="signIn",s=await A0(t,n,e),i=await Ln._fromIdTokenResponse(t,n,s);return r||await t._updateCurrentUser(i.user),i}async function QT(t,e){return $0(qn(t),e)}async function XT(t,e){return R0(Re(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D0(t){const e=qn(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ZT(t,e,r){if(zt(t.app))return Promise.reject(lr(t));const n=qn(t),o=await Xc(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",JT).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&D0(t),l}),a=await Ln._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(a.user),a}function e1(t,e,r){return zt(t.app)?Promise.reject(lr(t)):QT(Re(t),Kn.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&D0(t),n})}function t1(t,e){return r1(Re(t),null,e)}async function r1(t,e,r){const{auth:n}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};r&&(i.password=r);const o=await Us(t,zT(n,i));await t._updateTokensIfNecessary(o,!0)}function n1(t,e,r,n){return Re(t).onIdTokenChanged(e,r,n)}function s1(t,e,r){return Re(t).beforeAuthStateChanged(e,r)}function i1(t,e,r,n){return Re(t).onAuthStateChanged(e,r,n)}function o1(t){return Re(t).signOut()}const Ba="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Ba,"1"),this.storage.removeItem(Ba),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1=1e3,l1=10;class F0 extends L0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=C0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),s=this.localCache[r];n!==s&&e(r,s,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},i=this.storage.getItem(n);ST()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,l1):s()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},a1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}F0.type="LOCAL";const u1=F0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0 extends L0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}U0.type="SESSION";const M0=U0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(s=>s.isListeningto(e));if(r)return r;const n=new vl(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:s,data:i}=r.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const a=Array.from(o).map(async u=>u(r.origin,i)),l=await c1(a);r.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vl.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Of(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=Of("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},n);o={messageChannel:s,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(h.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:r},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(){return window}function f1(t){qt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(){return typeof qt().WorkerGlobalScope<"u"&&typeof qt().importScripts=="function"}async function h1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function p1(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function m1(){return z0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="firebaseLocalStorageDb",g1=1,Va="firebaseLocalStorage",V0="fbase_key";class mo{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function wl(t,e){return t.transaction([Va],e?"readwrite":"readonly").objectStore(Va)}function y1(){const t=indexedDB.deleteDatabase(B0);return new mo(t).toPromise()}function Zc(){const t=indexedDB.open(B0,g1);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Va,{keyPath:V0})}catch(s){r(s)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Va)?e(n):(n.close(),await y1(),e(await Zc()))})})}async function em(t,e,r){const n=wl(t,!0).put({[V0]:e,value:r});return new mo(n).toPromise()}async function v1(t,e){const r=wl(t,!1).get(e),n=await new mo(r).toPromise();return n===void 0?null:n.value}function tm(t,e){const r=wl(t,!0).delete(e);return new mo(r).toPromise()}const w1=800,_1=3;class H0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zc(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>_1)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return z0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vl._getInstance(m1()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await h1(),!this.activeServiceWorker)return;this.sender=new d1(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||p1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zc();return await em(e,Ba,"1"),await tm(e,Ba),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>em(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>v1(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>tm(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=wl(s,!1).getAll();return new mo(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),r.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),r.push(s));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),w1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}H0.type="LOCAL";const x1=H0;new fo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(t,e){return e?or(e):(z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af extends Nf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return js(e,this._buildIdpRequest())}_linkToIdToken(e,r){return js(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return js(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function S1(t){return $0(t.auth,new Af(t),t.bypassAuthState)}function E1(t){const{auth:e,user:r}=t;return z(r,e,"internal-error"),R0(r,new Af(t),t.bypassAuthState)}async function k1(t){const{auth:e,user:r}=t;return z(r,e,"internal-error"),YT(r,new Af(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,r,n,s,i=!1){this.auth=e,this.resolver=n,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return S1;case"linkViaPopup":case"linkViaRedirect":return k1;case"reauthViaPopup":case"reauthViaRedirect":return E1;default:Pt(this.auth,"internal-error")}}resolve(e){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1=new fo(2e3,1e4);class ws extends W0{constructor(e,r,n,s,i){super(e,r,s,i),this.provider=n,this.authWindow=null,this.pollId=null,ws.currentPopupAction&&ws.currentPopupAction.cancel(),ws.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return z(e,this.auth,"internal-error"),e}async onExecution(){mr(this.filter.length===1,"Popup operations only handle one event");const e=Of();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Wt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Wt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ws.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,T1.get())};e()}}ws.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="pendingRedirect",aa=new Map;class C1 extends W0{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=aa.get(this.auth._key());if(!e){try{const n=await j1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}aa.set(this.auth._key(),e)}return this.bypassAuthState||aa.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function j1(t,e){const r=O1(e),n=P1(t);if(!await n._isAvailable())return!1;const s=await n._get(r)==="true";return await n._remove(r),s}function N1(t,e){aa.set(t._key(),e)}function P1(t){return or(t._redirectPersistence)}function O1(t){return oa(I1,t.config.apiKey,t.name)}async function A1(t,e,r=!1){if(zt(t.app))return Promise.reject(lr(t));const n=qn(t),s=b1(n,e),o=await new C1(n,s,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1=10*60*1e3;class $1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!D1(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!q0(e)){const s=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Wt(this.auth,s))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=R1&&this.cachedEventUids.clear(),this.cachedEventUids.has(rm(e))}saveEventToCache(e){this.cachedEventUids.add(rm(e)),this.lastProcessedEventTime=Date.now()}}function rm(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function q0({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function D1(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return q0(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L1(t,e={}){return vr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,U1=/^https?/;async function M1(t){if(t.config.emulator)return;const{authorizedDomains:e}=await L1(t);for(const r of e)try{if(z1(r))return}catch{}Pt(t,"unauthorized-domain")}function z1(t){const e=Yc(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!U1.test(r))return!1;if(F1.test(t))return n===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1=new fo(3e4,6e4);function nm(){const t=qt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function V1(t){return new Promise((e,r)=>{var n,s,i;function o(){nm(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{nm(),r(Wt(t,"network-request-failed"))},timeout:B1.get()})}if(!((s=(n=qt().gapi)===null||n===void 0?void 0:n.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=qt().gapi)===null||i===void 0)&&i.load)o();else{const a=OT("iframefcb");return qt()[a]=()=>{gapi.load?o():r(Wt(t,"network-request-failed"))},N0(`${PT()}?onload=${a}`).catch(l=>r(l))}}).catch(e=>{throw la=null,e})}let la=null;function H1(t){return la=la||V1(t),la}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1=new fo(5e3,15e3),q1="__/auth/iframe",K1="emulator/auth/iframe",G1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},J1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Y1(t){const e=t.config;z(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?If(e,K1):`https://${t.config.authDomain}/${q1}`,n={apiKey:e.apiKey,appName:t.name,v:co},s=J1.get(t.config.apiHost);s&&(n.eid=s);const i=t._getFrameworks();return i.length&&(n.fw=i.join(",")),`${r}?${uo(n).slice(1)}`}async function Q1(t){const e=await H1(t),r=qt().gapi;return z(r,t,"internal-error"),e.open({where:document.body,url:Y1(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:G1,dontclear:!0},n=>new Promise(async(s,i)=>{await n.restyle({setHideOnLeave:!1});const o=Wt(t,"network-request-failed"),a=qt().setTimeout(()=>{i(o)},W1.get());function l(){qt().clearTimeout(a),s(n)}n.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Z1=500,eI=600,tI="_blank",rI="http://localhost";class sm{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nI(t,e,r,n=Z1,s=eI){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let a="";const l=Object.assign(Object.assign({},X1),{width:n.toString(),height:s.toString(),top:i,left:o}),u=Fe().toLowerCase();r&&(a=S0(u)?tI:r),x0(u)&&(e=e||rI,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[g,y])=>`${h}${g}=${y},`,"");if(bT(u)&&a!=="_self")return sI(e||"",a),new sm(null);const f=window.open(e||"",a,d);z(f,t,"popup-blocked");try{f.focus()}catch{}return new sm(f)}function sI(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI="__/auth/handler",oI="emulator/auth/handler",aI=encodeURIComponent("fac");async function im(t,e,r,n,s,i){z(t.config.authDomain,t,"auth-domain-config-required"),z(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:co,eventId:s};if(e instanceof O0){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",VE(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof po){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${aI}=${encodeURIComponent(l)}`:"";return`${lI(t)}?${uo(a).slice(1)}${u}`}function lI({config:t}){return t.emulator?If(t,oI):`https://${t.authDomain}/${iI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu="webStorageSupport";class uI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=M0,this._completeRedirectFn=A1,this._overrideRedirectResult=N1}async _openPopup(e,r,n,s){var i;mr((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await im(e,r,n,Yc(),s);return nI(e,o,Of())}async _openRedirect(e,r,n,s){await this._originValidation(e);const i=await im(e,r,n,Yc(),s);return f1(i),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:s,promise:i}=this.eventManagers[r];return s?Promise.resolve(s):(mr(i,"If manager is not set, promise should be"),i)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await Q1(e),n=new $1(e);return r.register("authEvent",s=>(z(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Pu,{type:Pu},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Pu];o!==void 0&&r(!!o),Pt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=M1(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return C0()||b0()||jf()}}const cI=uI;var om="@firebase/auth",am="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hI(t){Gt(new Nt("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=n.options;z(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:j0(t)},u=new CT(n,s,i,l);return LT(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Gt(new Nt("auth-internal",e=>{const r=qn(e.getProvider("auth").getImmediate());return(n=>new dI(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),mt(om,am,fI(t)),mt(om,am,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI=5*60,mI=r0("authIdTokenMaxAge")||pI;let lm=null;const gI=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>mI)return;const s=r==null?void 0:r.token;lm!==s&&(lm=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function K0(t=Ef()){const e=Wn(t,"auth");if(e.isInitialized())return e.getImmediate();const r=DT(t,{popupRedirectResolver:cI,persistence:[x1,u1,M0]}),n=r0("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(n,location.origin);if(location.origin===i.origin){const o=gI(i.toString());s1(r,o,()=>o(r.currentUser)),n1(r,a=>o(a))}}const s=e0("auth");return s&&FT(r,`http://${s}`),r}function yI(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}jT({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=s=>{const i=Wt("internal-error");i.customData=s,r(i)},n.type="text/javascript",n.charset="UTF-8",yI().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hI("Browser");var vI="firebase",wI="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mt(vI,wI,"app");const G0="@firebase/installations",Rf="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0=1e4,Y0=`w:${Rf}`,Q0="FIS_v2",_I="https://firebaseinstallations.googleapis.com/v1",xI=60*60*1e3,bI="installations",SI="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Fn=new Hn(bI,SI,EI);function X0(t){return t instanceof At&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0({projectId:t}){return`${_I}/projects/${t}/installations`}function ew(t){return{token:t.token,requestStatus:2,expiresIn:TI(t.expiresIn),creationTime:Date.now()}}async function tw(t,e){const n=(await e.json()).error;return Fn.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function rw({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function kI(t,{refreshToken:e}){const r=rw(t);return r.append("Authorization",II(e)),r}async function nw(t){const e=await t();return e.status>=500&&e.status<600?t():e}function TI(t){return Number(t.replace("s","000"))}function II(t){return`${Q0} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CI({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=Z0(t),s=rw(t),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={fid:r,authVersion:Q0,appId:t.appId,sdkVersion:Y0},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await nw(()=>fetch(n,a));if(l.ok){const u=await l.json();return{fid:u.fid||r,registrationStatus:2,refreshToken:u.refreshToken,authToken:ew(u.authToken)}}else throw await tw("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=/^[cdef][\w-]{21}$/,ed="";function PI(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=OI(t);return NI.test(r)?r:ed}catch{return ed}}function OI(t){return jI(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw=new Map;function ow(t,e){const r=_l(t);aw(r,e),AI(r,e)}function aw(t,e){const r=iw.get(t);if(r)for(const n of r)n(e)}function AI(t,e){const r=RI();r&&r.postMessage({key:t,fid:e}),$I()}let kn=null;function RI(){return!kn&&"BroadcastChannel"in self&&(kn=new BroadcastChannel("[Firebase] FID Change"),kn.onmessage=t=>{aw(t.data.key,t.data.fid)}),kn}function $I(){iw.size===0&&kn&&(kn.close(),kn=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI="firebase-installations-database",LI=1,Un="firebase-installations-store";let Ou=null;function $f(){return Ou||(Ou=l0(DI,LI,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Un)}}})),Ou}async function Ha(t,e){const r=_l(t),s=(await $f()).transaction(Un,"readwrite"),i=s.objectStore(Un),o=await i.get(r);return await i.put(e,r),await s.done,(!o||o.fid!==e.fid)&&ow(t,e.fid),e}async function lw(t){const e=_l(t),n=(await $f()).transaction(Un,"readwrite");await n.objectStore(Un).delete(e),await n.done}async function xl(t,e){const r=_l(t),s=(await $f()).transaction(Un,"readwrite"),i=s.objectStore(Un),o=await i.get(r),a=e(o);return a===void 0?await i.delete(r):await i.put(a,r),await s.done,a&&(!o||o.fid!==a.fid)&&ow(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Df(t){let e;const r=await xl(t.appConfig,n=>{const s=FI(n),i=UI(t,s);return e=i.registrationPromise,i.installationEntry});return r.fid===ed?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function FI(t){const e=t||{fid:PI(),registrationStatus:0};return uw(e)}function UI(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Fn.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=MI(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:zI(t)}:{installationEntry:e}}async function MI(t,e){try{const r=await CI(t,e);return Ha(t.appConfig,r)}catch(r){throw X0(r)&&r.customData.serverCode===409?await lw(t.appConfig):await Ha(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function zI(t){let e=await um(t.appConfig);for(;e.registrationStatus===1;)await sw(100),e=await um(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await Df(t);return n||r}return e}function um(t){return xl(t,e=>{if(!e)throw Fn.create("installation-not-found");return uw(e)})}function uw(t){return BI(t)?{fid:t.fid,registrationStatus:0}:t}function BI(t){return t.registrationStatus===1&&t.registrationTime+J0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VI({appConfig:t,heartbeatServiceProvider:e},r){const n=HI(t,r),s=kI(t,r),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={installation:{sdkVersion:Y0,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await nw(()=>fetch(n,a));if(l.ok){const u=await l.json();return ew(u)}else throw await tw("Generate Auth Token",l)}function HI(t,{fid:e}){return`${Z0(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lf(t,e=!1){let r;const n=await xl(t.appConfig,i=>{if(!cw(i))throw Fn.create("not-registered");const o=i.authToken;if(!e&&KI(o))return i;if(o.requestStatus===1)return r=WI(t,e),i;{if(!navigator.onLine)throw Fn.create("app-offline");const a=JI(i);return r=qI(t,a),a}});return r?await r:n.authToken}async function WI(t,e){let r=await cm(t.appConfig);for(;r.authToken.requestStatus===1;)await sw(100),r=await cm(t.appConfig);const n=r.authToken;return n.requestStatus===0?Lf(t,e):n}function cm(t){return xl(t,e=>{if(!cw(e))throw Fn.create("not-registered");const r=e.authToken;return YI(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function qI(t,e){try{const r=await VI(t,e),n=Object.assign(Object.assign({},e),{authToken:r});return await Ha(t.appConfig,n),r}catch(r){if(X0(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await lw(t.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Ha(t.appConfig,n)}throw r}}function cw(t){return t!==void 0&&t.registrationStatus===2}function KI(t){return t.requestStatus===2&&!GI(t)}function GI(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+xI}function JI(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function YI(t){return t.requestStatus===1&&t.requestTime+J0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QI(t){const e=t,{installationEntry:r,registrationPromise:n}=await Df(e);return n?n.catch(console.error):Lf(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XI(t,e=!1){const r=t;return await ZI(r),(await Lf(r,e)).token}async function ZI(t){const{registrationPromise:e}=await Df(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(t){if(!t||!t.options)throw Au("App Configuration");if(!t.name)throw Au("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw Au(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Au(t){return Fn.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw="installations",tC="installations-internal",rC=t=>{const e=t.getProvider("app").getImmediate(),r=eC(e),n=Wn(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},nC=t=>{const e=t.getProvider("app").getImmediate(),r=Wn(e,dw).getImmediate();return{getId:()=>QI(r),getToken:s=>XI(r,s)}};function sC(){Gt(new Nt(dw,rC,"PUBLIC")),Gt(new Nt(tC,nC,"PRIVATE"))}sC();mt(G0,Rf);mt(G0,Rf,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa="analytics",iC="firebase_id",oC="origin",aC=60*1e3,lC="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ff="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe=new bf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},nt=new Hn("analytics","Analytics",uC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(t){if(!t.startsWith(Ff)){const e=nt.create("invalid-gtag-resource",{gtagURL:t});return Qe.warn(e.message),""}return t}function fw(t){return Promise.all(t.map(e=>e.catch(r=>r)))}function dC(t,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(t,e)),r}function fC(t,e){const r=dC("firebase-js-sdk-policy",{createScriptURL:cC}),n=document.createElement("script"),s=`${Ff}?l=${t}&id=${e}`;n.src=r?r==null?void 0:r.createScriptURL(s):s,n.async=!0,document.head.appendChild(n)}function hC(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function pC(t,e,r,n,s,i){const o=n[s];try{if(o)await e[o];else{const l=(await fw(r)).find(u=>u.measurementId===s);l&&await e[l.appId]}}catch(a){Qe.error(a)}t("config",s,i)}async function mC(t,e,r,n,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await fw(r);for(const l of o){const u=a.find(f=>f.measurementId===l),d=u&&e[u.appId];if(d)i.push(d);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",n,s||{})}catch(i){Qe.error(i)}}function gC(t,e,r,n){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await mC(t,e,r,a,l)}else if(i==="config"){const[a,l]=o;await pC(t,e,r,n,a,l)}else if(i==="consent"){const[a,l]=o;t("consent",a,l)}else if(i==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){Qe.error(a)}}return s}function yC(t,e,r,n,s){let i=function(...o){window[n].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=gC(i,t,e,r),{gtagCore:i,wrappedGtag:window[s]}}function vC(t){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(Ff)&&r.src.includes(t))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=30,_C=1e3;class xC{constructor(e={},r=_C){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const hw=new xC;function bC(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function SC(t){var e;const{appId:r,apiKey:n}=t,s={method:"GET",headers:bC(n)},i=lC.replace("{app-id}",r),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw nt.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function EC(t,e=hw,r){const{appId:n,apiKey:s,measurementId:i}=t.options;if(!n)throw nt.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:n};throw nt.create("no-api-key")}const o=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new IC;return setTimeout(async()=>{a.abort()},aC),pw({appId:n,apiKey:s,measurementId:i},o,a,e)}async function pw(t,{throttleEndTimeMillis:e,backoffCount:r},n,s=hw){var i;const{appId:o,measurementId:a}=t;try{await kC(n,e)}catch(l){if(a)return Qe.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await SC(t);return s.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!TC(u)){if(s.deleteThrottleMetadata(o),a)return Qe.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const d=Number((i=u==null?void 0:u.customData)===null||i===void 0?void 0:i.httpStatus)===503?$p(r,s.intervalMillis,wC):$p(r,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+d,backoffCount:r+1};return s.setThrottleMetadata(o,f),Qe.debug(`Calling attemptFetch again in ${d} millis`),pw(t,f,n,s)}}function kC(t,e){return new Promise((r,n)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(r,s);t.addEventListener(()=>{clearTimeout(i),n(nt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function TC(t){if(!(t instanceof At)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class IC{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function CC(t,e,r,n,s){if(s&&s.global){t("event",r,n);return}else{const i=await e,o=Object.assign(Object.assign({},n),{send_to:i});t("event",r,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jC(){if(s0())try{await i0()}catch(t){return Qe.warn(nt.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Qe.warn(nt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function NC(t,e,r,n,s,i,o){var a;const l=EC(t);l.then(g=>{r[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&Qe.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>Qe.error(g)),e.push(l);const u=jC().then(g=>{if(g)return n.getId()}),[d,f]=await Promise.all([l,u]);vC(i)||fC(i,d.measurementId),s("js",new Date);const h=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return h[oC]="firebase",h.update=!0,f!=null&&(h[iC]=f),s("config",d.measurementId,h),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e){this.app=e}_delete(){return delete Ti[this.app.options.appId],Promise.resolve()}}let Ti={},dm=[];const fm={};let Ru="dataLayer",OC="gtag",hm,mw,pm=!1;function AC(){const t=[];if(n0()&&t.push("This is a browser extension environment."),UE()||t.push("Cookies are not available."),t.length>0){const e=t.map((n,s)=>`(${s+1}) ${n}`).join(" "),r=nt.create("invalid-analytics-context",{errorInfo:e});Qe.warn(r.message)}}function RC(t,e,r){AC();const n=t.options.appId;if(!n)throw nt.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Qe.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw nt.create("no-api-key");if(Ti[n]!=null)throw nt.create("already-exists",{id:n});if(!pm){hC(Ru);const{wrappedGtag:i,gtagCore:o}=yC(Ti,dm,fm,Ru,OC);mw=i,hm=o,pm=!0}return Ti[n]=NC(t,dm,fm,e,hm,Ru,r),new PC(t)}function $C(t=Ef()){t=Re(t);const e=Wn(t,Wa);return e.isInitialized()?e.getImmediate():DC(t)}function DC(t,e={}){const r=Wn(t,Wa);if(r.isInitialized()){const s=r.getImmediate();if(Qi(e,r.getOptions()))return s;throw nt.create("already-initialized")}return r.initialize({options:e})}function LC(t,e,r,n){t=Re(t),CC(mw,Ti[t.app.options.appId],e,r,n).catch(s=>Qe.error(s))}const mm="@firebase/analytics",gm="0.10.8";function FC(){Gt(new Nt(Wa,(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return RC(n,s,r)},"PUBLIC")),Gt(new Nt("analytics-internal",t,"PRIVATE")),mt(mm,gm),mt(mm,gm,"esm2017");function t(e){try{const r=e.getProvider(Wa).getImmediate();return{logEvent:(n,s,i)=>LC(r,n,s,i)}}catch(r){throw nt.create("interop-component-reg-failed",{reason:r})}}}FC();const UC={apiKey:"AIzaSyDHjkB9XX8tHc1GSeYofMgg9ckqeMtgZmg",authDomain:"leadlines-portal.firebaseapp.com",projectId:"leadlines-portal",storageBucket:"leadlines-portal.firebasestorage.app",messagingSenderId:"966858129098",appId:"1:966858129098:web:96ee31a034cccb1a8bbe33",measurementId:"G-05EYVQS5E8"},gw=u0(UC),Mo=K0(gw);$C(gw);const MC="modulepreload",zC=function(t,e){return new URL(t,e).href},ym={},Ms=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(u=>{if(u=zC(u,n),u in ym)return;ym[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(!!n)for(let y=o.length-1;y>=0;y--){const _=o[y];if(_.href===u&&(!d||_.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${f}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":MC,d||(g.as="script"),g.crossOrigin="",g.href=u,l&&g.setAttribute("nonce",l),document.head.appendChild(g),d)return new Promise((y,_)=>{g.addEventListener("load",y),g.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},BC=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ms(async()=>{const{default:n}=await Promise.resolve().then(()=>Js);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};let Uf=class extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}};class VC extends Uf{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class HC extends Uf{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class WC extends Uf{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var td;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(td||(td={}));var qC=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};class KC{constructor(e,{headers:r={},customFetch:n,region:s=td.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=BC(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return qC(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let a={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:u}).catch(y=>{throw new VC(y)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new HC(d);if(!d.ok)throw new WC(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return h==="application/json"?g=yield d.json():h==="application/octet-stream"?g=yield d.blob():h==="text/event-stream"?g=d:h==="multipart/form-data"?g=yield d.formData():g=yield d.text(),{data:g,error:null}}catch(s){return{data:null,error:s}}})}}var We={},Mf={},bl={},go={},Sl={},El={},GC=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},zs=GC();const JC=zs.fetch,yw=zs.fetch.bind(zs),vw=zs.Headers,YC=zs.Request,QC=zs.Response,Js=Object.freeze(Object.defineProperty({__proto__:null,Headers:vw,Request:YC,Response:QC,default:yw,fetch:JC},Symbol.toStringTag,{value:"Module"})),XC=Y_(Js);var kl={};Object.defineProperty(kl,"__esModule",{value:!0});let ZC=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};kl.default=ZC;var ww=gt&&gt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(El,"__esModule",{value:!0});const ej=ww(XC),tj=ww(kl);let rj=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=ej.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,d=null,f=null,h=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=p:d=JSON.parse(p))}const _=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),x=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");_&&x&&x.length>1&&(f=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const _=await i.text();try{u=JSON.parse(_),Array.isArray(u)&&i.status===404&&(d=[],u=null,h=200,g="OK")}catch{i.status===404&&_===""?(h=204,g="No Content"):u={message:_}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,h=200,g="OK"),u&&this.shouldThrowOnError)throw new tj.default(u)}return{error:u,data:d,count:f,status:h,statusText:g}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};El.default=rj;var nj=gt&&gt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Sl,"__esModule",{value:!0});const sj=nj(El);let ij=class extends sj.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Sl.default=ij;var oj=gt&&gt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(go,"__esModule",{value:!0});const aj=oj(Sl);let lj=class extends aj.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};go.default=lj;var uj=gt&&gt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bl,"__esModule",{value:!0});const oi=uj(go);let cj=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=r,this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new oi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new oi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new oi.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new oi.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new oi.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};bl.default=cj;var Tl={},Il={};Object.defineProperty(Il,"__esModule",{value:!0});Il.version=void 0;Il.version="0.0.0-automated";Object.defineProperty(Tl,"__esModule",{value:!0});Tl.DEFAULT_HEADERS=void 0;const dj=Il;Tl.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${dj.version}`};var _w=gt&&gt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Mf,"__esModule",{value:!0});const fj=_w(bl),hj=_w(go),pj=Tl;let mj=class xw{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},pj.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new fj.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new xw(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{a.searchParams.append(d,f)})):(o="POST",l=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new hj.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Mf.default=mj;var Ys=gt&&gt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(We,"__esModule",{value:!0});We.PostgrestError=We.PostgrestBuilder=We.PostgrestTransformBuilder=We.PostgrestFilterBuilder=We.PostgrestQueryBuilder=We.PostgrestClient=void 0;const bw=Ys(Mf);We.PostgrestClient=bw.default;const Sw=Ys(bl);We.PostgrestQueryBuilder=Sw.default;const Ew=Ys(go);We.PostgrestFilterBuilder=Ew.default;const kw=Ys(Sl);We.PostgrestTransformBuilder=kw.default;const Tw=Ys(El);We.PostgrestBuilder=Tw.default;const Iw=Ys(kl);We.PostgrestError=Iw.default;var gj=We.default={PostgrestClient:bw.default,PostgrestQueryBuilder:Sw.default,PostgrestFilterBuilder:Ew.default,PostgrestTransformBuilder:kw.default,PostgrestBuilder:Tw.default,PostgrestError:Iw.default};const{PostgrestClient:yj,PostgrestQueryBuilder:AD,PostgrestFilterBuilder:RD,PostgrestTransformBuilder:$D,PostgrestBuilder:DD,PostgrestError:LD}=gj,vj="2.11.2",wj={"X-Client-Info":`realtime-js/${vj}`},_j="1.0.0",Cw=1e4,xj=1e3;var Ns;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ns||(Ns={}));var Ze;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ze||(Ze={}));var kt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(kt||(kt={}));var rd;(function(t){t.websocket="websocket"})(rd||(rd={}));var xn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(xn||(xn={}));class bj{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+s));o=o+s;const l=n.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class jw{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var re;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(re||(re={}));const vm=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=Sj(o,t,e,s),i),{})},Sj=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?Nw(i,o):nd(o)},Nw=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Ij(e,r)}switch(t){case re.bool:return Ej(e);case re.float4:case re.float8:case re.int2:case re.int4:case re.int8:case re.numeric:case re.oid:return kj(e);case re.json:case re.jsonb:return Tj(e);case re.timestamp:return Cj(e);case re.abstime:case re.date:case re.daterange:case re.int4range:case re.int8range:case re.money:case re.reltime:case re.text:case re.time:case re.timestamptz:case re.timetz:case re.tsrange:case re.tstzrange:return nd(e);default:return nd(e)}},nd=t=>t,Ej=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},kj=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Tj=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Ij=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Nw(e,a))}return t},Cj=t=>typeof t=="string"?t.replace(" ","T"):t,Pw=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class $u{constructor(e,r,n={},s=Cw){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var wm;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(wm||(wm={}));class Ii{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ii.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Ii.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ii.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(x=>x.presence_ref),g=f.map(x=>x.presence_ref),y=d.filter(x=>g.indexOf(x.presence_ref)<0),_=f.filter(x=>h.indexOf(x.presence_ref)<0);y.length>0&&(a[u]=y),_.length>0&&(l[u]=_)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const d=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),d.length>0){const f=e[a].map(g=>g.presence_ref),h=d.filter(g=>f.indexOf(g.presence_ref)<0);e[a].unshift(...h)}n(a,d,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const d=l.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),e[a]=u,s(a,u,l),u.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var _m;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(_m||(_m={}));var xm;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(xm||(xm={}));var Zt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Zt||(Zt={}));class zf{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Ze.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new $u(this,kt.join,this.params,this.timeout),this.rejoinTimer=new jw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ze.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ze.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ze.errored,this.rejoinTimer.scheduleTimeout())}),this._on(kt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Ii(this),this.broadcastEndpointURL=Pw(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(d=>e==null?void 0:e(Zt.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(Zt.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){e==null||e(Zt.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,g=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,y=[];for(let _=0;_<g;_++){const x=h[_],{filter:{event:p,schema:m,table:v,filter:E}}=x,T=d&&d[_];if(T&&T.event===p&&T.schema===m&&T.table===v&&T.filter===E)y.push(Object.assign(Object.assign({},x),{id:T.id}));else{this.unsubscribe(),e==null||e(Zt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(Zt.SUBSCRIBED);return}}).receive("error",d=>{e==null||e(Zt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Zt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ze.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(kt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new $u(this,kt.leave,{},e);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new $u(this,e,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:d}=kt;if(n&&[a,l,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var y,_,x;return((y=g.filter)===null||y===void 0?void 0:y.event)==="*"||((x=(_=g.filter)===null||_===void 0?void 0:_.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(g=>g.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var y,_,x,p,m,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const E=g.id,T=(y=g.filter)===null||y===void 0?void 0:y.event;return E&&((_=r.ids)===null||_===void 0?void 0:_.includes(E))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const E=(m=(p=g==null?void 0:g.filter)===null||p===void 0?void 0:p.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return E==="*"||E===((v=r==null?void 0:r.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:_,table:x,commit_timestamp:p,type:m,errors:v}=y;h=Object.assign(Object.assign({},{schema:_,table:x,commit_timestamp:p,eventType:m,new:{},old:{},errors:v}),this._getPayloadRecords(y))}g.callback(h,n)})}_isClosed(){return this.state===Ze.closed}_isJoined(){return this.state===Ze.joined}_isJoining(){return this.state===Ze.joining}_isLeaving(){return this.state===Ze.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&zf.isEqual(s.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(kt.close,{},e)}_onError(e){this._on(kt.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ze.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=vm(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=vm(e.columns,e.old_record)),r}}const jj=()=>{},Nj=typeof WebSocket<"u",Pj=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Oj{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=wj,this.params={},this.timeout=Cw,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=jj,this.conn=null,this.sendBuffer=[],this.serializer=new bj,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Ms(async()=>{const{default:l}=await Promise.resolve().then(()=>Js);return{default:l}},void 0,import.meta.url).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${rd.websocket}`,this.httpEndpoint=Pw(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new jw(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Nj){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Aj(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Ms(async()=>{const{default:e}=await import("./browser-BKDCo8vg.js").then(r=>r.b);return{default:e}},[],import.meta.url).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:_j}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ns.connecting:return xn.Connecting;case Ns.open:return xn.Open;case Ns.closing:return xn.Closing;default:return xn.Closed}}isConnected(){return this.connectionState()===xn.Open}channel(e,r={config:{}}){const n=new zf(`realtime:${e}`,r,this);return this.channels.push(n),n}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(kt.access_token,{access_token:r})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(xj,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(n)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(kt.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Pj],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Aj{constructor(e,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ns.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class Bf extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function xe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Rj extends Bf{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class sd extends Bf{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var $j=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const Ow=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ms(async()=>{const{default:n}=await Promise.resolve().then(()=>Js);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Dj=()=>$j(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ms(()=>Promise.resolve().then(()=>Js),void 0,import.meta.url)).Response:Response}),id=t=>{if(Array.isArray(t))return t.map(r=>id(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=id(n)}),e};var Gn=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const Du=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Lj=(t,e,r)=>Gn(void 0,void 0,void 0,function*(){const n=yield Dj();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{e(new Rj(Du(s),t.status||500))}).catch(s=>{e(new sd(Du(s),s))}):e(new sd(Du(t),t))}),Fj=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function yo(t,e,r,n,s,i){return Gn(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,Fj(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Lj(l,a,n))})})}function qa(t,e,r,n){return Gn(this,void 0,void 0,function*(){return yo(t,"GET",e,r,n)})}function jr(t,e,r,n,s){return Gn(this,void 0,void 0,function*(){return yo(t,"POST",e,n,s,r)})}function Uj(t,e,r,n,s){return Gn(this,void 0,void 0,function*(){return yo(t,"PUT",e,n,s,r)})}function Mj(t,e,r,n){return Gn(this,void 0,void 0,function*(){return yo(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Aw(t,e,r,n,s){return Gn(this,void 0,void 0,function*(){return yo(t,"DELETE",e,n,s,r)})}var ze=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const zj={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},bm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Bj{constructor(e,r={},n,s){this.url=e,this.headers=r,this.bucketId=n,this.fetch=Ow(s)}uploadOrUpdate(e,r,n,s){return ze(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},bm),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(xe(i))return{data:null,error:i};throw i}})}upload(e,r,n){return ze(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return ze(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:bm.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(xe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return ze(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield jr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Bf("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}})}update(e,r,n){return ze(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return ze(this,void 0,void 0,function*(){try{return{data:yield jr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(xe(s))return{data:null,error:s};throw s}})}copy(e,r,n){return ze(this,void 0,void 0,function*(){try{return{data:{path:(yield jr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(xe(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return ze(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield jr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(xe(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return ze(this,void 0,void 0,function*(){try{const s=yield jr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(xe(s))return{data:null,error:s};throw s}})}download(e,r){return ze(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield qa(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(xe(a))return{data:null,error:a};throw a}})}info(e){return ze(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield qa(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:id(n),error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}})}exists(e){return ze(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Mj(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(xe(n)&&n instanceof sd){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(e){return ze(this,void 0,void 0,function*(){try{return{data:yield Aw(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}})}list(e,r,n){return ze(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},zj),r),{prefix:e||""});return{data:yield jr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(xe(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Vj="2.7.1",Hj={"X-Client-Info":`storage-js/${Vj}`};var rs=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};class Wj{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},Hj),r),this.fetch=Ow(n)}listBuckets(){return rs(this,void 0,void 0,function*(){try{return{data:yield qa(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(xe(e))return{data:null,error:e};throw e}})}getBucket(e){return rs(this,void 0,void 0,function*(){try{return{data:yield qa(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return rs(this,void 0,void 0,function*(){try{return{data:yield jr(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return rs(this,void 0,void 0,function*(){try{return{data:yield Uj(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}})}emptyBucket(e){return rs(this,void 0,void 0,function*(){try{return{data:yield jr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}})}deleteBucket(e){return rs(this,void 0,void 0,function*(){try{return{data:yield Aw(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}})}}class qj extends Wj{constructor(e,r={},n){super(e,r,n)}from(e){return new Bj(this.url,this.headers,e,this.fetch)}}const Kj="2.49.4";let pi="";typeof Deno<"u"?pi="deno":typeof document<"u"?pi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?pi="react-native":pi="node";const Gj={"X-Client-Info":`supabase-js-${pi}/${Kj}`},Jj={headers:Gj},Yj={schema:"public"},Qj={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Xj={};var Zj=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const eN=t=>{let e;return t?e=t:typeof fetch>"u"?e=yw:e=fetch,(...r)=>e(...r)},tN=()=>typeof Headers>"u"?vw:Headers,rN=(t,e,r)=>{const n=eN(r),s=tN();return(i,o)=>Zj(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var nN=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};function sN(t){return t.replace(/\/$/,"")}function iN(t,e){const{db:r,auth:n,realtime:s,global:i}=t,{db:o,auth:a,realtime:l,global:u}=e,d={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},a),n),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},u),i),accessToken:()=>nN(this,void 0,void 0,function*(){return""})};return t.accessToken?d.accessToken=t.accessToken:delete d.accessToken,d}const Rw="2.69.1",os=30*1e3,od=3,Lu=od*os,oN="http://localhost:9999",aN="supabase.auth.token",lN={"X-Client-Info":`gotrue-js/${Rw}`},ad="X-Supabase-Api-Version",$w={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},uN=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,cN=6e5;class Vf extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function B(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class dN extends Vf{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function fN(t){return B(t)&&t.name==="AuthApiError"}class Dw extends Vf{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class un extends Vf{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class kr extends un{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function hN(t){return B(t)&&t.name==="AuthSessionMissingError"}class Fu extends un{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class zo extends un{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Bo extends un{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function pN(t){return B(t)&&t.name==="AuthImplicitGrantRedirectError"}class Sm extends un{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ld extends un{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Uu(t){return B(t)&&t.name==="AuthRetryableFetchError"}class Em extends un{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Ci extends un{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const km="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Tm=` 	
\r=`.split(""),mN=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Tm.length;e+=1)t[Tm[e].charCodeAt(0)]=-2;for(let e=0;e<km.length;e+=1)t[km[e].charCodeAt(0)]=e;return t})();function Lw(t,e,r){const n=mN[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Im(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{vN(o,n,r)};for(let o=0;o<t.length;o+=1)Lw(t.charCodeAt(o),s,i);return e.join("")}function gN(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function yN(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}gN(n,e)}}function vN(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function wN(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Lw(t.charCodeAt(s),r,n);return new Uint8Array(e)}function _N(t){const e=[];return yN(t,r=>e.push(r)),new Uint8Array(e)}function xN(t){return Math.round(Date.now()/1e3)+t}function bN(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Lt=()=>typeof window<"u"&&typeof document<"u",pn={tested:!1,writable:!1},ji=()=>{if(!Lt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(pn.tested)return pn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),pn.tested=!0,pn.writable=!0}catch{pn.tested=!0,pn.writable=!1}return pn.writable};function SN(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Fw=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ms(async()=>{const{default:n}=await Promise.resolve().then(()=>Js);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},EN=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Uw=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Vo=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ho=async(t,e)=>{await t.removeItem(e)};class Cl{constructor(){this.promise=new Cl.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Cl.promiseConstructor=Promise;function Mu(t){const e=t.split(".");if(e.length!==3)throw new Ci("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!uN.test(e[n]))throw new Ci("JWT not in base64url format");return{header:JSON.parse(Im(e[0])),payload:JSON.parse(Im(e[1])),signature:wN(e[2]),raw:{header:e[0],payload:e[1]}}}async function kN(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function TN(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function IN(t){return("0"+t.toString(16)).substr(-2)}function CN(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,IN).join("")}async function jN(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function NN(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await jN(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ns(t,e,r=!1){const n=CN();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Uw(t,`${e}-code-verifier`,s);const i=await NN(n);return[i,n===i?"plain":"s256"]}const PN=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ON(t){const e=t.headers.get(ad);if(!e||!e.match(PN))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function AN(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function RN(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var $N=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const _n=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),DN=[502,503,504];async function Cm(t){var e;if(!EN(t))throw new ld(_n(t),0);if(DN.includes(t.status))throw new ld(_n(t),t.status);let r;try{r=await t.json()}catch(i){throw new Dw(_n(i),i)}let n;const s=ON(t);if(s&&s.getTime()>=$w["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Em(_n(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new kr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Em(_n(r),t.status,r.weak_password.reasons);throw new dN(_n(r),t.status||500,n)}const LN=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function q(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[ad]||(i[ad]=$w["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await FN(t,e,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function FN(t,e,r,n,s,i){const o=LN(e,n,s,i);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new ld(_n(l),0)}if(a.ok||await Cm(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await Cm(l)}}function Tr(t){var e;let r=null;BN(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=xN(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function jm(t){const e=Tr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Lr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function UN(t){return{data:t,error:null}}function MN(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=$N(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function zN(t){return t}function BN(t){return t.access_token&&t.refresh_token&&t.expires_in}var VN=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class HN{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Fw(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r="global"){try{return await q(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await q(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Lr})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=VN(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await q(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:MN,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(B(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await q(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Lr})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await q(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:zN});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(y=>{const _=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(y.split(";")[1].split("=")[1]);u[`${x}Page`]=_}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(B(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await q(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Lr})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){try{return await q(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Lr})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){try{return await q(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Lr})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:r,error:n}=await q(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(B(r))return{data:null,error:r};throw r}}async _deleteFactor(e){try{return{data:await q(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}}}const WN={getItem:t=>ji()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{ji()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{ji()&&globalThis.localStorage.removeItem(t)}};function Nm(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function qN(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ss={debug:!!(globalThis&&ji()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Mw extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class KN extends Mw{}async function GN(t,e,r){ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),ss.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new KN(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ss.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}qN();const JN={url:oN,storageKey:aN,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:lN,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Pm(t,e,r){return await r()}class eo{constructor(e){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=eo.nextInstanceID,eo.nextInstanceID+=1,this.instanceID>0&&Lt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},JN),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new HN({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Fw(s.fetch),this.lock=s.lock||Pm,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Lt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=GN:this.lock=Pm,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:ji()?this.storage=WN:(this.memoryStorage={},this.storage=Nm(this.memoryStorage)):(this.memoryStorage={},this.storage=Nm(this.memoryStorage)),Lt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Rw}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=SN(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Lt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),pN(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return B(r)?{error:r}:{error:new Dw("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Tr}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(B(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:f,options:h}=e;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await ns(this.storage,this.storageKey)),i=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:y},xform:Tr})}else if("phone"in e){const{phone:d,password:f,options:h}=e;i=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Tr})}else throw new zo("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(B(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:jm})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:jm})}else throw new zo("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Fu}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(B(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const r=await Vo(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await q(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Tr});if(await Ho(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Fu}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(B(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,a=await q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Tr}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Fu}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(B(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ns(this.storage,this.storageKey));const{error:f}=await q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:d}=await q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new zo("You must provide either an email or phone number.")}catch(a){if(B(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await q(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Tr});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(B(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await ns(this.storage,this.storageKey)),await q(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:UN})}catch(i){if(B(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new kr;const{error:s}=await q(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(B(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await q(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:a}=await q(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new zo("You must provide either an email or phone number and a type")}catch(r){if(B(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Vo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Lu:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Lr}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new kr}:await q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Lr})})}catch(r){if(B(r))return hN(r)&&(await this._removeSession(),await Ho(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new kr;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await ns(this.storage,this.storageKey));const{data:u,error:d}=await q(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Lr});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new kr;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Mu(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(B(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new kr;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(B(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Lt())throw new Bo("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Bo(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Sm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Bo("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Sm("No code detected.");const{data:m,error:v}=await this._exchangeCodeForSession(e.code);if(v)throw v;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new Bo("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let h=d+f;l&&(h=parseInt(l));const g=h-d;g*1e3<=os&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const y=h-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,d);const{data:_,error:x}=await this._getUser(i);if(x)throw x;const p={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:e.type},error:null}}catch(n){if(B(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Vo(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(fN(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Ho(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=bN(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await ns(this.storage,this.storageKey,!0));try{return await q(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(B(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,u,d;const{data:f,error:h}=i;if(h)throw h;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await q(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Lt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(B(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await q(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(B(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await TN(async s=>(s>0&&await kN(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await q(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Tr})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Uu(i)&&Date.now()+o-n<os})}catch(n){if(this._debug(r,"error",n),B(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Lt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Vo(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Lu;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Lu}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Uu(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new kr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Cl;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new kr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),B(i)){const o={session:null,error:i};return Uu(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Uw(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Ho(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Lt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),os);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/os);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${os}ms, refresh threshold is ${od} ticks`),s<=od&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Mw)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Lt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await ns(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await q(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(B(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await q(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(B(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await q(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(B(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await q(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(B(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Mu(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n||(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+cN>Date.now()))return n;const{data:s,error:i}=await q(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Ci("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(o=>o.kid===e),!n)throw new Ci("No matching signing key found in JWKS");return n}async getClaims(e,r={keys:[]}){try{let n=e;if(!n){const{data:g,error:y}=await this.getSession();if(y||!g.session)return{data:null,error:y};n=g.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Mu(n);if(AN(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:i,header:s,signature:o},error:null}}const u=RN(s.alg),d=await this.fetchJwk(s.kid,r),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,o,_N(`${a}.${l}`)))throw new Ci("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}}eo.nextInstanceID=0;const YN=eo;class QN extends YN{constructor(e){super(e)}}var XN=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};class ZN{constructor(e,r,n){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=sN(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:Yj,realtime:Xj,auth:Object.assign(Object.assign({},Qj),{storageKey:l}),global:Jj},d=iN(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=rN(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new yj(`${a}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new KC(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new qj(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return XN(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:a,debug:l},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new QN({url:this.authUrl,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Oj(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const eP=(t,e,r)=>new ZN(t,e,r),tP="https://jaicupcmdaypybsbbacz.supabase.co",rP="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImphaWN1cGNtZGF5cHlic2JiYWN6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM3MzE4OTcsImV4cCI6MjA1OTMwNzg5N30.x4PDKEcqKhOlmY5B-9nBtewcB6voNG5SC0TJ2wQ1yQE";let Z;try{Z=eP(tP,rP)}catch(t){console.error("Error initializing Supabase client:",t),Z={from:()=>({select:()=>({eq:()=>({data:[],error:null}),single:()=>({data:null,error:null})}),insert:()=>({data:null,error:null}),update:()=>({eq:()=>({data:null,error:null})})})}}const zw=w.createContext(),wt=()=>w.useContext(zw),nP=({children:t})=>{const[e,r]=w.useState(null),[n,s]=w.useState(!0),[i,o]=w.useState({}),a=async(y,_)=>{try{const p=(await ZT(Mo,y,_)).user,m={integrations:{instantly:{apiKey:"",isConnected:!1}}};localStorage.setItem(`user_settings_${p.uid}`,JSON.stringify({[p.uid]:m})),o({[p.uid]:m});try{await Z.from("profiles").insert({user_id:p.uid,name:"John Doe",email:p.email,company:"Acme Corporation",role:"Hiring Manager",phone:"(555) 123-4567",notifications:{email:!0,browser:!1,mobile:!0},created_at:new Date,updated_at:new Date})}catch(v){console.error("Error creating user profile in Supabase:",v)}return p}catch(x){throw console.error("Error creating user:",x),x}},l=async(y,_)=>{try{const p=(await e1(Mo,y,_)).user,m=localStorage.getItem(`user_settings_${p.uid}`);if(m)o(JSON.parse(m));else{const v={[p.uid]:{integrations:{instantly:{apiKey:"",isConnected:!1}}}};o(v),localStorage.setItem(`user_settings_${p.uid}`,JSON.stringify(v))}return p}catch(x){throw console.error("Error signing in:",x),x}},u=async()=>{try{await o1(Mo),o({})}catch(y){throw console.error("Error signing out:",y),y}},d=async(y,_)=>{if(!e)throw new Error("No user is currently logged in");try{const x=Kn.credential(e.email,y);return await XT(e,x),await t1(e,_),!0}catch(x){throw console.error("Error updating password:",x),x}},f=y=>{if(!e)return;const _={...i,[e.uid]:y};o(_),localStorage.setItem(`user_settings_${e.uid}`,JSON.stringify(_))},h=()=>!e||!i[e.uid]?null:i[e.uid];w.useEffect(()=>i1(Mo,_=>{if(r(_),s(!1),_){const x=localStorage.getItem(`user_settings_${_.uid}`);x&&o(JSON.parse(x))}}),[]);const g={currentUser:e,signup:a,login:l,logout:u,updatePassword:d,loading:n,updateUserSettings:f,getUserSettings:h};return c.jsx(zw.Provider,{value:g,children:!n&&t})},bt=({children:t})=>{const e=Gs(),r=an(),{currentUser:n,logout:s}=wt(),[i,o]=w.useState(!1),a=w.useRef(null);e.pathname;const l=e.pathname==="/login",u=e.pathname==="/register",d=n;w.useEffect(()=>{n&&(l||u)&&r("/dashboard")},[n,l,u,r]);const f=()=>{if(!n)return"U";const g=n.email.split("@")[0];return g?g[0].toUpperCase():"U"},h=async()=>{try{await s(),o(!1)}catch(g){console.error("Failed to log out",g)}};return w.useEffect(()=>{const g=y=>{a.current&&!a.current.contains(y.target)&&o(!1)};return document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[]),c.jsxs("div",{className:"h-screen flex flex-col overflow-hidden",children:[c.jsx("header",{className:"bg-secondary text-text-light p-4 pb-3 shadow-md relative",children:c.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[d&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"absolute left-0 top-0 w-44 h-full flex items-center bg-secondary",children:c.jsx(dt,{to:"/dashboard",className:"text-2xl font-bold hover:text-accent transition-colors block px-4 py-2 text-center w-full",children:"LeadLines"})}),c.jsx("div",{className:"w-44 invisible"}),c.jsx(dt,{to:"/agent",className:"bg-accent text-text-dark px-4 py-2 rounded-md hover:bg-accent-dark transition-colors",children:"AI Agent"})]}),!d&&c.jsxs(c.Fragment,{children:[c.jsx("h1",{className:"text-2xl font-bold",children:"LeadLines"}),c.jsx("div",{})," "]})]})}),c.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[d&&c.jsxs("aside",{className:"w-44 bg-secondary text-text-light p-3 pt-2 flex flex-col overflow-hidden",children:[c.jsx("nav",{className:"mb-auto overflow-y-auto",children:c.jsxs("ul",{className:"space-y-3 mt-2",children:[c.jsx("li",{children:c.jsx(dt,{to:"/dashboard",className:`block py-2 px-4 rounded-md ${e.pathname==="/dashboard"?"bg-accent text-text-dark":"hover:bg-secondary-dark"} transition-colors`,children:"Dashboard"})}),c.jsx("li",{children:c.jsx(dt,{to:"/upload",className:`block py-2 px-4 rounded-md ${e.pathname.startsWith("/upload")?"bg-accent text-text-dark":"hover:bg-secondary-dark"} transition-colors`,children:"CSV Upload"})}),c.jsx("li",{children:c.jsx(dt,{to:"/submissions",className:`block py-2 px-4 rounded-md ${e.pathname==="/submissions"?"bg-accent text-text-dark":"hover:bg-secondary-dark"} transition-colors`,children:"Submissions"})})]})}),c.jsxs("div",{className:"mt-auto relative",ref:a,children:[c.jsx("button",{onClick:()=>o(!i),className:"w-full flex items-center justify-center p-2 hover:bg-secondary-dark rounded-md transition-colors","aria-label":"Profile menu",children:c.jsx("div",{className:"w-10 h-10 rounded-full bg-accent text-text-dark flex items-center justify-center font-medium",children:f()})}),i&&c.jsxs("div",{className:"absolute bottom-full left-0 right-0 mb-2 mx-auto w-auto min-w-full bg-white rounded-md shadow-lg py-1 z-10",children:[c.jsx(dt,{to:"/profile",className:"block px-4 py-2 text-text-dark hover:bg-gray-100",onClick:()=>o(!1),children:"Profile"}),c.jsx("button",{onClick:h,className:"block w-full text-left px-4 py-2 text-text-dark hover:bg-gray-100",children:"Log Out"})]})]})]}),c.jsx("main",{className:"flex-1 overflow-hidden",children:c.jsx("div",{className:"h-full overflow-y-auto p-4",children:c.jsx("div",{className:"container mx-auto",children:t})})})]})]})};var sP=function(e){return iP(e)&&!oP(e)};function iP(t){return!!t&&typeof t=="object"}function oP(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||uP(t)}var aP=typeof Symbol=="function"&&Symbol.for,lP=aP?Symbol.for("react.element"):60103;function uP(t){return t.$$typeof===lP}function cP(t){return Array.isArray(t)?[]:{}}function Ka(t,e){return e.clone!==!1&&e.isMergeableObject(t)?to(cP(t),t,e):t}function dP(t,e,r){return t.concat(e).map(function(n){return Ka(n,r)})}function fP(t,e,r){var n={};return r.isMergeableObject(t)&&Object.keys(t).forEach(function(s){n[s]=Ka(t[s],r)}),Object.keys(e).forEach(function(s){!r.isMergeableObject(e[s])||!t[s]?n[s]=Ka(e[s],r):n[s]=to(t[s],e[s],r)}),n}function to(t,e,r){r=r||{},r.arrayMerge=r.arrayMerge||dP,r.isMergeableObject=r.isMergeableObject||sP;var n=Array.isArray(e),s=Array.isArray(t),i=n===s;return i?n?r.arrayMerge(t,e,r):fP(t,e,r):Ka(e,r)}to.all=function(e,r){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(n,s){return to(n,s,r)},{})};var ud=to,Bw=typeof global=="object"&&global&&global.Object===Object&&global,hP=typeof self=="object"&&self&&self.Object===Object&&self,Jt=Bw||hP||Function("return this")(),tn=Jt.Symbol,Vw=Object.prototype,pP=Vw.hasOwnProperty,mP=Vw.toString,ai=tn?tn.toStringTag:void 0;function gP(t){var e=pP.call(t,ai),r=t[ai];try{t[ai]=void 0;var n=!0}catch{}var s=mP.call(t);return n&&(e?t[ai]=r:delete t[ai]),s}var yP=Object.prototype,vP=yP.toString;function wP(t){return vP.call(t)}var _P="[object Null]",xP="[object Undefined]",Om=tn?tn.toStringTag:void 0;function Jn(t){return t==null?t===void 0?xP:_P:Om&&Om in Object(t)?gP(t):wP(t)}function Hw(t,e){return function(r){return t(e(r))}}var Hf=Hw(Object.getPrototypeOf,Object);function Yn(t){return t!=null&&typeof t=="object"}var bP="[object Object]",SP=Function.prototype,EP=Object.prototype,Ww=SP.toString,kP=EP.hasOwnProperty,TP=Ww.call(Object);function Am(t){if(!Yn(t)||Jn(t)!=bP)return!1;var e=Hf(t);if(e===null)return!0;var r=kP.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&Ww.call(r)==TP}function IP(){this.__data__=[],this.size=0}function qw(t,e){return t===e||t!==t&&e!==e}function jl(t,e){for(var r=t.length;r--;)if(qw(t[r][0],e))return r;return-1}var CP=Array.prototype,jP=CP.splice;function NP(t){var e=this.__data__,r=jl(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():jP.call(e,r,1),--this.size,!0}function PP(t){var e=this.__data__,r=jl(e,t);return r<0?void 0:e[r][1]}function OP(t){return jl(this.__data__,t)>-1}function AP(t,e){var r=this.__data__,n=jl(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function wr(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}wr.prototype.clear=IP;wr.prototype.delete=NP;wr.prototype.get=PP;wr.prototype.has=OP;wr.prototype.set=AP;function RP(){this.__data__=new wr,this.size=0}function $P(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function DP(t){return this.__data__.get(t)}function LP(t){return this.__data__.has(t)}function vo(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var FP="[object AsyncFunction]",UP="[object Function]",MP="[object GeneratorFunction]",zP="[object Proxy]";function Kw(t){if(!vo(t))return!1;var e=Jn(t);return e==UP||e==MP||e==FP||e==zP}var zu=Jt["__core-js_shared__"],Rm=function(){var t=/[^.]+$/.exec(zu&&zu.keys&&zu.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function BP(t){return!!Rm&&Rm in t}var VP=Function.prototype,HP=VP.toString;function Qn(t){if(t!=null){try{return HP.call(t)}catch{}try{return t+""}catch{}}return""}var WP=/[\\^$.*+?()[\]{}|]/g,qP=/^\[object .+?Constructor\]$/,KP=Function.prototype,GP=Object.prototype,JP=KP.toString,YP=GP.hasOwnProperty,QP=RegExp("^"+JP.call(YP).replace(WP,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function XP(t){if(!vo(t)||BP(t))return!1;var e=Kw(t)?QP:qP;return e.test(Qn(t))}function ZP(t,e){return t==null?void 0:t[e]}function Xn(t,e){var r=ZP(t,e);return XP(r)?r:void 0}var ro=Xn(Jt,"Map"),no=Xn(Object,"create");function eO(){this.__data__=no?no(null):{},this.size=0}function tO(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var rO="__lodash_hash_undefined__",nO=Object.prototype,sO=nO.hasOwnProperty;function iO(t){var e=this.__data__;if(no){var r=e[t];return r===rO?void 0:r}return sO.call(e,t)?e[t]:void 0}var oO=Object.prototype,aO=oO.hasOwnProperty;function lO(t){var e=this.__data__;return no?e[t]!==void 0:aO.call(e,t)}var uO="__lodash_hash_undefined__";function cO(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=no&&e===void 0?uO:e,this}function Mn(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Mn.prototype.clear=eO;Mn.prototype.delete=tO;Mn.prototype.get=iO;Mn.prototype.has=lO;Mn.prototype.set=cO;function dO(){this.size=0,this.__data__={hash:new Mn,map:new(ro||wr),string:new Mn}}function fO(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Nl(t,e){var r=t.__data__;return fO(e)?r[typeof e=="string"?"string":"hash"]:r.map}function hO(t){var e=Nl(this,t).delete(t);return this.size-=e?1:0,e}function pO(t){return Nl(this,t).get(t)}function mO(t){return Nl(this,t).has(t)}function gO(t,e){var r=Nl(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function cn(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}cn.prototype.clear=dO;cn.prototype.delete=hO;cn.prototype.get=pO;cn.prototype.has=mO;cn.prototype.set=gO;var yO=200;function vO(t,e){var r=this.__data__;if(r instanceof wr){var n=r.__data__;if(!ro||n.length<yO-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new cn(n)}return r.set(t,e),this.size=r.size,this}function Qs(t){var e=this.__data__=new wr(t);this.size=e.size}Qs.prototype.clear=RP;Qs.prototype.delete=$P;Qs.prototype.get=DP;Qs.prototype.has=LP;Qs.prototype.set=vO;function wO(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var $m=function(){try{var t=Xn(Object,"defineProperty");return t({},"",{}),t}catch{}}();function Gw(t,e,r){e=="__proto__"&&$m?$m(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var _O=Object.prototype,xO=_O.hasOwnProperty;function Jw(t,e,r){var n=t[e];(!(xO.call(t,e)&&qw(n,r))||r===void 0&&!(e in t))&&Gw(t,e,r)}function Pl(t,e,r,n){var s=!r;r||(r={});for(var i=-1,o=e.length;++i<o;){var a=e[i],l=void 0;l===void 0&&(l=t[a]),s?Gw(r,a,l):Jw(r,a,l)}return r}function bO(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var SO="[object Arguments]";function Dm(t){return Yn(t)&&Jn(t)==SO}var Yw=Object.prototype,EO=Yw.hasOwnProperty,kO=Yw.propertyIsEnumerable,TO=Dm(function(){return arguments}())?Dm:function(t){return Yn(t)&&EO.call(t,"callee")&&!kO.call(t,"callee")},wo=Array.isArray;function IO(){return!1}var Qw=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Lm=Qw&&typeof module=="object"&&module&&!module.nodeType&&module,CO=Lm&&Lm.exports===Qw,Fm=CO?Jt.Buffer:void 0,jO=Fm?Fm.isBuffer:void 0,Xw=jO||IO,NO=9007199254740991,PO=/^(?:0|[1-9]\d*)$/;function OO(t,e){var r=typeof t;return e=e??NO,!!e&&(r=="number"||r!="symbol"&&PO.test(t))&&t>-1&&t%1==0&&t<e}var AO=9007199254740991;function Zw(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=AO}var RO="[object Arguments]",$O="[object Array]",DO="[object Boolean]",LO="[object Date]",FO="[object Error]",UO="[object Function]",MO="[object Map]",zO="[object Number]",BO="[object Object]",VO="[object RegExp]",HO="[object Set]",WO="[object String]",qO="[object WeakMap]",KO="[object ArrayBuffer]",GO="[object DataView]",JO="[object Float32Array]",YO="[object Float64Array]",QO="[object Int8Array]",XO="[object Int16Array]",ZO="[object Int32Array]",eA="[object Uint8Array]",tA="[object Uint8ClampedArray]",rA="[object Uint16Array]",nA="[object Uint32Array]",ae={};ae[JO]=ae[YO]=ae[QO]=ae[XO]=ae[ZO]=ae[eA]=ae[tA]=ae[rA]=ae[nA]=!0;ae[RO]=ae[$O]=ae[KO]=ae[DO]=ae[GO]=ae[LO]=ae[FO]=ae[UO]=ae[MO]=ae[zO]=ae[BO]=ae[VO]=ae[HO]=ae[WO]=ae[qO]=!1;function sA(t){return Yn(t)&&Zw(t.length)&&!!ae[Jn(t)]}function Wf(t){return function(e){return t(e)}}var e_=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ni=e_&&typeof module=="object"&&module&&!module.nodeType&&module,iA=Ni&&Ni.exports===e_,Bu=iA&&Bw.process,Bs=function(){try{var t=Ni&&Ni.require&&Ni.require("util").types;return t||Bu&&Bu.binding&&Bu.binding("util")}catch{}}(),Um=Bs&&Bs.isTypedArray,oA=Um?Wf(Um):sA,aA=Object.prototype,lA=aA.hasOwnProperty;function t_(t,e){var r=wo(t),n=!r&&TO(t),s=!r&&!n&&Xw(t),i=!r&&!n&&!s&&oA(t),o=r||n||s||i,a=o?bO(t.length,String):[],l=a.length;for(var u in t)(e||lA.call(t,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||OO(u,l)))&&a.push(u);return a}var uA=Object.prototype;function qf(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||uA;return t===r}var cA=Hw(Object.keys,Object),dA=Object.prototype,fA=dA.hasOwnProperty;function hA(t){if(!qf(t))return cA(t);var e=[];for(var r in Object(t))fA.call(t,r)&&r!="constructor"&&e.push(r);return e}function r_(t){return t!=null&&Zw(t.length)&&!Kw(t)}function Kf(t){return r_(t)?t_(t):hA(t)}function pA(t,e){return t&&Pl(e,Kf(e),t)}function mA(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var gA=Object.prototype,yA=gA.hasOwnProperty;function vA(t){if(!vo(t))return mA(t);var e=qf(t),r=[];for(var n in t)n=="constructor"&&(e||!yA.call(t,n))||r.push(n);return r}function Gf(t){return r_(t)?t_(t,!0):vA(t)}function wA(t,e){return t&&Pl(e,Gf(e),t)}var n_=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Mm=n_&&typeof module=="object"&&module&&!module.nodeType&&module,_A=Mm&&Mm.exports===n_,zm=_A?Jt.Buffer:void 0,Bm=zm?zm.allocUnsafe:void 0;function xA(t,e){if(e)return t.slice();var r=t.length,n=Bm?Bm(r):new t.constructor(r);return t.copy(n),n}function s_(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}function bA(t,e){for(var r=-1,n=t==null?0:t.length,s=0,i=[];++r<n;){var o=t[r];e(o,r,t)&&(i[s++]=o)}return i}function i_(){return[]}var SA=Object.prototype,EA=SA.propertyIsEnumerable,Vm=Object.getOwnPropertySymbols,Jf=Vm?function(t){return t==null?[]:(t=Object(t),bA(Vm(t),function(e){return EA.call(t,e)}))}:i_;function kA(t,e){return Pl(t,Jf(t),e)}function o_(t,e){for(var r=-1,n=e.length,s=t.length;++r<n;)t[s+r]=e[r];return t}var TA=Object.getOwnPropertySymbols,a_=TA?function(t){for(var e=[];t;)o_(e,Jf(t)),t=Hf(t);return e}:i_;function IA(t,e){return Pl(t,a_(t),e)}function l_(t,e,r){var n=e(t);return wo(t)?n:o_(n,r(t))}function CA(t){return l_(t,Kf,Jf)}function jA(t){return l_(t,Gf,a_)}var cd=Xn(Jt,"DataView"),dd=Xn(Jt,"Promise"),fd=Xn(Jt,"Set"),hd=Xn(Jt,"WeakMap"),Hm="[object Map]",NA="[object Object]",Wm="[object Promise]",qm="[object Set]",Km="[object WeakMap]",Gm="[object DataView]",PA=Qn(cd),OA=Qn(ro),AA=Qn(dd),RA=Qn(fd),$A=Qn(hd),tr=Jn;(cd&&tr(new cd(new ArrayBuffer(1)))!=Gm||ro&&tr(new ro)!=Hm||dd&&tr(dd.resolve())!=Wm||fd&&tr(new fd)!=qm||hd&&tr(new hd)!=Km)&&(tr=function(t){var e=Jn(t),r=e==NA?t.constructor:void 0,n=r?Qn(r):"";if(n)switch(n){case PA:return Gm;case OA:return Hm;case AA:return Wm;case RA:return qm;case $A:return Km}return e});var DA=Object.prototype,LA=DA.hasOwnProperty;function FA(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&LA.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var Jm=Jt.Uint8Array;function Yf(t){var e=new t.constructor(t.byteLength);return new Jm(e).set(new Jm(t)),e}function UA(t,e){var r=e?Yf(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var MA=/\w*$/;function zA(t){var e=new t.constructor(t.source,MA.exec(t));return e.lastIndex=t.lastIndex,e}var Ym=tn?tn.prototype:void 0,Qm=Ym?Ym.valueOf:void 0;function BA(t){return Qm?Object(Qm.call(t)):{}}function VA(t,e){var r=e?Yf(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var HA="[object Boolean]",WA="[object Date]",qA="[object Map]",KA="[object Number]",GA="[object RegExp]",JA="[object Set]",YA="[object String]",QA="[object Symbol]",XA="[object ArrayBuffer]",ZA="[object DataView]",eR="[object Float32Array]",tR="[object Float64Array]",rR="[object Int8Array]",nR="[object Int16Array]",sR="[object Int32Array]",iR="[object Uint8Array]",oR="[object Uint8ClampedArray]",aR="[object Uint16Array]",lR="[object Uint32Array]";function uR(t,e,r){var n=t.constructor;switch(e){case XA:return Yf(t);case HA:case WA:return new n(+t);case ZA:return UA(t,r);case eR:case tR:case rR:case nR:case sR:case iR:case oR:case aR:case lR:return VA(t,r);case qA:return new n;case KA:case YA:return new n(t);case GA:return zA(t);case JA:return new n;case QA:return BA(t)}}var Xm=Object.create,cR=function(){function t(){}return function(e){if(!vo(e))return{};if(Xm)return Xm(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();function dR(t){return typeof t.constructor=="function"&&!qf(t)?cR(Hf(t)):{}}var fR="[object Map]";function hR(t){return Yn(t)&&tr(t)==fR}var Zm=Bs&&Bs.isMap,pR=Zm?Wf(Zm):hR,mR="[object Set]";function gR(t){return Yn(t)&&tr(t)==mR}var eg=Bs&&Bs.isSet,yR=eg?Wf(eg):gR,vR=1,wR=2,_R=4,u_="[object Arguments]",xR="[object Array]",bR="[object Boolean]",SR="[object Date]",ER="[object Error]",c_="[object Function]",kR="[object GeneratorFunction]",TR="[object Map]",IR="[object Number]",d_="[object Object]",CR="[object RegExp]",jR="[object Set]",NR="[object String]",PR="[object Symbol]",OR="[object WeakMap]",AR="[object ArrayBuffer]",RR="[object DataView]",$R="[object Float32Array]",DR="[object Float64Array]",LR="[object Int8Array]",FR="[object Int16Array]",UR="[object Int32Array]",MR="[object Uint8Array]",zR="[object Uint8ClampedArray]",BR="[object Uint16Array]",VR="[object Uint32Array]",ne={};ne[u_]=ne[xR]=ne[AR]=ne[RR]=ne[bR]=ne[SR]=ne[$R]=ne[DR]=ne[LR]=ne[FR]=ne[UR]=ne[TR]=ne[IR]=ne[d_]=ne[CR]=ne[jR]=ne[NR]=ne[PR]=ne[MR]=ne[zR]=ne[BR]=ne[VR]=!0;ne[ER]=ne[c_]=ne[OR]=!1;function Pi(t,e,r,n,s,i){var o,a=e&vR,l=e&wR,u=e&_R;if(o!==void 0)return o;if(!vo(t))return t;var d=wo(t);if(d){if(o=FA(t),!a)return s_(t,o)}else{var f=tr(t),h=f==c_||f==kR;if(Xw(t))return xA(t,a);if(f==d_||f==u_||h&&!s){if(o=l||h?{}:dR(t),!a)return l?IA(t,wA(o,t)):kA(t,pA(o,t))}else{if(!ne[f])return s?t:{};o=uR(t,f,a)}}i||(i=new Qs);var g=i.get(t);if(g)return g;i.set(t,o),yR(t)?t.forEach(function(x){o.add(Pi(x,e,r,x,t,i))}):pR(t)&&t.forEach(function(x,p){o.set(p,Pi(x,e,r,p,t,i))});var y=u?l?jA:CA:l?Gf:Kf,_=d?void 0:y(t);return wO(_||t,function(x,p){_&&(p=x,x=t[p]),Jw(o,p,Pi(x,e,r,p,t,i))}),o}var HR=1,WR=4;function mi(t){return Pi(t,HR|WR)}var tg=Array.isArray,rg=Object.keys,qR=Object.prototype.hasOwnProperty,KR=typeof Element<"u";function pd(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var r=tg(t),n=tg(e),s,i,o;if(r&&n){if(i=t.length,i!=e.length)return!1;for(s=i;s--!==0;)if(!pd(t[s],e[s]))return!1;return!0}if(r!=n)return!1;var a=t instanceof Date,l=e instanceof Date;if(a!=l)return!1;if(a&&l)return t.getTime()==e.getTime();var u=t instanceof RegExp,d=e instanceof RegExp;if(u!=d)return!1;if(u&&d)return t.toString()==e.toString();var f=rg(t);if(i=f.length,i!==rg(e).length)return!1;for(s=i;s--!==0;)if(!qR.call(e,f[s]))return!1;if(KR&&t instanceof Element&&e instanceof Element)return t===e;for(s=i;s--!==0;)if(o=f[s],!(o==="_owner"&&t.$$typeof)&&!pd(t[o],e[o]))return!1;return!0}return t!==t&&e!==e}var GR=function(e,r){try{return pd(e,r)}catch(n){if(n.message&&n.message.match(/stack|recursion/i)||n.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",n.name,n.message),!1;throw n}};const Nr=Za(GR);var JR=4;function ng(t){return Pi(t,JR)}function f_(t,e){for(var r=-1,n=t==null?0:t.length,s=Array(n);++r<n;)s[r]=e(t[r],r,t);return s}var YR="[object Symbol]";function Qf(t){return typeof t=="symbol"||Yn(t)&&Jn(t)==YR}var QR="Expected a function";function Xf(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(QR);var r=function(){var n=arguments,s=e?e.apply(this,n):n[0],i=r.cache;if(i.has(s))return i.get(s);var o=t.apply(this,n);return r.cache=i.set(s,o)||i,o};return r.cache=new(Xf.Cache||cn),r}Xf.Cache=cn;var XR=500;function ZR(t){var e=Xf(t,function(n){return r.size===XR&&r.clear(),n}),r=e.cache;return e}var e2=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t2=/\\(\\)?/g,r2=ZR(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(e2,function(r,n,s,i){e.push(s?i.replace(t2,"$1"):n||r)}),e});function n2(t){if(typeof t=="string"||Qf(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var sg=tn?tn.prototype:void 0,ig=sg?sg.toString:void 0;function h_(t){if(typeof t=="string")return t;if(wo(t))return f_(t,h_)+"";if(Qf(t))return ig?ig.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function s2(t){return t==null?"":h_(t)}function p_(t){return wo(t)?f_(t,n2):Qf(t)?[t]:s_(r2(s2(t)))}var m_={exports:{}},X={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ee=typeof Symbol=="function"&&Symbol.for,Zf=Ee?Symbol.for("react.element"):60103,eh=Ee?Symbol.for("react.portal"):60106,Ol=Ee?Symbol.for("react.fragment"):60107,Al=Ee?Symbol.for("react.strict_mode"):60108,Rl=Ee?Symbol.for("react.profiler"):60114,$l=Ee?Symbol.for("react.provider"):60109,Dl=Ee?Symbol.for("react.context"):60110,th=Ee?Symbol.for("react.async_mode"):60111,Ll=Ee?Symbol.for("react.concurrent_mode"):60111,Fl=Ee?Symbol.for("react.forward_ref"):60112,Ul=Ee?Symbol.for("react.suspense"):60113,i2=Ee?Symbol.for("react.suspense_list"):60120,Ml=Ee?Symbol.for("react.memo"):60115,zl=Ee?Symbol.for("react.lazy"):60116,o2=Ee?Symbol.for("react.block"):60121,a2=Ee?Symbol.for("react.fundamental"):60117,l2=Ee?Symbol.for("react.responder"):60118,u2=Ee?Symbol.for("react.scope"):60119;function at(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Zf:switch(t=t.type,t){case th:case Ll:case Ol:case Rl:case Al:case Ul:return t;default:switch(t=t&&t.$$typeof,t){case Dl:case Fl:case zl:case Ml:case $l:return t;default:return e}}case eh:return e}}}function g_(t){return at(t)===Ll}X.AsyncMode=th;X.ConcurrentMode=Ll;X.ContextConsumer=Dl;X.ContextProvider=$l;X.Element=Zf;X.ForwardRef=Fl;X.Fragment=Ol;X.Lazy=zl;X.Memo=Ml;X.Portal=eh;X.Profiler=Rl;X.StrictMode=Al;X.Suspense=Ul;X.isAsyncMode=function(t){return g_(t)||at(t)===th};X.isConcurrentMode=g_;X.isContextConsumer=function(t){return at(t)===Dl};X.isContextProvider=function(t){return at(t)===$l};X.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zf};X.isForwardRef=function(t){return at(t)===Fl};X.isFragment=function(t){return at(t)===Ol};X.isLazy=function(t){return at(t)===zl};X.isMemo=function(t){return at(t)===Ml};X.isPortal=function(t){return at(t)===eh};X.isProfiler=function(t){return at(t)===Rl};X.isStrictMode=function(t){return at(t)===Al};X.isSuspense=function(t){return at(t)===Ul};X.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Ol||t===Ll||t===Rl||t===Al||t===Ul||t===i2||typeof t=="object"&&t!==null&&(t.$$typeof===zl||t.$$typeof===Ml||t.$$typeof===$l||t.$$typeof===Dl||t.$$typeof===Fl||t.$$typeof===a2||t.$$typeof===l2||t.$$typeof===u2||t.$$typeof===o2)};X.typeOf=at;m_.exports=X;var c2=m_.exports,rh=c2,d2={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},f2={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},h2={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},y_={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},nh={};nh[rh.ForwardRef]=h2;nh[rh.Memo]=y_;function og(t){return rh.isMemo(t)?y_:nh[t.$$typeof]||d2}var p2=Object.defineProperty,m2=Object.getOwnPropertyNames,ag=Object.getOwnPropertySymbols,g2=Object.getOwnPropertyDescriptor,y2=Object.getPrototypeOf,lg=Object.prototype;function v_(t,e,r){if(typeof e!="string"){if(lg){var n=y2(e);n&&n!==lg&&v_(t,n,r)}var s=m2(e);ag&&(s=s.concat(ag(e)));for(var i=og(t),o=og(e),a=0;a<s.length;++a){var l=s[a];if(!f2[l]&&!(r&&r[l])&&!(o&&o[l])&&!(i&&i[l])){var u=g2(e,l);try{p2(t,l,u)}catch{}}}}return t}var v2=v_;const w2=Za(v2);function Y(){return Y=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Y.apply(this,arguments)}function w_(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function zr(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function ug(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Bl=w.createContext(void 0);Bl.displayName="FormikContext";var _2=Bl.Provider,x2=Bl.Consumer;function __(){var t=w.useContext(Bl);return t}var cg=function(e){return Array.isArray(e)&&e.length===0},Ie=function(e){return typeof e=="function"},_o=function(e){return e!==null&&typeof e=="object"},b2=function(e){return String(Math.floor(Number(e)))===e},Vu=function(e){return Object.prototype.toString.call(e)==="[object String]"},x_=function(e){return w.Children.count(e)===0},Hu=function(e){return _o(e)&&Ie(e.then)};function ue(t,e,r,n){n===void 0&&(n=0);for(var s=p_(e);t&&n<s.length;)t=t[s[n++]];return n!==s.length&&!t||t===void 0?r:t}function Kt(t,e,r){for(var n=ng(t),s=n,i=0,o=p_(e);i<o.length-1;i++){var a=o[i],l=ue(t,o.slice(0,i+1));if(l&&(_o(l)||Array.isArray(l)))s=s[a]=ng(l);else{var u=o[i+1];s=s[a]=b2(u)&&Number(u)>=0?[]:{}}}return(i===0?t:s)[o[i]]===r?t:(r===void 0?delete s[o[i]]:s[o[i]]=r,i===0&&r===void 0&&delete n[o[i]],n)}function b_(t,e,r,n){r===void 0&&(r=new WeakMap),n===void 0&&(n={});for(var s=0,i=Object.keys(t);s<i.length;s++){var o=i[s],a=t[o];_o(a)?r.get(a)||(r.set(a,!0),n[o]=Array.isArray(a)?[]:{},b_(a,e,r,n[o])):n[o]=e}return n}function S2(t,e){switch(e.type){case"SET_VALUES":return Y({},t,{values:e.payload});case"SET_TOUCHED":return Y({},t,{touched:e.payload});case"SET_ERRORS":return Nr(t.errors,e.payload)?t:Y({},t,{errors:e.payload});case"SET_STATUS":return Y({},t,{status:e.payload});case"SET_ISSUBMITTING":return Y({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return Y({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return Y({},t,{values:Kt(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return Y({},t,{touched:Kt(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return Y({},t,{errors:Kt(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return Y({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return Y({},t,{touched:b_(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return Y({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return Y({},t,{isSubmitting:!1});default:return t}}var mn={},Wo={};function E2(t){var e=t.validateOnChange,r=e===void 0?!0:e,n=t.validateOnBlur,s=n===void 0?!0:n,i=t.validateOnMount,o=i===void 0?!1:i,a=t.isInitialValid,l=t.enableReinitialize,u=l===void 0?!1:l,d=t.onSubmit,f=zr(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),h=Y({validateOnChange:r,validateOnBlur:s,validateOnMount:o,onSubmit:d},f),g=w.useRef(h.initialValues),y=w.useRef(h.initialErrors||mn),_=w.useRef(h.initialTouched||Wo),x=w.useRef(h.initialStatus),p=w.useRef(!1),m=w.useRef({});w.useEffect(function(){return p.current=!0,function(){p.current=!1}},[]);var v=w.useState(0),E=v[1],T=w.useRef({values:mi(h.initialValues),errors:mi(h.initialErrors)||mn,touched:mi(h.initialTouched)||Wo,status:mi(h.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),k=T.current,b=w.useCallback(function(S){var P=T.current;T.current=S2(P,S),P!==T.current&&E(function(L){return L+1})},[]),I=w.useCallback(function(S,P){return new Promise(function(L,M){var H=h.validate(S,P);H==null?L(mn):Hu(H)?H.then(function(J){L(J||mn)},function(J){M(J)}):L(H)})},[h.validate]),A=w.useCallback(function(S,P){var L=h.validationSchema,M=Ie(L)?L(P):L,H=P&&M.validateAt?M.validateAt(P,S):T2(S,M);return new Promise(function(J,$e){H.then(function(){J(mn)},function(Yt){Yt.name==="ValidationError"?J(k2(Yt)):$e(Yt)})})},[h.validationSchema]),U=w.useCallback(function(S,P){return new Promise(function(L){return L(m.current[S].validate(P))})},[]),N=w.useCallback(function(S){var P=Object.keys(m.current).filter(function(M){return Ie(m.current[M].validate)}),L=P.length>0?P.map(function(M){return U(M,ue(S,M))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(L).then(function(M){return M.reduce(function(H,J,$e){return J==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||J&&(H=Kt(H,P[$e],J)),H},{})})},[U]),F=w.useCallback(function(S){return Promise.all([N(S),h.validationSchema?A(S):{},h.validate?I(S):{}]).then(function(P){var L=P[0],M=P[1],H=P[2],J=ud.all([L,M,H],{arrayMerge:I2});return J})},[h.validate,h.validationSchema,N,I,A]),K=lt(function(S){return S===void 0&&(S=k.values),b({type:"SET_ISVALIDATING",payload:!0}),F(S).then(function(P){return p.current&&(b({type:"SET_ISVALIDATING",payload:!1}),b({type:"SET_ERRORS",payload:P})),P})});w.useEffect(function(){o&&p.current===!0&&Nr(g.current,h.initialValues)&&K(g.current)},[o,K]);var pe=w.useCallback(function(S){var P=S&&S.values?S.values:g.current,L=S&&S.errors?S.errors:y.current?y.current:h.initialErrors||{},M=S&&S.touched?S.touched:_.current?_.current:h.initialTouched||{},H=S&&S.status?S.status:x.current?x.current:h.initialStatus;g.current=P,y.current=L,_.current=M,x.current=H;var J=function(){b({type:"RESET_FORM",payload:{isSubmitting:!!S&&!!S.isSubmitting,errors:L,touched:M,status:H,values:P,isValidating:!!S&&!!S.isValidating,submitCount:S&&S.submitCount&&typeof S.submitCount=="number"?S.submitCount:0}})};if(h.onReset){var $e=h.onReset(k.values,ph);Hu($e)?$e.then(J):J()}else J()},[h.initialErrors,h.initialStatus,h.initialTouched,h.onReset]);w.useEffect(function(){p.current===!0&&!Nr(g.current,h.initialValues)&&u&&(g.current=h.initialValues,pe(),o&&K(g.current))},[u,h.initialValues,pe,o,K]),w.useEffect(function(){u&&p.current===!0&&!Nr(y.current,h.initialErrors)&&(y.current=h.initialErrors||mn,b({type:"SET_ERRORS",payload:h.initialErrors||mn}))},[u,h.initialErrors]),w.useEffect(function(){u&&p.current===!0&&!Nr(_.current,h.initialTouched)&&(_.current=h.initialTouched||Wo,b({type:"SET_TOUCHED",payload:h.initialTouched||Wo}))},[u,h.initialTouched]),w.useEffect(function(){u&&p.current===!0&&!Nr(x.current,h.initialStatus)&&(x.current=h.initialStatus,b({type:"SET_STATUS",payload:h.initialStatus}))},[u,h.initialStatus,h.initialTouched]);var es=lt(function(S){if(m.current[S]&&Ie(m.current[S].validate)){var P=ue(k.values,S),L=m.current[S].validate(P);return Hu(L)?(b({type:"SET_ISVALIDATING",payload:!0}),L.then(function(M){return M}).then(function(M){b({type:"SET_FIELD_ERROR",payload:{field:S,value:M}}),b({type:"SET_ISVALIDATING",payload:!1})})):(b({type:"SET_FIELD_ERROR",payload:{field:S,value:L}}),Promise.resolve(L))}else if(h.validationSchema)return b({type:"SET_ISVALIDATING",payload:!0}),A(k.values,S).then(function(M){return M}).then(function(M){b({type:"SET_FIELD_ERROR",payload:{field:S,value:ue(M,S)}}),b({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),fn=w.useCallback(function(S,P){var L=P.validate;m.current[S]={validate:L}},[]),$=w.useCallback(function(S){delete m.current[S]},[]),C=lt(function(S,P){b({type:"SET_TOUCHED",payload:S});var L=P===void 0?s:P;return L?K(k.values):Promise.resolve()}),R=w.useCallback(function(S){b({type:"SET_ERRORS",payload:S})},[]),D=lt(function(S,P){var L=Ie(S)?S(k.values):S;b({type:"SET_VALUES",payload:L});var M=P===void 0?r:P;return M?K(L):Promise.resolve()}),V=w.useCallback(function(S,P){b({type:"SET_FIELD_ERROR",payload:{field:S,value:P}})},[]),ie=lt(function(S,P,L){b({type:"SET_FIELD_VALUE",payload:{field:S,value:P}});var M=L===void 0?r:L;return M?K(Kt(k.values,S,P)):Promise.resolve()}),hn=w.useCallback(function(S,P){var L=P,M=S,H;if(!Vu(S)){S.persist&&S.persist();var J=S.target?S.target:S.currentTarget,$e=J.type,Yt=J.name,Yl=J.id,Ql=J.value,K_=J.checked;J.outerHTML;var mh=J.options,G_=J.multiple;L=P||Yt||Yl,M=/number|range/.test($e)?(H=parseFloat(Ql),isNaN(H)?"":H):/checkbox/.test($e)?j2(ue(k.values,L),K_,Ql):mh&&G_?C2(mh):Ql}L&&ie(L,M)},[ie,k.values]),_t=lt(function(S){if(Vu(S))return function(P){return hn(P,S)};hn(S)}),Rt=lt(function(S,P,L){P===void 0&&(P=!0),b({type:"SET_FIELD_TOUCHED",payload:{field:S,value:P}});var M=L===void 0?s:L;return M?K(k.values):Promise.resolve()}),$t=w.useCallback(function(S,P){S.persist&&S.persist();var L=S.target,M=L.name,H=L.id;L.outerHTML;var J=P||M||H;Rt(J,!0)},[Rt]),_r=lt(function(S){if(Vu(S))return function(P){return $t(P,S)};$t(S)}),dh=w.useCallback(function(S){Ie(S)?b({type:"SET_FORMIK_STATE",payload:S}):b({type:"SET_FORMIK_STATE",payload:function(){return S}})},[]),fh=w.useCallback(function(S){b({type:"SET_STATUS",payload:S})},[]),hh=w.useCallback(function(S){b({type:"SET_ISSUBMITTING",payload:S})},[]),Gl=lt(function(){return b({type:"SUBMIT_ATTEMPT"}),K().then(function(S){var P=S instanceof Error,L=!P&&Object.keys(S).length===0;if(L){var M;try{if(M=M_(),M===void 0)return}catch(H){throw H}return Promise.resolve(M).then(function(H){return p.current&&b({type:"SUBMIT_SUCCESS"}),H}).catch(function(H){if(p.current)throw b({type:"SUBMIT_FAILURE"}),H})}else if(p.current&&(b({type:"SUBMIT_FAILURE"}),P))throw S})}),U_=lt(function(S){S&&S.preventDefault&&Ie(S.preventDefault)&&S.preventDefault(),S&&S.stopPropagation&&Ie(S.stopPropagation)&&S.stopPropagation(),Gl().catch(function(P){console.warn("Warning: An unhandled error was caught from submitForm()",P)})}),ph={resetForm:pe,validateForm:K,validateField:es,setErrors:R,setFieldError:V,setFieldTouched:Rt,setFieldValue:ie,setStatus:fh,setSubmitting:hh,setTouched:C,setValues:D,setFormikState:dh,submitForm:Gl},M_=lt(function(){return d(k.values,ph)}),z_=lt(function(S){S&&S.preventDefault&&Ie(S.preventDefault)&&S.preventDefault(),S&&S.stopPropagation&&Ie(S.stopPropagation)&&S.stopPropagation(),pe()}),B_=w.useCallback(function(S){return{value:ue(k.values,S),error:ue(k.errors,S),touched:!!ue(k.touched,S),initialValue:ue(g.current,S),initialTouched:!!ue(_.current,S),initialError:ue(y.current,S)}},[k.errors,k.touched,k.values]),V_=w.useCallback(function(S){return{setValue:function(L,M){return ie(S,L,M)},setTouched:function(L,M){return Rt(S,L,M)},setError:function(L){return V(S,L)}}},[ie,Rt,V]),H_=w.useCallback(function(S){var P=_o(S),L=P?S.name:S,M=ue(k.values,L),H={name:L,value:M,onChange:_t,onBlur:_r};if(P){var J=S.type,$e=S.value,Yt=S.as,Yl=S.multiple;J==="checkbox"?$e===void 0?H.checked=!!M:(H.checked=!!(Array.isArray(M)&&~M.indexOf($e)),H.value=$e):J==="radio"?(H.checked=M===$e,H.value=$e):Yt==="select"&&Yl&&(H.value=H.value||[],H.multiple=!0)}return H},[_r,_t,k.values]),Jl=w.useMemo(function(){return!Nr(g.current,k.values)},[g.current,k.values]),W_=w.useMemo(function(){return typeof a<"u"?Jl?k.errors&&Object.keys(k.errors).length===0:a!==!1&&Ie(a)?a(h):a:k.errors&&Object.keys(k.errors).length===0},[a,Jl,k.errors,h]),q_=Y({},k,{initialValues:g.current,initialErrors:y.current,initialTouched:_.current,initialStatus:x.current,handleBlur:_r,handleChange:_t,handleReset:z_,handleSubmit:U_,resetForm:pe,setErrors:R,setFormikState:dh,setFieldTouched:Rt,setFieldValue:ie,setFieldError:V,setStatus:fh,setSubmitting:hh,setTouched:C,setValues:D,submitForm:Gl,validateForm:K,validateField:es,isValid:W_,dirty:Jl,unregisterField:$,registerField:fn,getFieldProps:H_,getFieldMeta:B_,getFieldHelpers:V_,validateOnBlur:s,validateOnChange:r,validateOnMount:o});return q_}function sh(t){var e=E2(t),r=t.component,n=t.children,s=t.render,i=t.innerRef;return w.useImperativeHandle(i,function(){return e}),w.createElement(_2,{value:e},r?w.createElement(r,e):s?s(e):n?Ie(n)?n(e):x_(n)?null:w.Children.only(n):null)}function k2(t){var e={};if(t.inner){if(t.inner.length===0)return Kt(e,t.path,t.message);for(var s=t.inner,r=Array.isArray(s),n=0,s=r?s:s[Symbol.iterator]();;){var i;if(r){if(n>=s.length)break;i=s[n++]}else{if(n=s.next(),n.done)break;i=n.value}var o=i;ue(e,o.path)||(e=Kt(e,o.path,o.message))}}return e}function T2(t,e,r,n){r===void 0&&(r=!1);var s=md(t);return e[r?"validateSync":"validate"](s,{abortEarly:!1,context:s})}function md(t){var e=Array.isArray(t)?[]:{};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=String(r);Array.isArray(t[n])===!0?e[n]=t[n].map(function(s){return Array.isArray(s)===!0||Am(s)?md(s):s!==""?s:void 0}):Am(t[n])?e[n]=md(t[n]):e[n]=t[n]!==""?t[n]:void 0}return e}function I2(t,e,r){var n=t.slice();return e.forEach(function(i,o){if(typeof n[o]>"u"){var a=r.clone!==!1,l=a&&r.isMergeableObject(i);n[o]=l?ud(Array.isArray(i)?[]:{},i,r):i}else r.isMergeableObject(i)?n[o]=ud(t[o],i,r):t.indexOf(i)===-1&&n.push(i)}),n}function C2(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function j2(t,e,r){if(typeof t=="boolean")return!!e;var n=[],s=!1,i=-1;if(Array.isArray(t))n=t,i=t.indexOf(r),s=i>=0;else if(!r||r=="true"||r=="false")return!!e;return e&&r&&!s?n.concat(r):s?n.slice(0,i).concat(n.slice(i+1)):n}var N2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?w.useLayoutEffect:w.useEffect;function lt(t){var e=w.useRef(t);return N2(function(){e.current=t}),w.useCallback(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return e.current.apply(void 0,n)},[])}function ee(t){var e=t.validate,r=t.name,n=t.render,s=t.children,i=t.as,o=t.component,a=t.className,l=zr(t,["validate","name","render","children","as","component","className"]),u=__(),d=zr(u,["validate","validationSchema"]),f=d.registerField,h=d.unregisterField;w.useEffect(function(){return f(r,{validate:e}),function(){h(r)}},[f,h,r,e]);var g=d.getFieldProps(Y({name:r},l)),y=d.getFieldMeta(r),_={field:g,form:d};if(n)return n(Y({},_,{meta:y}));if(Ie(s))return s(Y({},_,{meta:y}));if(o){if(typeof o=="string"){var x=l.innerRef,p=zr(l,["innerRef"]);return w.createElement(o,Y({ref:x},g,p,{className:a}),s)}return w.createElement(o,Y({field:g,form:d},l,{className:a}),s)}var m=i||"input";if(typeof m=="string"){var v=l.innerRef,E=zr(l,["innerRef"]);return w.createElement(m,Y({ref:v},g,E,{className:a}),s)}return w.createElement(m,Y({},g,l,{className:a}),s)}var Vl=w.forwardRef(function(t,e){var r=t.action,n=zr(t,["action"]),s=r??"#",i=__(),o=i.handleReset,a=i.handleSubmit;return w.createElement("form",Y({onSubmit:a,ref:e,onReset:o,action:s},n))});Vl.displayName="Form";function P2(t){var e=function(s){return w.createElement(x2,null,function(i){return w.createElement(t,Y({},s,{formik:i}))})},r=t.displayName||t.name||t.constructor&&t.constructor.name||"Component";return e.WrappedComponent=t,e.displayName="FormikConnect("+r+")",w2(e,t)}var O2=function(e,r,n){var s=zn(e),i=s[r];return s.splice(r,1),s.splice(n,0,i),s},A2=function(e,r,n){var s=zn(e),i=s[r];return s[r]=s[n],s[n]=i,s},Wu=function(e,r,n){var s=zn(e);return s.splice(r,0,n),s},R2=function(e,r,n){var s=zn(e);return s[r]=n,s},zn=function(e){if(e){if(Array.isArray(e))return[].concat(e);var r=Object.keys(e).map(function(n){return parseInt(n)}).reduce(function(n,s){return s>n?s:n},0);return Array.from(Y({},e,{length:r+1}))}else return[]},dg=function(e,r){var n=typeof e=="function"?e:r;return function(s){if(Array.isArray(s)||_o(s)){var i=zn(s);return n(i)}return s}},$2=function(t){w_(e,t);function e(n){var s;return s=t.call(this,n)||this,s.updateArrayField=function(i,o,a){var l=s.props,u=l.name,d=l.formik.setFormikState;d(function(f){var h=dg(a,i),g=dg(o,i),y=Kt(f.values,u,i(ue(f.values,u))),_=a?h(ue(f.errors,u)):void 0,x=o?g(ue(f.touched,u)):void 0;return cg(_)&&(_=void 0),cg(x)&&(x=void 0),Y({},f,{values:y,errors:a?Kt(f.errors,u,_):f.errors,touched:o?Kt(f.touched,u,x):f.touched})})},s.push=function(i){return s.updateArrayField(function(o){return[].concat(zn(o),[mi(i)])},!1,!1)},s.handlePush=function(i){return function(){return s.push(i)}},s.swap=function(i,o){return s.updateArrayField(function(a){return A2(a,i,o)},!0,!0)},s.handleSwap=function(i,o){return function(){return s.swap(i,o)}},s.move=function(i,o){return s.updateArrayField(function(a){return O2(a,i,o)},!0,!0)},s.handleMove=function(i,o){return function(){return s.move(i,o)}},s.insert=function(i,o){return s.updateArrayField(function(a){return Wu(a,i,o)},function(a){return Wu(a,i,null)},function(a){return Wu(a,i,null)})},s.handleInsert=function(i,o){return function(){return s.insert(i,o)}},s.replace=function(i,o){return s.updateArrayField(function(a){return R2(a,i,o)},!1,!1)},s.handleReplace=function(i,o){return function(){return s.replace(i,o)}},s.unshift=function(i){var o=-1;return s.updateArrayField(function(a){var l=a?[i].concat(a):[i];return o=l.length,l},function(a){return a?[null].concat(a):[null]},function(a){return a?[null].concat(a):[null]}),o},s.handleUnshift=function(i){return function(){return s.unshift(i)}},s.handleRemove=function(i){return function(){return s.remove(i)}},s.handlePop=function(){return function(){return s.pop()}},s.remove=s.remove.bind(ug(s)),s.pop=s.pop.bind(ug(s)),s}var r=e.prototype;return r.componentDidUpdate=function(s){this.props.validateOnChange&&this.props.formik.validateOnChange&&!Nr(ue(s.formik.values,s.name),ue(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},r.remove=function(s){var i;return this.updateArrayField(function(o){var a=o?zn(o):[];return i||(i=a[s]),Ie(a.splice)&&a.splice(s,1),Ie(a.every)&&a.every(function(l){return l===void 0})?[]:a},!0,!0),i},r.pop=function(){var s;return this.updateArrayField(function(i){var o=i.slice();return s||(s=o&&o.pop&&o.pop()),o},!0,!0),s},r.render=function(){var s={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},i=this.props,o=i.component,a=i.render,l=i.children,u=i.name,d=i.formik,f=zr(d,["validate","validationSchema"]),h=Y({},s,{form:f,name:u});return o?w.createElement(o,h):a?a(h):l?typeof l=="function"?l(h):x_(l)?null:w.Children.only(l):null},e}(w.Component);$2.defaultProps={validateOnChange:!0};var D2=function(t){w_(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.shouldComponentUpdate=function(s){return ue(this.props.formik.errors,this.props.name)!==ue(s.formik.errors,this.props.name)||ue(this.props.formik.touched,this.props.name)!==ue(s.formik.touched,this.props.name)||Object.keys(this.props).length!==Object.keys(s).length},r.render=function(){var s=this.props,i=s.component,o=s.formik,a=s.render,l=s.children,u=s.name,d=zr(s,["component","formik","render","children","name"]),f=ue(o.touched,u),h=ue(o.errors,u);return f&&h?a?Ie(a)?a(h):null:l?Ie(l)?l(h):null:i?w.createElement(i,d,h):h:null},e}(w.Component),Ve=P2(D2);function Zn(t){this._maxSize=t,this.clear()}Zn.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Zn.prototype.get=function(t){return this._values[t]};Zn.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var L2=/[^.^\]^[]+|(?=\[\]|\.\.)/g,S_=/^\d+$/,F2=/^\d/,U2=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,M2=/^\s*(['"]?)(.*?)(\1)\s*$/,ih=512,fg=new Zn(ih),hg=new Zn(ih),pg=new Zn(ih),Nn={Cache:Zn,split:gd,normalizePath:qu,setter:function(t){var e=qu(t);return hg.get(t)||hg.set(t,function(n,s){for(var i=0,o=e.length,a=n;i<o-1;){var l=e[i];if(l==="__proto__"||l==="constructor"||l==="prototype")return n;a=a[e[i++]]}a[e[i]]=s})},getter:function(t,e){var r=qu(t);return pg.get(t)||pg.set(t,function(s){for(var i=0,o=r.length;i<o;)if(s!=null||!e)s=s[r[i++]];else return;return s})},join:function(t){return t.reduce(function(e,r){return e+(oh(r)||S_.test(r)?"["+r+"]":(e?".":"")+r)},"")},forEach:function(t,e,r){z2(Array.isArray(t)?t:gd(t),e,r)}};function qu(t){return fg.get(t)||fg.set(t,gd(t).map(function(e){return e.replace(M2,"$2")}))}function gd(t){return t.match(L2)||[""]}function z2(t,e,r){var n=t.length,s,i,o,a;for(i=0;i<n;i++)s=t[i],s&&(H2(s)&&(s='"'+s+'"'),a=oh(s),o=!a&&/^\d+$/.test(s),e.call(r,s,a,o,i,t))}function oh(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function B2(t){return t.match(F2)&&!t.match(S_)}function V2(t){return U2.test(t)}function H2(t){return!oh(t)&&(B2(t)||V2(t))}const W2=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,Hl=t=>t.match(W2)||[],Wl=t=>t[0].toUpperCase()+t.slice(1),ah=(t,e)=>Hl(t).join(e).toLowerCase(),E_=t=>Hl(t).reduce((e,r)=>`${e}${e?r[0].toUpperCase()+r.slice(1).toLowerCase():r.toLowerCase()}`,""),q2=t=>Wl(E_(t)),K2=t=>ah(t,"_"),G2=t=>ah(t,"-"),J2=t=>Wl(ah(t," ")),Y2=t=>Hl(t).map(Wl).join(" ");var Ku={words:Hl,upperFirst:Wl,camelCase:E_,pascalCase:q2,snakeCase:K2,kebabCase:G2,sentenceCase:J2,titleCase:Y2},lh={exports:{}};lh.exports=function(t){return k_(Q2(t),t)};lh.exports.array=k_;function k_(t,e){var r=t.length,n=new Array(r),s={},i=r,o=X2(e),a=Z2(t);for(e.forEach(function(u){if(!a.has(u[0])||!a.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});i--;)s[i]||l(t[i],i,new Set);return n;function l(u,d,f){if(f.has(u)){var h;try{h=", node was:"+JSON.stringify(u)}catch{h=""}throw new Error("Cyclic dependency"+h)}if(!a.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!s[d]){s[d]=!0;var g=o.get(u)||new Set;if(g=Array.from(g),d=g.length){f.add(u);do{var y=g[--d];l(y,a.get(y),f)}while(d);f.delete(u)}n[--r]=u}}}function Q2(t){for(var e=new Set,r=0,n=t.length;r<n;r++){var s=t[r];e.add(s[0]),e.add(s[1])}return Array.from(e)}function X2(t){for(var e=new Map,r=0,n=t.length;r<n;r++){var s=t[r];e.has(s[0])||e.set(s[0],new Set),e.has(s[1])||e.set(s[1],new Set),e.get(s[0]).add(s[1])}return e}function Z2(t){for(var e=new Map,r=0,n=t.length;r<n;r++)e.set(t[r],r);return e}var e$=lh.exports;const t$=Za(e$),r$=Object.prototype.toString,n$=Error.prototype.toString,s$=RegExp.prototype.toString,i$=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",o$=/^Symbol\((.*)\)(.*)$/;function a$(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function mg(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const r=typeof t;if(r==="number")return a$(t);if(r==="string")return e?`"${t}"`:t;if(r==="function")return"[Function "+(t.name||"anonymous")+"]";if(r==="symbol")return i$.call(t).replace(o$,"Symbol($1)");const n=r$.call(t).slice(8,-1);return n==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):n==="Error"||t instanceof Error?"["+n$.call(t)+"]":n==="RegExp"?s$.call(t):null}function ur(t,e){let r=mg(t,e);return r!==null?r:JSON.stringify(t,function(n,s){let i=mg(this[n],e);return i!==null?i:s},2)}function T_(t){return t==null?[]:[].concat(t)}let I_,C_,j_,l$=/\$\{\s*(\w+)\s*\}/g;I_=Symbol.toStringTag;class gg{constructor(e,r,n,s){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[I_]="Error",this.name="ValidationError",this.value=r,this.path=n,this.type=s,this.errors=[],this.inner=[],T_(e).forEach(i=>{if(qe.isError(i)){this.errors.push(...i.errors);const o=i.inner.length?i.inner:[i];this.inner.push(...o)}else this.errors.push(i)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}C_=Symbol.hasInstance;j_=Symbol.toStringTag;class qe extends Error{static formatError(e,r){const n=r.label||r.path||"this";return r=Object.assign({},r,{path:n,originalPath:r.path}),typeof e=="string"?e.replace(l$,(s,i)=>ur(r[i])):typeof e=="function"?e(r):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,r,n,s,i){const o=new gg(e,r,n,s);if(i)return o;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[j_]="Error",this.name=o.name,this.message=o.message,this.type=o.type,this.value=o.value,this.path=o.path,this.errors=o.errors,this.inner=o.inner,Error.captureStackTrace&&Error.captureStackTrace(this,qe)}static[C_](e){return gg[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Ut={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:r,originalValue:n})=>{const s=n!=null&&n!==r?` (cast from the value \`${ur(n,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${ur(r,!0)}\``+s:`${t} must match the configured type. The validated value was: \`${ur(r,!0)}\``+s}},Be={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},u$={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},yd={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},c$={isValue:"${path} field must be ${value}"},ua={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},ca={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},d$={notType:t=>{const{path:e,value:r,spec:n}=t,s=n.types.length;if(Array.isArray(r)){if(r.length<s)return`${e} tuple value has too few items, expected a length of ${s} but got ${r.length} for value: \`${ur(r,!0)}\``;if(r.length>s)return`${e} tuple value has too many items, expected a length of ${s} but got ${r.length} for value: \`${ur(r,!0)}\``}return qe.formatError(Ut.notType,t)}};Object.assign(Object.create(null),{mixed:Ut,string:Be,number:u$,date:yd,object:ua,array:ca,boolean:c$,tuple:d$});const ql=t=>t&&t.__isYupSchema__;class Ga{static fromOptions(e,r){if(!r.then&&!r.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:s,otherwise:i}=r,o=typeof n=="function"?n:(...a)=>a.every(l=>l===n);return new Ga(e,(a,l)=>{var u;let d=o(...a)?s:i;return(u=d==null?void 0:d(l))!=null?u:l})}constructor(e,r){this.fn=void 0,this.refs=e,this.refs=e,this.fn=r}resolve(e,r){let n=this.refs.map(i=>i.getValue(r==null?void 0:r.value,r==null?void 0:r.parent,r==null?void 0:r.context)),s=this.fn(n,e,r);if(s===void 0||s===e)return e;if(!ql(s))throw new TypeError("conditions must return a schema object");return s.resolve(r)}}const qo={context:"$",value:"."};function f$(t,e){return new dn(t,e)}class dn{constructor(e,r={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===qo.context,this.isValue=this.key[0]===qo.value,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?qo.context:this.isValue?qo.value:"";this.path=this.key.slice(n.length),this.getter=this.path&&Nn.getter(this.path,!0),this.map=r.map}getValue(e,r,n){let s=this.isContext?n:this.isValue?e:r;return this.getter&&(s=this.getter(s||{})),this.map&&(s=this.map(s)),s}cast(e,r){return this.getValue(e,r==null?void 0:r.parent,r==null?void 0:r.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}dn.prototype.__isYupRef=!0;const Tn=t=>t==null;function is(t){function e({value:r,path:n="",options:s,originalValue:i,schema:o},a,l){const{name:u,test:d,params:f,message:h,skipAbsent:g}=t;let{parent:y,context:_,abortEarly:x=o.spec.abortEarly,disableStackTrace:p=o.spec.disableStackTrace}=s;function m(N){return dn.isRef(N)?N.getValue(r,y,_):N}function v(N={}){const F=Object.assign({value:r,originalValue:i,label:o.spec.label,path:N.path||n,spec:o.spec,disableStackTrace:N.disableStackTrace||p},f,N.params);for(const pe of Object.keys(F))F[pe]=m(F[pe]);const K=new qe(qe.formatError(N.message||h,F),r,F.path,N.type||u,F.disableStackTrace);return K.params=F,K}const E=x?a:l;let T={path:n,parent:y,type:u,from:s.from,createError:v,resolve:m,options:s,originalValue:i,schema:o};const k=N=>{qe.isError(N)?E(N):N?l(null):E(v())},b=N=>{qe.isError(N)?E(N):a(N)};if(g&&Tn(r))return k(!0);let A;try{var U;if(A=d.call(T,r,T),typeof((U=A)==null?void 0:U.then)=="function"){if(s.sync)throw new Error(`Validation test of type: "${T.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(A).then(k,b)}}catch(N){b(N);return}k(A)}return e.OPTIONS=t,e}function h$(t,e,r,n=r){let s,i,o;return e?(Nn.forEach(e,(a,l,u)=>{let d=l?a.slice(1,a.length-1):a;t=t.resolve({context:n,parent:s,value:r});let f=t.type==="tuple",h=u?parseInt(d,10):0;if(t.innerType||f){if(f&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(r&&h>=r.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${e}. because there is no value at that index. `);s=r,r=r&&r[h],t=f?t.spec.types[h]:t.innerType}if(!u){if(!t.fields||!t.fields[d])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t.type}")`);s=r,r=r&&r[d],t=t.fields[d]}i=d,o=l?"["+a+"]":"."+a}),{schema:t,parent:s,parentPath:i}):{parent:s,parentPath:e,schema:t}}class Ja extends Set{describe(){const e=[];for(const r of this.values())e.push(dn.isRef(r)?r.describe():r);return e}resolveAll(e){let r=[];for(const n of this.values())r.push(e(n));return r}clone(){return new Ja(this.values())}merge(e,r){const n=this.clone();return e.forEach(s=>n.add(s)),r.forEach(s=>n.delete(s)),n}}function _s(t,e=new Map){if(ql(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let r;if(t instanceof Date)r=new Date(t.getTime()),e.set(t,r);else if(t instanceof RegExp)r=new RegExp(t),e.set(t,r);else if(Array.isArray(t)){r=new Array(t.length),e.set(t,r);for(let n=0;n<t.length;n++)r[n]=_s(t[n],e)}else if(t instanceof Map){r=new Map,e.set(t,r);for(const[n,s]of t.entries())r.set(n,_s(s,e))}else if(t instanceof Set){r=new Set,e.set(t,r);for(const n of t)r.add(_s(n,e))}else if(t instanceof Object){r={},e.set(t,r);for(const[n,s]of Object.entries(t))r[n]=_s(s,e)}else throw Error(`Unable to clone ${t}`);return r}class Ot{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Ja,this._blacklist=new Ja,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Ut.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(r=>{r.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const r=Object.create(Object.getPrototypeOf(this));return r.type=this.type,r._typeCheck=this._typeCheck,r._whitelist=this._whitelist.clone(),r._blacklist=this._blacklist.clone(),r.internalTests=Object.assign({},this.internalTests),r.exclusiveTests=Object.assign({},this.exclusiveTests),r.deps=[...this.deps],r.conditions=[...this.conditions],r.tests=[...this.tests],r.transforms=[...this.transforms],r.spec=_s(Object.assign({},this.spec,e)),r}label(e){let r=this.clone();return r.spec.label=e,r}meta(...e){if(e.length===0)return this.spec.meta;let r=this.clone();return r.spec.meta=Object.assign(r.spec.meta||{},e[0]),r}withMutation(e){let r=this._mutate;this._mutate=!0;let n=e(this);return this._mutate=r,n}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let r=this,n=e.clone();const s=Object.assign({},r.spec,n.spec);return n.spec=s,n.internalTests=Object.assign({},r.internalTests,n.internalTests),n._whitelist=r._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=r._blacklist.merge(e._blacklist,e._whitelist),n.tests=r.tests,n.exclusiveTests=r.exclusiveTests,n.withMutation(i=>{e.tests.forEach(o=>{i.test(o.OPTIONS)})}),n.transforms=[...r.transforms,...n.transforms],n}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let r=this;if(r.conditions.length){let n=r.conditions;r=r.clone(),r.conditions=[],r=n.reduce((s,i)=>i.resolve(s,e),r),r=r.resolve(e)}return r}resolveOptions(e){var r,n,s,i;return Object.assign({},e,{from:e.from||[],strict:(r=e.strict)!=null?r:this.spec.strict,abortEarly:(n=e.abortEarly)!=null?n:this.spec.abortEarly,recursive:(s=e.recursive)!=null?s:this.spec.recursive,disableStackTrace:(i=e.disableStackTrace)!=null?i:this.spec.disableStackTrace})}cast(e,r={}){let n=this.resolve(Object.assign({value:e},r)),s=r.assert==="ignore-optionality",i=n._cast(e,r);if(r.assert!==!1&&!n.isType(i)){if(s&&Tn(i))return i;let o=ur(e),a=ur(i);throw new TypeError(`The value of ${r.path||"field"} could not be cast to a value that satisfies the schema type: "${n.type}". 

attempted value: ${o} 
`+(a!==o?`result of cast: ${a}`:""))}return i}_cast(e,r){let n=e===void 0?e:this.transforms.reduce((s,i)=>i.call(this,s,e,this),e);return n===void 0&&(n=this.getDefault(r)),n}_validate(e,r={},n,s){let{path:i,originalValue:o=e,strict:a=this.spec.strict}=r,l=e;a||(l=this._cast(l,Object.assign({assert:!1},r)));let u=[];for(let d of Object.values(this.internalTests))d&&u.push(d);this.runTests({path:i,value:l,originalValue:o,options:r,tests:u},n,d=>{if(d.length)return s(d,l);this.runTests({path:i,value:l,originalValue:o,options:r,tests:this.tests},n,s)})}runTests(e,r,n){let s=!1,{tests:i,value:o,originalValue:a,path:l,options:u}=e,d=_=>{s||(s=!0,r(_,o))},f=_=>{s||(s=!0,n(_,o))},h=i.length,g=[];if(!h)return f([]);let y={value:o,originalValue:a,path:l,options:u,schema:this};for(let _=0;_<i.length;_++){const x=i[_];x(y,d,function(m){m&&(Array.isArray(m)?g.push(...m):g.push(m)),--h<=0&&f(g)})}}asNestedTest({key:e,index:r,parent:n,parentPath:s,originalParent:i,options:o}){const a=e??r;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof a=="number";let u=n[a];const d=Object.assign({},o,{strict:!0,parent:n,value:u,originalValue:i[a],key:void 0,[l?"index":"key"]:a,path:l||a.includes(".")?`${s||""}[${l?a:`"${a}"`}]`:(s?`${s}.`:"")+e});return(f,h,g)=>this.resolve(d)._validate(u,d,h,g)}validate(e,r){var n;let s=this.resolve(Object.assign({},r,{value:e})),i=(n=r==null?void 0:r.disableStackTrace)!=null?n:s.spec.disableStackTrace;return new Promise((o,a)=>s._validate(e,r,(l,u)=>{qe.isError(l)&&(l.value=u),a(l)},(l,u)=>{l.length?a(new qe(l,u,void 0,void 0,i)):o(u)}))}validateSync(e,r){var n;let s=this.resolve(Object.assign({},r,{value:e})),i,o=(n=r==null?void 0:r.disableStackTrace)!=null?n:s.spec.disableStackTrace;return s._validate(e,Object.assign({},r,{sync:!0}),(a,l)=>{throw qe.isError(a)&&(a.value=l),a},(a,l)=>{if(a.length)throw new qe(a,e,void 0,void 0,o);i=l}),i}isValid(e,r){return this.validate(e,r).then(()=>!0,n=>{if(qe.isError(n))return!1;throw n})}isValidSync(e,r){try{return this.validateSync(e,r),!0}catch(n){if(qe.isError(n))return!1;throw n}}_getDefault(e){let r=this.spec.default;return r==null?r:typeof r=="function"?r.call(this,e):_s(r)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,r){const n=this.clone({nullable:e});return n.internalTests.nullable=is({message:r,name:"nullable",test(s){return s===null?this.schema.spec.nullable:!0}}),n}optionality(e,r){const n=this.clone({optional:e});return n.internalTests.optionality=is({message:r,name:"optionality",test(s){return s===void 0?this.schema.spec.optional:!0}}),n}optional(){return this.optionality(!0)}defined(e=Ut.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Ut.notNull){return this.nullability(!1,e)}required(e=Ut.required){return this.clone().withMutation(r=>r.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let r=this.clone();return r.transforms.push(e),r}test(...e){let r;if(e.length===1?typeof e[0]=="function"?r={test:e[0]}:r=e[0]:e.length===2?r={name:e[0],test:e[1]}:r={name:e[0],message:e[1],test:e[2]},r.message===void 0&&(r.message=Ut.default),typeof r.test!="function")throw new TypeError("`test` is a required parameters");let n=this.clone(),s=is(r),i=r.exclusive||r.name&&n.exclusiveTests[r.name]===!0;if(r.exclusive&&!r.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return r.name&&(n.exclusiveTests[r.name]=!!r.exclusive),n.tests=n.tests.filter(o=>!(o.OPTIONS.name===r.name&&(i||o.OPTIONS.test===s.OPTIONS.test))),n.tests.push(s),n}when(e,r){!Array.isArray(e)&&typeof e!="string"&&(r=e,e=".");let n=this.clone(),s=T_(e).map(i=>new dn(i));return s.forEach(i=>{i.isSibling&&n.deps.push(i.key)}),n.conditions.push(typeof r=="function"?new Ga(s,r):Ga.fromOptions(s,r)),n}typeError(e){let r=this.clone();return r.internalTests.typeError=is({message:e,name:"typeError",skipAbsent:!0,test(n){return this.schema._typeCheck(n)?!0:this.createError({params:{type:this.schema.type}})}}),r}oneOf(e,r=Ut.oneOf){let n=this.clone();return e.forEach(s=>{n._whitelist.add(s),n._blacklist.delete(s)}),n.internalTests.whiteList=is({message:r,name:"oneOf",skipAbsent:!0,test(s){let i=this.schema._whitelist,o=i.resolveAll(this.resolve);return o.includes(s)?!0:this.createError({params:{values:Array.from(i).join(", "),resolved:o}})}}),n}notOneOf(e,r=Ut.notOneOf){let n=this.clone();return e.forEach(s=>{n._blacklist.add(s),n._whitelist.delete(s)}),n.internalTests.blacklist=is({message:r,name:"notOneOf",test(s){let i=this.schema._blacklist,o=i.resolveAll(this.resolve);return o.includes(s)?this.createError({params:{values:Array.from(i).join(", "),resolved:o}}):!0}}),n}strip(e=!0){let r=this.clone();return r.spec.strip=e,r}describe(e){const r=(e?this.resolve(e):this).clone(),{label:n,meta:s,optional:i,nullable:o}=r.spec;return{meta:s,label:n,optional:i,nullable:o,default:r.getDefault(e),type:r.type,oneOf:r._whitelist.describe(),notOneOf:r._blacklist.describe(),tests:r.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,u,d)=>d.findIndex(f=>f.name===l.name)===u)}}}Ot.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])Ot.prototype[`${t}At`]=function(e,r,n={}){const{parent:s,parentPath:i,schema:o}=h$(this,e,r,n.context);return o[t](s&&s[i],Object.assign({},n,{parent:s,path:e}))};for(const t of["equals","is"])Ot.prototype[t]=Ot.prototype.oneOf;for(const t of["not","nope"])Ot.prototype[t]=Ot.prototype.notOneOf;const p$=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function m$(t){const e=vd(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let r=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(r=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(r=0-r)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+r,e.second,e.millisecond)}function vd(t){var e,r;const n=p$.exec(t);return n?{year:Qt(n[1]),month:Qt(n[2],1)-1,day:Qt(n[3],1),hour:Qt(n[4]),minute:Qt(n[5]),second:Qt(n[6]),millisecond:n[7]?Qt(n[7].substring(0,3)):0,precision:(e=(r=n[7])==null?void 0:r.length)!=null?e:void 0,z:n[8]||void 0,plusMinus:n[9]||void 0,hourOffset:Qt(n[10]),minuteOffset:Qt(n[11])}:null}function Qt(t,e=0){return Number(t)||e}let g$=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,y$=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,v$=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,w$="^\\d{4}-\\d{2}-\\d{2}",_$="\\d{2}:\\d{2}:\\d{2}",x$="(([+-]\\d{2}(:?\\d{2})?)|Z)",b$=new RegExp(`${w$}T${_$}(\\.\\d+)?${x$}$`),S$=t=>Tn(t)||t===t.trim(),E$={}.toString();function ft(){return new N_}class N_ extends Ot{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(!n.spec.coerce||n.isType(e)||Array.isArray(e))return e;const s=e!=null&&e.toString?e.toString():e;return s===E$?e:s})})}required(e){return super.required(e).withMutation(r=>r.test({message:e||Ut.required,name:"required",skipAbsent:!0,test:n=>!!n.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(r=>r.OPTIONS.name!=="required"),e))}length(e,r=Be.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,r=Be.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,r=Be.max){return this.test({name:"max",exclusive:!0,message:r,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}matches(e,r){let n=!1,s,i;return r&&(typeof r=="object"?{excludeEmptyString:n=!1,message:s,name:i}=r:s=r),this.test({name:i||"matches",message:s||Be.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&n||o.search(e)!==-1})}email(e=Be.email){return this.matches(g$,{name:"email",message:e,excludeEmptyString:!0})}url(e=Be.url){return this.matches(y$,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Be.uuid){return this.matches(v$,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let r="",n,s;return e&&(typeof e=="object"?{message:r="",allowOffset:n=!1,precision:s=void 0}=e:r=e),this.matches(b$,{name:"datetime",message:r||Be.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:r||Be.datetime_offset,params:{allowOffset:n},skipAbsent:!0,test:i=>{if(!i||n)return!0;const o=vd(i);return o?!!o.z:!1}}).test({name:"datetime_precision",message:r||Be.datetime_precision,params:{precision:s},skipAbsent:!0,test:i=>{if(!i||s==null)return!0;const o=vd(i);return o?o.precision===s:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Be.trim){return this.transform(r=>r!=null?r.trim():r).test({message:e,name:"trim",test:S$})}lowercase(e=Be.lowercase){return this.transform(r=>Tn(r)?r:r.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>Tn(r)||r===r.toLowerCase()})}uppercase(e=Be.uppercase){return this.transform(r=>Tn(r)?r:r.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>Tn(r)||r===r.toUpperCase()})}}ft.prototype=N_.prototype;let k$=new Date(""),T$=t=>Object.prototype.toString.call(t)==="[object Date]";class uh extends Ot{constructor(){super({type:"date",check(e){return T$(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,r,n)=>!n.spec.coerce||n.isType(e)||e===null?e:(e=m$(e),isNaN(e)?uh.INVALID_DATE:new Date(e)))})}prepareParam(e,r){let n;if(dn.isRef(e))n=e;else{let s=this.cast(e);if(!this._typeCheck(s))throw new TypeError(`\`${r}\` must be a Date or a value that can be \`cast()\` to a Date`);n=s}return n}min(e,r=yd.min){let n=this.prepareParam(e,"min");return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(s){return s>=this.resolve(n)}})}max(e,r=yd.max){let n=this.prepareParam(e,"max");return this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(s){return s<=this.resolve(n)}})}}uh.INVALID_DATE=k$;function I$(t,e=[]){let r=[],n=new Set,s=new Set(e.map(([o,a])=>`${o}-${a}`));function i(o,a){let l=Nn.split(o)[0];n.add(l),s.has(`${a}-${l}`)||r.push([a,l])}for(const o of Object.keys(t)){let a=t[o];n.add(o),dn.isRef(a)&&a.isSibling?i(a.path,o):ql(a)&&"deps"in a&&a.deps.forEach(l=>i(l,o))}return t$.array(Array.from(n),r).reverse()}function yg(t,e){let r=1/0;return t.some((n,s)=>{var i;if((i=e.path)!=null&&i.includes(n))return r=s,!0}),r}function P_(t){return(e,r)=>yg(t,e)-yg(t,r)}const O_=(t,e,r)=>{if(typeof t!="string")return t;let n=t;try{n=JSON.parse(t)}catch{}return r.isType(n)?n:t};function da(t){if("fields"in t){const e={};for(const[r,n]of Object.entries(t.fields))e[r]=da(n);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=da(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(da)}):"optional"in t?t.optional():t}const C$=(t,e)=>{const r=[...Nn.normalizePath(e)];if(r.length===1)return r[0]in t;let n=r.pop(),s=Nn.getter(Nn.join(r),!0)(t);return!!(s&&n in s)};let vg=t=>Object.prototype.toString.call(t)==="[object Object]";function wg(t,e){let r=Object.keys(t.fields);return Object.keys(e).filter(n=>r.indexOf(n)===-1)}const j$=P_([]);function Kl(t){return new A_(t)}class A_ extends Ot{constructor(e){super({type:"object",check(r){return vg(r)||typeof r=="function"}}),this.fields=Object.create(null),this._sortErrors=j$,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,r={}){var n;let s=super._cast(e,r);if(s===void 0)return this.getDefault(r);if(!this._typeCheck(s))return s;let i=this.fields,o=(n=r.stripUnknown)!=null?n:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(s).filter(f=>!this._nodes.includes(f))),l={},u=Object.assign({},r,{parent:l,__validating:r.__validating||!1}),d=!1;for(const f of a){let h=i[f],g=f in s;if(h){let y,_=s[f];u.path=(r.path?`${r.path}.`:"")+f,h=h.resolve({value:_,context:r.context,parent:l});let x=h instanceof Ot?h.spec:void 0,p=x==null?void 0:x.strict;if(x!=null&&x.strip){d=d||f in s;continue}y=!r.__validating||!p?h.cast(s[f],u):s[f],y!==void 0&&(l[f]=y)}else g&&!o&&(l[f]=s[f]);(g!==f in l||l[f]!==s[f])&&(d=!0)}return d?l:s}_validate(e,r={},n,s){let{from:i=[],originalValue:o=e,recursive:a=this.spec.recursive}=r;r.from=[{schema:this,value:o},...i],r.__validating=!0,r.originalValue=o,super._validate(e,r,n,(l,u)=>{if(!a||!vg(u)){s(l,u);return}o=o||u;let d=[];for(let f of this._nodes){let h=this.fields[f];!h||dn.isRef(h)||d.push(h.asNestedTest({options:r,key:f,parent:u,parentPath:r.path,originalParent:o}))}this.runTests({tests:d,value:u,originalValue:o,options:r},n,f=>{s(f.sort(this._sortErrors).concat(l),u)})})}clone(e){const r=super.clone(e);return r.fields=Object.assign({},this.fields),r._nodes=this._nodes,r._excludedEdges=this._excludedEdges,r._sortErrors=this._sortErrors,r}concat(e){let r=super.concat(e),n=r.fields;for(let[s,i]of Object.entries(this.fields)){const o=n[s];n[s]=o===void 0?i:o}return r.withMutation(s=>s.setFields(n,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let r={};return this._nodes.forEach(n=>{var s;const i=this.fields[n];let o=e;(s=o)!=null&&s.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[n]})),r[n]=i&&"getDefault"in i?i.getDefault(o):void 0}),r}setFields(e,r){let n=this.clone();return n.fields=e,n._nodes=I$(e,r),n._sortErrors=P_(Object.keys(e)),r&&(n._excludedEdges=r),n}shape(e,r=[]){return this.clone().withMutation(n=>{let s=n._excludedEdges;return r.length&&(Array.isArray(r[0])||(r=[r]),s=[...n._excludedEdges,...r]),n.setFields(Object.assign(n.fields,e),s)})}partial(){const e={};for(const[r,n]of Object.entries(this.fields))e[r]="optional"in n&&n.optional instanceof Function?n.optional():n;return this.setFields(e)}deepPartial(){return da(this)}pick(e){const r={};for(const n of e)this.fields[n]&&(r[n]=this.fields[n]);return this.setFields(r,this._excludedEdges.filter(([n,s])=>e.includes(n)&&e.includes(s)))}omit(e){const r=[];for(const n of Object.keys(this.fields))e.includes(n)||r.push(n);return this.pick(r)}from(e,r,n){let s=Nn.getter(e,!0);return this.transform(i=>{if(!i)return i;let o=i;return C$(i,e)&&(o=Object.assign({},i),n||delete o[e],o[r]=s(i)),o})}json(){return this.transform(O_)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||ua.exact,test(r){if(r==null)return!0;const n=wg(this.schema,r);return n.length===0||this.createError({params:{properties:n.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,r=ua.noUnknown){typeof e!="boolean"&&(r=e,e=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:r,test(s){if(s==null)return!0;const i=wg(this.schema,s);return!e||i.length===0||this.createError({params:{unknown:i.join(", ")}})}});return n.spec.noUnknown=e,n}unknown(e=!0,r=ua.noUnknown){return this.noUnknown(!e,r)}transformKeys(e){return this.transform(r=>{if(!r)return r;const n={};for(const s of Object.keys(r))n[e(s)]=r[s];return n})}camelCase(){return this.transformKeys(Ku.camelCase)}snakeCase(){return this.transformKeys(Ku.snakeCase)}constantCase(){return this.transformKeys(e=>Ku.snakeCase(e).toUpperCase())}describe(e){const r=(e?this.resolve(e):this).clone(),n=super.describe(e);n.fields={};for(const[i,o]of Object.entries(r.fields)){var s;let a=e;(s=a)!=null&&s.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[i]})),n.fields[i]=o.describe(a)}return n}}Kl.prototype=A_.prototype;function fa(t){return new R_(t)}class R_ extends Ot{constructor(e){super({type:"array",spec:{types:e},check(r){return Array.isArray(r)}}),this.innerType=void 0,this.innerType=e}_cast(e,r){const n=super._cast(e,r);if(!this._typeCheck(n)||!this.innerType)return n;let s=!1;const i=n.map((o,a)=>{const l=this.innerType.cast(o,Object.assign({},r,{path:`${r.path||""}[${a}]`}));return l!==o&&(s=!0),l});return s?i:n}_validate(e,r={},n,s){var i;let o=this.innerType,a=(i=r.recursive)!=null?i:this.spec.recursive;r.originalValue!=null&&r.originalValue,super._validate(e,r,n,(l,u)=>{var d;if(!a||!o||!this._typeCheck(u)){s(l,u);return}let f=new Array(u.length);for(let g=0;g<u.length;g++){var h;f[g]=o.asNestedTest({options:r,index:g,parent:u,parentPath:r.path,originalParent:(h=r.originalValue)!=null?h:e})}this.runTests({value:u,tests:f,originalValue:(d=r.originalValue)!=null?d:e,options:r},n,g=>s(g.concat(l),u))})}clone(e){const r=super.clone(e);return r.innerType=this.innerType,r}json(){return this.transform(O_)}concat(e){let r=super.concat(e);return r.innerType=this.innerType,e.innerType&&(r.innerType=r.innerType?r.innerType.concat(e.innerType):e.innerType),r}of(e){let r=this.clone();if(!ql(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+ur(e));return r.innerType=e,r.spec=Object.assign({},r.spec,{types:e}),r}length(e,r=ca.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,r){return r=r||ca.min,this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,r){return r=r||ca.max,this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,r)=>this._typeCheck(e)?e:r==null?[]:[].concat(r))}compact(e){let r=e?(n,s,i)=>!e(n,s,i):n=>!!n;return this.transform(n=>n!=null?n.filter(r):n)}describe(e){const r=(e?this.resolve(e):this).clone(),n=super.describe(e);if(r.innerType){var s;let i=e;(s=i)!=null&&s.value&&(i=Object.assign({},i,{parent:i.value,value:i.value[0]})),n.innerType=r.innerType.describe(i)}return n}}fa.prototype=R_.prototype;const N$=()=>{const[t,e]=w.useState(""),[r,n]=w.useState(!1),{login:s,currentUser:i}=wt(),o=an();w.useEffect(()=>{i&&o("/dashboard")},[i,o]);const a=Kl({email:ft().email("Invalid email address").required("Email is required"),password:ft().required("Password is required").min(6,"Password must be at least 6 characters")}),l={email:"",password:""},u=async(d,{setSubmitting:f})=>{try{e(""),n(!0),await s(d.email,d.password),o("/dashboard")}catch(h){e("Failed to log in. Please check your credentials."),console.error(h)}finally{n(!1),f(!1)}};return c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-3xl font-bold text-text-dark mb-4",children:"Welcome to LeadLines"}),c.jsx("p",{className:"text-text-dark mb-8",children:"Powerful Campaigns Made For You In Seconds."}),c.jsx("div",{className:"max-w-md mx-auto mb-12",children:c.jsxs("div",{className:"card",children:[c.jsx("h3",{className:"text-xl font-semibold text-text-dark mb-4",children:"Log In to Your Account"}),t&&c.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",role:"alert",children:c.jsx("span",{className:"block sm:inline",children:t})}),c.jsx(sh,{initialValues:l,validationSchema:a,onSubmit:u,children:({isSubmitting:d})=>c.jsxs(Vl,{className:"space-y-4",children:[c.jsxs("div",{className:"text-left",children:[c.jsx("label",{htmlFor:"email",className:"block text-text-dark mb-1",children:"Email"}),c.jsx(ee,{type:"email",id:"email",name:"email",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",placeholder:"your@email.com"}),c.jsx(Ve,{name:"email",component:"div",className:"text-red-500 text-sm mt-1"})]}),c.jsxs("div",{className:"text-left",children:[c.jsx("label",{htmlFor:"password",className:"block text-text-dark mb-1",children:"Password"}),c.jsx(ee,{type:"password",id:"password",name:"password",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",placeholder:"••••••••"}),c.jsx(Ve,{name:"password",component:"div",className:"text-red-500 text-sm mt-1"})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded"}),c.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-text-dark",children:"Remember me"})]}),c.jsx("div",{className:"text-sm",children:c.jsx("a",{href:"#",className:"text-secondary hover:text-opacity-80",children:"Forgot password?"})})]}),c.jsx("button",{type:"submit",disabled:d||r,className:"w-full btn-primary disabled:opacity-50",children:r?"Logging in...":"Log In"})]})}),c.jsx("div",{className:"mt-4 text-center",children:c.jsxs("p",{className:"text-text-dark",children:["Don't have an account?"," ",c.jsx(dt,{to:"/register",className:"text-secondary hover:text-opacity-80",children:"Sign up"})]})})]})}),c.jsxs("div",{className:"mt-8 bg-accent p-6 rounded-lg shadow-md max-w-4xl mx-auto",children:[c.jsx("h3",{className:"text-xl font-semibold text-text-dark mb-3",children:"Harness The Power"}),c.jsxs("ul",{className:"text-left text-text-dark space-y-2",children:[c.jsx("li",{children:"✓ Access proven sales workflows that generate leads and campaigns"}),c.jsx("li",{children:"✓ Real-time cost estimation before launching campaigns"}),c.jsx("li",{children:"✓ Target the perfect audience for your services"}),c.jsx("li",{children:"✓ Save time with automated lead generation processes"})]})]})]})},P$=()=>{const[t,e]=w.useState(""),[r,n]=w.useState(!1),{signup:s,currentUser:i}=wt(),o=an();w.useEffect(()=>{i&&o("/dashboard")},[i,o]);const a=Kl({name:ft().required("Name is required").min(2,"Name must be at least 2 characters"),email:ft().email("Invalid email address").required("Email is required"),password:ft().required("Password is required").min(6,"Password must be at least 6 characters"),confirmPassword:ft().oneOf([f$("password"),null],"Passwords must match").required("Confirm Password is required")}),l={name:"",email:"",password:"",confirmPassword:""},u=async(d,{setSubmitting:f})=>{try{e(""),n(!0),await s(d.email,d.password),o("/dashboard")}catch(h){e("Failed to create an account. Please try again."),console.error(h)}finally{n(!1),f(!1)}};return c.jsxs("div",{className:"max-w-md mx-auto",children:[c.jsx("h2",{className:"text-2xl font-bold text-text-dark mb-6 text-center",children:"Create an Account"}),t&&c.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",role:"alert",children:c.jsx("span",{className:"block sm:inline",children:t})}),c.jsxs("div",{className:"card",children:[c.jsx(sh,{initialValues:l,validationSchema:a,onSubmit:u,children:({isSubmitting:d})=>c.jsxs(Vl,{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"name",className:"block text-text-dark mb-1",children:"Full Name"}),c.jsx(ee,{type:"text",id:"name",name:"name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",placeholder:"John Doe"}),c.jsx(Ve,{name:"name",component:"div",className:"text-red-500 text-sm mt-1"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-text-dark mb-1",children:"Email"}),c.jsx(ee,{type:"email",id:"email",name:"email",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",placeholder:"your@email.com"}),c.jsx(Ve,{name:"email",component:"div",className:"text-red-500 text-sm mt-1"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-text-dark mb-1",children:"Password"}),c.jsx(ee,{type:"password",id:"password",name:"password",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",placeholder:"••••••••"}),c.jsx(Ve,{name:"password",component:"div",className:"text-red-500 text-sm mt-1"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"confirmPassword",className:"block text-text-dark mb-1",children:"Confirm Password"}),c.jsx(ee,{type:"password",id:"confirmPassword",name:"confirmPassword",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",placeholder:"••••••••"}),c.jsx(Ve,{name:"confirmPassword",component:"div",className:"text-red-500 text-sm mt-1"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{id:"terms",name:"terms",type:"checkbox",className:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded",required:!0}),c.jsxs("label",{htmlFor:"terms",className:"ml-2 block text-sm text-text-dark",children:["I agree to the ",c.jsx("a",{href:"#",className:"text-secondary hover:text-opacity-80",children:"Terms of Service"})," and ",c.jsx("a",{href:"#",className:"text-secondary hover:text-opacity-80",children:"Privacy Policy"})]})]}),c.jsx("button",{type:"submit",disabled:d||r,className:"w-full btn-primary disabled:opacity-50",children:r?"Creating Account...":"Sign Up"})]})}),c.jsx("div",{className:"mt-4 text-center",children:c.jsxs("p",{className:"text-text-dark",children:["Already have an account?"," ",c.jsx(dt,{to:"/login",className:"text-secondary hover:text-opacity-80",children:"Log in"})]})})]})]})};let wd;try{wd=require("../../services/WorkflowService").default}catch(t){console.error("Error importing WorkflowService:",t),wd={getUserWorkflowCounts:async()=>[],incrementSubmissionCount:async()=>!0,updateProcessingStatus:async()=>!0}}const O$=()=>{const{currentUser:t}=wt(),[e,r]=w.useState([{id:1,title:"Job Posting Campaign",description:"Find companies with active job postings and target them with your services",submissions:0,hasProcessing:!1,createdAt:"2025-03-28"},{id:2,title:"Coming soon...",description:"Currently in development",submissions:0,hasProcessing:!1,createdAt:"2025-03-30"}]),[n,s]=w.useState(!0),[i,o]=w.useState(null);w.useEffect(()=>{(async()=>{if(!t){s(!1);return}try{s(!0),o(null);const u=await wd.getUserWorkflowCounts(t.uid);if(u&&u.length>0){const d=e.map(f=>{const h=u.find(g=>g.workflow_id===f.id);return h?{...f,submissions:h.submission_count||0,hasProcessing:h.has_processing||!1}:f});r(d)}}catch(u){console.error("Error in fetchUserSubmissionCounts:",u),o("Failed to load workflow data. Please try again later.")}finally{s(!1)}})()},[t]);const a=()=>{window.open("https://app.instantly.ai/app/dashboard","_blank")};return c.jsxs("div",{children:[c.jsx("div",{className:"mb-8",children:c.jsx("h2",{className:"text-2xl font-bold text-text-dark",children:"Dashboard"})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[c.jsxs("button",{onClick:a,className:"card bg-accent text-text-dark hover:bg-accent-dark transition-colors flex flex-col items-center justify-center cursor-pointer",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),c.jsx("h3",{className:"text-xl font-semibold mb-1",children:"Access Instantly Account"}),c.jsx("p",{className:"text-sm text-center",children:"Open your Instantly dashboard in a new tab"})]}),c.jsxs(dt,{to:"/email-submission",className:"card bg-accent text-text-dark hover:bg-accent-dark transition-colors flex flex-col items-center justify-center cursor-pointer",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),c.jsx("h3",{className:"text-xl font-semibold mb-1",children:"Email Account Submission"}),c.jsx("p",{className:"text-sm text-center",children:"Submit your email account details"})]}),c.jsxs(dt,{to:"/schedule-call",className:"card bg-accent text-text-dark hover:bg-accent-dark transition-colors flex flex-col items-center justify-center cursor-pointer",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),c.jsx("h3",{className:"text-xl font-semibold mb-1",children:"Schedule a Call"}),c.jsx("p",{className:"text-sm text-center",children:"Book a consultation with our team"})]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"text-xl font-semibold text-text-dark mb-4",children:"Available Workflows"}),i&&c.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:i}),n?c.jsx("div",{className:"flex justify-center items-center h-40",children:c.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-secondary"})}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(l=>c.jsxs("div",{className:"card hover:shadow-lg transition-shadow flex flex-col h-full",children:[c.jsxs("div",{className:"flex-grow",children:[c.jsx("h4",{className:"text-lg font-semibold text-text-dark mb-2",children:l.title}),c.jsx("p",{className:"text-gray-600 mb-4",children:l.description}),c.jsxs("div",{className:"flex justify-between items-center mb-3",children:[c.jsxs("span",{className:"text-sm text-gray-500",children:["Submissions: ",l.submissions]}),l.hasProcessing&&c.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-yellow-100 text-yellow-800",children:"Processing"})]})]}),c.jsx("div",{className:"mt-auto pt-4",children:c.jsx(dt,{to:`/workflow/${l.id}`,className:"btn-primary w-full block text-center",children:"Select Workflow"})})]},l.id))})]})]})};class A${async getUserWorkflowCounts(e){try{if(!e)return[];const{data:r,error:n}=await Z.from("user_workflow_submissions").select("workflow_id, submission_count, has_processing").eq("user_id",e);return n?(console.error("Error fetching workflow counts:",n),[]):r||[]}catch(r){return console.error("Error in getUserWorkflowCounts:",r),[]}}async incrementSubmissionCount(e,r){try{if(!e||!r)return!1;const{data:n}=await Z.from("user_workflow_submissions").select("id, submission_count").eq("user_id",e).eq("workflow_id",r).single();if(n){const{error:s}=await Z.from("user_workflow_submissions").update({submission_count:n.submission_count+1,updated_at:new Date().toISOString()}).eq("id",n.id);if(s)return console.error("Error updating submission count:",s),!1}else{const{error:s}=await Z.from("user_workflow_submissions").insert({user_id:e,workflow_id:r,submission_count:1,has_processing:!1});if(s)return console.error("Error inserting submission count:",s),!1}return!0}catch(n){return console.error("Error incrementing submission count:",n),!1}}async updateProcessingStatus(e,r,n){try{if(!e||!r)return!1;const{error:s}=await Z.from("user_workflow_submissions").update({has_processing:n,updated_at:new Date().toISOString()}).eq("user_id",e).eq("workflow_id",r);return s?(console.error("Error updating processing status:",s),!1):!0}catch(s){return console.error("Error updating processing status:",s),!1}}}const $_=new A$,R$=()=>{const[t,e]=w.useState(!1),[r,n]=w.useState(0),{id:s}=ZS(),i=an(),{currentUser:o}=wt();w.useEffect(()=>{s!=="1"&&i("/not-found")},[s,i]);const a=Kl({campaignName:ft().required("Campaign name is required").min(3,"Campaign name must be at least 3 characters"),targetIndustries:fa().min(1,"Select at least one target industry"),jobTitles:ft().required("Job titles are required"),locations:fa().min(1,"Select at least one location"),companySize:fa().min(1,"Select at least one company size"),excludedCompanies:ft(),additionalKeywords:ft(),emailTemplate:ft().required("Email template is required").min(50,"Email template must be at least 50 characters")}),l={campaignName:"",targetIndustries:[],jobTitles:"",locations:[],companySize:[],excludedCompanies:"",additionalKeywords:"",emailTemplate:""},u=f=>{const h=f.jobTitles.split(",").length*15,g=f.locations.length>0?.8:1,y=f.targetIndustries.length>0?.9:1,_=f.additionalKeywords?.7:1,x=f.companySize.length>0?.85:1;return(h*g*y*_*x*1.75).toFixed(2)},d=async(f,{setSubmitting:h,resetForm:g})=>{try{console.log("Submitting campaign:",f),await new Promise(y=>setTimeout(y,1e3)),o&&(await $_.incrementSubmissionCount(o.uid,parseInt(s)),console.log("Incremented submission count for workflow:",s)),e(!0),g(),setTimeout(()=>{e(!1)},5e3)}catch(y){console.error("Error submitting campaign:",y)}finally{h(!1)}};return c.jsxs("div",{className:"max-w-2xl mx-auto",children:[c.jsx("h2",{className:"text-2xl font-bold text-text-dark mb-6",children:"Job Posting Campaign"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"This workflow finds companies with active job postings matching your criteria and generates leads for your outreach campaigns."}),t&&c.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",role:"alert",children:c.jsx("span",{className:"block sm:inline",children:"Campaign submitted successfully!"})}),c.jsx("div",{className:"card",children:c.jsx(sh,{initialValues:l,validationSchema:a,onSubmit:d,children:({values:f,isSubmitting:h,touched:g,errors:y})=>(Bt.useEffect(()=>{n(u(f))},[f]),c.jsxs(Vl,{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"campaignName",className:"block text-text-dark mb-1",children:"Campaign Name"}),c.jsx(ee,{type:"text",id:"campaignName",name:"campaignName",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",placeholder:"e.g., Tech Startups Outreach"}),c.jsx(Ve,{name:"campaignName",component:"div",className:"text-red-500 text-sm mt-1"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-text-dark mb-1",children:"Target Industries"}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsxs("label",{className:"flex items-center",children:[c.jsx(ee,{type:"checkbox",name:"targetIndustries",value:"Technology",className:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded"}),c.jsx("span",{className:"ml-2",children:"Technology"})]}),c.jsxs("label",{className:"flex items-center",children:[c.jsx(ee,{type:"checkbox",name:"targetIndustries",value:"Healthcare",className:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded"}),c.jsx("span",{className:"ml-2",children:"Healthcare"})]}),c.jsxs("label",{className:"flex items-center",children:[c.jsx(ee,{type:"checkbox",name:"targetIndustries",value:"Finance",className:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded"}),c.jsx("span",{className:"ml-2",children:"Finance"})]}),c.jsxs("label",{className:"flex items-center",children:[c.jsx(ee,{type:"checkbox",name:"targetIndustries",value:"Education",className:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded"}),c.jsx("span",{className:"ml-2",children:"Education"})]}),c.jsxs("label",{className:"flex items-center",children:[c.jsx(ee,{type:"checkbox",name:"targetIndustries",value:"Retail",className:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded"}),c.jsx("span",{className:"ml-2",children:"Retail"})]}),c.jsxs("label",{className:"flex items-center",children:[c.jsx(ee,{type:"checkbox",name:"targetIndustries",value:"Manufacturing",className:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded"}),c.jsx("span",{className:"ml-2",children:"Manufacturing"})]})]}),c.jsx(Ve,{name:"targetIndustries",component:"div",className:"text-red-500 text-sm mt-1"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"jobTitles",className:"block text-text-dark mb-1",children:"Job Titles"}),c.jsx(ee,{as:"textarea",id:"jobTitles",name:"jobTitles",rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",placeholder:"Enter job titles separated by commas (e.g., Software Engineer, Product Manager, UX Designer)"}),c.jsx(Ve,{name:"jobTitles",component:"div",className:"text-red-500 text-sm mt-1"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-text-dark mb-1",children:"Locations"}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsxs("label",{className:"flex items-center",children:[c.jsx(ee,{type:"checkbox",name:"locations",value:"United States",className:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded"}),c.jsx("span",{className:"ml-2",children:"United States"})]}),c.jsxs("label",{className:"flex items-center",children:[c.jsx(ee,{type:"checkbox",name:"locations",value:"Remote",className:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded"}),c.jsx("span",{className:"ml-2",children:"Remote"})]}),c.jsxs("label",{className:"flex items-center",children:[c.jsx(ee,{type:"checkbox",name:"locations",value:"Europe",className:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded"}),c.jsx("span",{className:"ml-2",children:"Europe"})]}),c.jsxs("label",{className:"flex items-center",children:[c.jsx(ee,{type:"checkbox",name:"locations",value:"Asia",className:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded"}),c.jsx("span",{className:"ml-2",children:"Asia"})]})]}),c.jsx(Ve,{name:"locations",component:"div",className:"text-red-500 text-sm mt-1"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-text-dark mb-1",children:"Company Size"}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsxs("label",{className:"flex items-center",children:[c.jsx(ee,{type:"checkbox",name:"companySize",value:"1-10",className:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded"}),c.jsx("span",{className:"ml-2",children:"1-10 employees"})]}),c.jsxs("label",{className:"flex items-center",children:[c.jsx(ee,{type:"checkbox",name:"companySize",value:"11-50",className:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded"}),c.jsx("span",{className:"ml-2",children:"11-50 employees"})]}),c.jsxs("label",{className:"flex items-center",children:[c.jsx(ee,{type:"checkbox",name:"companySize",value:"51-200",className:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded"}),c.jsx("span",{className:"ml-2",children:"51-200 employees"})]}),c.jsxs("label",{className:"flex items-center",children:[c.jsx(ee,{type:"checkbox",name:"companySize",value:"201-500",className:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded"}),c.jsx("span",{className:"ml-2",children:"201-500 employees"})]}),c.jsxs("label",{className:"flex items-center",children:[c.jsx(ee,{type:"checkbox",name:"companySize",value:"501-1000",className:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded"}),c.jsx("span",{className:"ml-2",children:"501-1000 employees"})]}),c.jsxs("label",{className:"flex items-center",children:[c.jsx(ee,{type:"checkbox",name:"companySize",value:"1001+",className:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded"}),c.jsx("span",{className:"ml-2",children:"1001+ employees"})]})]}),c.jsx(Ve,{name:"companySize",component:"div",className:"text-red-500 text-sm mt-1"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"excludedCompanies",className:"block text-text-dark mb-1",children:"Excluded Companies (Optional)"}),c.jsx(ee,{as:"textarea",id:"excludedCompanies",name:"excludedCompanies",rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",placeholder:"Enter companies to exclude, separated by commas"}),c.jsx(Ve,{name:"excludedCompanies",component:"div",className:"text-red-500 text-sm mt-1"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"additionalKeywords",className:"block text-text-dark mb-1",children:"Additional Keywords (Optional)"}),c.jsx(ee,{type:"text",id:"additionalKeywords",name:"additionalKeywords",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",placeholder:"e.g., React, JavaScript, Remote"}),c.jsx(Ve,{name:"additionalKeywords",component:"div",className:"text-red-500 text-sm mt-1"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"emailTemplate",className:"block text-text-dark mb-1",children:"Email Template"}),c.jsx(ee,{as:"textarea",id:"emailTemplate",name:"emailTemplate",rows:"6",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",placeholder:"Enter your email template. Use {{company}} and {{position}} as placeholders."}),c.jsx(Ve,{name:"emailTemplate",component:"div",className:"text-red-500 text-sm mt-1"})]}),c.jsxs("div",{className:"bg-accent p-4 rounded-md",children:[c.jsx("h3",{className:"text-lg font-semibold text-text-dark mb-2",children:"Estimated Results and Costs"}),c.jsx("p",{className:"text-sm text-text-dark mb-3",children:"Based on your filter criteria, here are the estimated results and costs. Adjust your filters to align with your budget."}),c.jsxs("div",{className:"flex justify-between items-center py-1 border-b border-gray-200",children:[c.jsx("span",{className:"text-text-dark",children:"Estimated Companies:"}),c.jsx("span",{className:"font-medium",children:Math.round(r/1.75)})]}),c.jsxs("div",{className:"flex justify-between items-center py-1 border-b border-gray-200",children:[c.jsx("span",{className:"text-text-dark",children:"Estimated Decision Makers:"}),c.jsx("span",{className:"font-medium",children:Math.round(r/1.75*1.5)})]}),c.jsxs("div",{className:"flex justify-between items-center py-1 border-b border-gray-200",children:[c.jsx("span",{className:"text-text-dark",children:"Estimated Email Deliveries:"}),c.jsx("span",{className:"font-medium",children:Math.round(r/1.75*1.5*.95)})]}),c.jsxs("div",{className:"flex justify-between items-center py-2 mt-1 font-bold",children:[c.jsx("span",{className:"text-text-dark",children:"Total Estimated Cost:"}),c.jsxs("span",{className:"text-text-dark",children:["$",r]})]})]}),c.jsx("button",{type:"submit",disabled:h,className:"w-full btn-primary disabled:opacity-50",children:h?"Submitting...":"Launch Campaign"})]}))})})]})},$$=()=>{const{currentUser:t,getUserSettings:e,updateUserSettings:r,updatePassword:n}=wt(),[s,i]=w.useState(!1),[o,a]=w.useState(!1),[l,u]=w.useState(!1),[d,f]=w.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[h,g]=w.useState(""),[y,_]=w.useState(""),x=e()||{integrations:{instantly:{apiKey:"",isConnected:!1}}},[p,m]=w.useState({name:"John Doe",email:(t==null?void 0:t.email)||"john.doe@example.com",company:"Acme Corporation",role:"Hiring Manager",phone:"(555) 123-4567",notifications:{email:!0,browser:!1,mobile:!0},integrations:x.integrations||{instantly:{apiKey:"",isConnected:!1}}});w.useEffect(()=>{(async()=>{if(t)try{const{data:F,error:K}=await Z.from("profiles").select("*").eq("user_id",t.uid).single();if(K){console.error("Error fetching user profile:",K);return}F&&m(pe=>({...pe,name:F.name||pe.name,company:F.company||pe.company,role:F.role||pe.role,phone:F.phone||pe.phone,notifications:F.notifications||pe.notifications}))}catch(F){console.error("Error in fetchUserProfile:",F)}})()},[t]),w.useEffect(()=>{x&&m(N=>({...N,integrations:x.integrations||{instantly:{apiKey:"",isConnected:!1}}}))},[x]);const v=N=>{const{name:F,value:K}=N.target;m({...p,[F]:K})},E=N=>{const{value:F}=N.target;m({...p,integrations:{...p.integrations,instantly:{...p.integrations.instantly,apiKey:F}}})},T=N=>{const{name:F,checked:K}=N.target;m({...p,notifications:{...p.notifications,[F]:K}})},k=N=>{const{name:F,value:K}=N.target;f({...d,[F]:K})},b=async N=>{N.preventDefault();try{const{error:F}=await Z.from("profiles").upsert({user_id:t.uid,name:p.name,company:p.company,role:p.role,phone:p.phone,notifications:p.notifications,updated_at:new Date});if(F){console.error("Error saving profile data:",F);return}console.log("Profile data saved successfully"),i(!1)}catch(F){console.error("Error in handleSubmit:",F)}},I=async()=>{const N={...x,integrations:{...x.integrations,instantly:{apiKey:p.integrations.instantly.apiKey,isConnected:!0}}};r(N);try{const{error:F}=await Z.from("api_keys").upsert({user_id:t.uid,service:"instantly",api_key:p.integrations.instantly.apiKey,updated_at:new Date});F&&console.error("Error saving API key:",F)}catch(F){console.error("Error in handleSaveApiKey:",F)}console.log("Saving Instantly API key for user:",t==null?void 0:t.email),a(!1)},A=async()=>{const N={...x,integrations:{...x.integrations,instantly:{apiKey:"",isConnected:!1}}};r(N);try{const{error:F}=await Z.from("api_keys").delete().eq("user_id",t.uid).eq("service","instantly");F&&console.error("Error deleting API key:",F)}catch(F){console.error("Error in handleDisconnectInstantly:",F)}m({...p,integrations:{...p.integrations,instantly:{apiKey:"",isConnected:!1}}}),console.log("Disconnected Instantly integration for user:",t==null?void 0:t.email)},U=async N=>{if(N.preventDefault(),g(""),_(""),d.newPassword!==d.confirmPassword){g("New passwords do not match");return}if(d.newPassword.length<6){g("Password must be at least 6 characters");return}try{await n(d.currentPassword,d.newPassword),_("Password updated successfully"),f({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>{u(!1),_("")},2e3)}catch(F){console.error("Error updating password:",F),g(F.message||"Failed to update password")}};return c.jsxs("div",{className:"max-w-3xl mx-auto",children:[c.jsx("div",{className:"flex justify-between items-center mb-6",children:c.jsx("h2",{className:"text-2xl font-bold text-text-dark",children:"Profile"})}),c.jsx("div",{className:"card",children:c.jsxs("form",{onSubmit:b,children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-text-dark mb-1",children:"Full Name"}),s?c.jsx("input",{type:"text",name:"name",value:p.name,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary"}):c.jsx("p",{className:"text-text-dark",children:p.name})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-text-dark mb-1",children:"Email"}),c.jsx("p",{className:"text-text-dark",children:p.email}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-text-dark mb-1",children:"Company"}),s?c.jsx("input",{type:"text",name:"company",value:p.company,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary"}):c.jsx("p",{className:"text-text-dark",children:p.company})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-text-dark mb-1",children:"Role"}),s?c.jsx("input",{type:"text",name:"role",value:p.role,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary"}):c.jsx("p",{className:"text-text-dark",children:p.role})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-text-dark mb-1",children:"Phone Number"}),s?c.jsx("input",{type:"text",name:"phone",value:p.phone,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary"}):c.jsx("p",{className:"text-text-dark",children:p.phone})]})]}),s&&c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-text-dark mb-3",children:"Notification Preferences"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",name:"email",checked:p.notifications.email,onChange:T,className:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded"}),c.jsx("span",{className:"ml-2 text-text-dark",children:"Email Notifications"})]}),c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",name:"browser",checked:p.notifications.browser,onChange:T,className:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded"}),c.jsx("span",{className:"ml-2 text-text-dark",children:"Browser Notifications"})]}),c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",name:"mobile",checked:p.notifications.mobile,onChange:T,className:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded"}),c.jsx("span",{className:"ml-2 text-text-dark",children:"Mobile Notifications"})]})]})]}),s?c.jsxs("div",{className:"flex space-x-3 mt-4",children:[c.jsx("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 bg-gray-200 text-text-dark rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),c.jsx("button",{type:"submit",className:"btn-primary",children:"Save Changes"})]}):c.jsx("div",{className:"mt-4",children:c.jsx("button",{onClick:()=>i(!0),className:"btn-secondary",children:"Edit Profile"})})]})}),c.jsxs("div",{className:"mt-8",children:[c.jsx("h3",{className:"text-xl font-semibold text-text-dark mb-4",children:"Integrations"}),c.jsx("div",{className:"card",children:c.jsxs("div",{className:"mb-4",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-medium text-text-dark mb-2",children:"Instantly.ai"}),c.jsx("p",{className:"text-gray-600 mb-3",children:"Connect your Instantly.ai account to enable campaign automation."})]}),c.jsx("div",{className:"flex items-center",children:p.integrations.instantly.isConnected&&c.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs mr-3",children:"Connected"})})]}),o?c.jsxs("div",{className:"mt-3",children:[c.jsx("label",{className:"block text-text-dark mb-1",children:"API Key"}),c.jsx("div",{className:"flex",children:c.jsx("input",{type:"password",value:p.integrations.instantly.apiKey,onChange:E,placeholder:"Enter your Instantly API key",className:"flex-grow px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary"})}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"You can find your API key in your Instantly.ai account settings."}),c.jsxs("div",{className:"flex space-x-3 mt-4",children:[c.jsx("button",{type:"button",onClick:()=>a(!1),className:"px-4 py-2 bg-gray-200 text-text-dark rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),c.jsx("button",{type:"button",onClick:I,className:"btn-primary",children:"Save"})]})]}):c.jsx("div",{className:"mt-4",children:p.integrations.instantly.isConnected?c.jsxs("div",{className:"flex space-x-3",children:[c.jsx("button",{onClick:()=>a(!0),className:"btn-secondary",children:"Update API Key"}),c.jsx("button",{onClick:A,className:"px-4 py-2 bg-red-100 text-red-700 rounded-md hover:bg-red-200 transition-colors",children:"Disconnect"})]}):c.jsx("button",{onClick:()=>a(!0),className:"btn-secondary",children:"Connect Instantly"})})]})})]}),c.jsxs("div",{className:"mt-8",children:[c.jsx("h3",{className:"text-xl font-semibold text-text-dark mb-4",children:"Account Security"}),c.jsx("div",{className:"card",children:c.jsxs("div",{className:"mb-4",children:[c.jsx("h4",{className:"text-lg font-medium text-text-dark mb-2",children:"Change Password"}),c.jsx("p",{className:"text-gray-600 mb-3",children:"Ensure your account is using a strong password for security."}),l?c.jsxs("form",{onSubmit:U,children:[h&&c.jsx("div",{className:"mb-3 p-2 bg-red-100 text-red-700 rounded",children:h}),y&&c.jsx("div",{className:"mb-3 p-2 bg-green-100 text-green-700 rounded",children:y}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"block text-text-dark mb-1",children:"Current Password"}),c.jsx("input",{type:"password",name:"currentPassword",value:d.currentPassword,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",required:!0})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"block text-text-dark mb-1",children:"New Password"}),c.jsx("input",{type:"password",name:"newPassword",value:d.newPassword,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",required:!0})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-text-dark mb-1",children:"Confirm New Password"}),c.jsx("input",{type:"password",name:"confirmPassword",value:d.confirmPassword,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",required:!0})]}),c.jsxs("div",{className:"flex space-x-3 mt-4",children:[c.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 bg-gray-200 text-text-dark rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),c.jsx("button",{type:"submit",className:"btn-primary",children:"Update Password"})]})]}):c.jsx("div",{className:"mt-4",children:c.jsx("button",{className:"btn-secondary",onClick:()=>u(!0),children:"Update Password"})})]})})]})]})},D$=()=>{const{currentUser:t}=wt(),e=an(),r=()=>{e(t?"/dashboard":"/")};return c.jsxs("div",{className:"text-center py-12",children:[c.jsx("h2",{className:"text-4xl font-bold text-text-dark mb-4",children:"404"}),c.jsx("h3",{className:"text-2xl font-semibold text-text-dark mb-6",children:"Page Not Found"}),c.jsx("p",{className:"text-text-dark mb-8",children:"The page you are looking for doesn't exist or has been moved."}),c.jsx("button",{onClick:r,className:"btn-primary",children:t?"Return to Dashboard":"Return to Home"})]})},L$=()=>{const t=an(),{currentUser:e}=wt(),[r,n]=w.useState({domains:"",forwardingDomain:"",firstName:"",lastName:""}),[s,i]=w.useState({}),[o,a]=w.useState(!1),[l,u]=w.useState(!1),d=y=>/^(?:[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?\.)+[a-z0-9][a-z0-9-]{0,61}[a-z0-9]$/i.test(y),f=()=>{const y={};if(!r.domains.trim())y.domains="Domains are required";else{const x=r.domains.split(",").map(p=>p.trim()).filter(p=>!d(p));x.length>0&&(y.domains=`Invalid domain format: ${x.join(", ")}`)}return r.forwardingDomain.trim()?d(r.forwardingDomain)||(y.forwardingDomain="Invalid forwarding domain format"):y.forwardingDomain="Forwarding domain is required",r.firstName.trim()||(y.firstName="First name is required"),r.lastName.trim()||(y.lastName="Last name is required"),i(y),Object.keys(y).length===0},h=y=>{const{name:_,value:x}=y.target;n(p=>({...p,[_]:x}))},g=async y=>{if(y.preventDefault(),f()){a(!0);try{console.log("Submitting email account data:",r),await new Promise(_=>setTimeout(_,1e3)),e&&(await $_.incrementSubmissionCount(e.uid,1),console.log("Incremented submission count for workflow: 1")),u(!0),n({domains:"",forwardingDomain:"",firstName:"",lastName:""}),setTimeout(()=>{t("/dashboard")},2e3)}catch(_){console.error("Error submitting form:",_),i({submit:"Failed to submit form. Please try again."})}finally{a(!1)}}};return c.jsxs("div",{className:"max-w-3xl mx-auto",children:[c.jsx("div",{className:"flex justify-between items-center mb-6",children:c.jsx("h2",{className:"text-2xl font-bold text-text-dark",children:"Email Account Submission"})}),c.jsx("div",{className:"card",children:l?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto text-green-500 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),c.jsx("h3",{className:"text-xl font-semibold text-text-dark mb-2",children:"Submission Successful!"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"Your email account details have been submitted successfully."}),c.jsx("p",{className:"text-gray-600",children:"Redirecting to dashboard..."})]}):c.jsxs("form",{onSubmit:g,children:[c.jsx("div",{className:"mb-6",children:c.jsx("p",{className:"text-gray-600 mb-4",children:"Submit your email account details to set up your campaign delivery. All fields are required."})}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"domains",className:"block text-text-dark mb-1 font-medium",children:"Input Your Domains"}),c.jsx("input",{type:"text",id:"domains",name:"domains",value:r.domains,onChange:h,placeholder:"example.com, another-domain.com",className:`w-full px-3 py-2 border ${s.domains?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-secondary`}),s.domains&&c.jsx("p",{className:"mt-1 text-red-500 text-sm",children:s.domains}),c.jsx("p",{className:"mt-1 text-gray-500 text-sm",children:"Enter comma-separated list of domains"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"forwardingDomain",className:"block text-text-dark mb-1 font-medium",children:"Forwarding Domain"}),c.jsx("input",{type:"text",id:"forwardingDomain",name:"forwardingDomain",value:r.forwardingDomain,onChange:h,placeholder:"forwarding-domain.com",className:`w-full px-3 py-2 border ${s.forwardingDomain?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-secondary`}),s.forwardingDomain&&c.jsx("p",{className:"mt-1 text-red-500 text-sm",children:s.forwardingDomain})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"firstName",className:"block text-text-dark mb-1 font-medium",children:"First Name"}),c.jsx("input",{type:"text",id:"firstName",name:"firstName",value:r.firstName,onChange:h,placeholder:"John",className:`w-full px-3 py-2 border ${s.firstName?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-secondary`}),s.firstName&&c.jsx("p",{className:"mt-1 text-red-500 text-sm",children:s.firstName})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"lastName",className:"block text-text-dark mb-1 font-medium",children:"Last Name"}),c.jsx("input",{type:"text",id:"lastName",name:"lastName",value:r.lastName,onChange:h,placeholder:"Doe",className:`w-full px-3 py-2 border ${s.lastName?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-secondary`}),s.lastName&&c.jsx("p",{className:"mt-1 text-red-500 text-sm",children:s.lastName})]})]})]}),s.submit&&c.jsx("div",{className:"mt-4 p-3 bg-red-100 text-red-700 rounded-md",children:s.submit}),c.jsxs("div",{className:"mt-8 flex justify-end",children:[c.jsx(dt,{to:"/dashboard",className:"px-4 py-2 bg-gray-200 text-text-dark rounded-md hover:bg-gray-300 transition-colors mr-3",children:"Cancel"}),c.jsx("button",{type:"submit",className:"btn-primary",disabled:o,children:o?"Submitting...":"Submit Email Account"})]})]})})]})},F$=()=>{const[t,e]=w.useState(!0),r="https://form.bluecraft.ai/widget/booking/etmgsLRR2wxNiCSlJiI1",n=700,s=()=>{e(!1)};return w.useEffect(()=>{const i=document.createElement("script");return i.src="https://form.bluecraft.ai/js/form_embed.js",i.type="text/javascript",i.async=!0,document.body.appendChild(i),()=>{document.body.removeChild(i)}},[]),c.jsxs("div",{className:"max-w-5xl mx-auto",children:[c.jsx("div",{className:"flex justify-between items-center",style:{marginBottom:"0"},children:c.jsx("h2",{className:"text-2xl font-bold text-text-dark",children:"Schedule a Call"})}),t&&c.jsx("div",{className:"flex justify-center items-center h-12",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-secondary"})}),c.jsx("div",{style:{lineHeight:0,fontSize:0,marginTop:"-30px"},children:c.jsx("iframe",{src:r,style:{width:"100%",border:"none",display:"block",overflow:"hidden",height:`${n}px`,backgroundColor:"transparent",padding:0,margin:0},scrolling:"no",frameBorder:"0",id:"etmgsLRR2wxNiCSlJiI1_1743733381977",onLoad:s,title:"Schedule a Call",allowTransparency:"true"})})]})};class In{static async createSubmission(e){try{const{data:r,error:n}=await Z.from("csv_submissions").insert([{id:e.id,user_id:e.user_id,user_email:e.user_email,original_filename:e.original_filename,custom_name:e.custom_name||e.original_filename,email_count:e.email_count,notes:e.notes,status:"processing"}]).select();if(n)throw n;return{data:r[0],error:null}}catch(r){return console.error("Error creating submission:",r),{data:null,error:r}}}static async getSubmissions(e,r=null,n=null){try{let s=Z.from("csv_submissions").select("*").eq("user_id",e).order("created_at",{ascending:!1});r&&(s=s.eq("status",r)),n&&(s=s.or(`custom_name.ilike.%${n}%,original_filename.ilike.%${n}%`));const{data:i,error:o}=await s;if(o)throw o;return{data:i,error:null}}catch(s){return console.error("Error fetching submissions:",s),{data:null,error:s}}}static async getSubmissionById(e){try{const{data:r,error:n}=await Z.from("csv_submissions").select("*").eq("id",e).single();if(n)throw n;return{data:r,error:null}}catch(r){return console.error("Error fetching submission:",r),{data:null,error:r}}}static async updateSubmissionStatus(e,r,n=null){try{const s={status:r,updated_at:new Date().toISOString()};n&&(s.processed_file_path=n);const{data:i,error:o}=await Z.from("csv_submissions").update(s).eq("id",e).select();if(o)throw o;return{data:i[0],error:null}}catch(s){return console.error("Error updating submission status:",s),{data:null,error:s}}}static async updateSubmissionName(e,r){try{const{data:n,error:s}=await Z.from("csv_submissions").update({custom_name:r,updated_at:new Date().toISOString()}).eq("id",e).select();if(s)throw s;return{data:n[0],error:null}}catch(n){return console.error("Error updating submission name:",n),{data:null,error:n}}}static async deleteSubmission(e){try{const{data:r,error:n}=await Z.from("csv_submissions").delete().eq("id",e);if(n)throw n;return{success:!0,error:null}}catch(r){return console.error("Error deleting submission:",r),{success:!1,error:r}}}static async uploadFile(e,r,n){try{const s=`${r}/${n}/${e.name}`,{data:i,error:o}=await Z.storage.from("csv-files").upload(s,e,{cacheControl:"3600",upsert:!1});if(o)throw o;return{data:i,error:null}}catch(s){return console.error("Error uploading file:",s),{data:null,error:s}}}static async getFileDownloadUrl(e){try{const r=e.startsWith("csv-files/")?e.substring(10):e;console.log("Generating signed URL for path:",r);const{data:n,error:s}=await Z.storage.from("csv-files").createSignedUrl(r,60*60);if(s)throw s;return{url:n.signedUrl,error:null}}catch(r){return console.error("Error getting download URL:",r),{url:null,error:r}}}}const U$=()=>{const{currentUser:t}=wt(),[e,r]=w.useState([]),[n,s]=w.useState(!0),[i,o]=w.useState(null),[a,l]=w.useState("all"),[u,d]=w.useState(""),[f,h]=w.useState(null),[g,y]=w.useState(""),_=async()=>{try{s(!0);const b=a!=="all"?a:null,{data:I,error:A}=await In.getSubmissions(t.uid,b,u.trim()||null);if(A)throw A;r(I||[]),o(null)}catch(b){console.error("Error fetching submissions:",b),o("Failed to load submissions. Please try again later.")}finally{s(!1)}};w.useEffect(()=>{t&&_()},[t,a]),w.useEffect(()=>{const b=setTimeout(()=>{t&&_()},500);return()=>clearTimeout(b)},[u]);const x=[{value:"all",label:"All Submissions"},{value:"processing",label:"Processing"},{value:"done",label:"Done"},{value:"error",label:"Error"}],p=b=>{l(b.target.value)},m=b=>{d(b.target.value)},v=b=>{h(b.id),y(b.custom_name||b.original_filename)},E=async b=>{try{if(!g.trim())return;const{data:I,error:A}=await In.updateSubmissionName(b,g.trim());if(A)throw A;r(U=>U.map(N=>N.id===b?{...N,custom_name:g.trim()}:N)),h(null)}catch(I){console.error("Error updating submission name:",I),o("Failed to update submission name. Please try again.")}},T=()=>{h(null),y("")},k=async b=>{try{if(!b.processed_file_path){o("Processed file not available for download yet.");return}const{url:I,error:A}=await In.getFileDownloadUrl(b.processed_file_path);if(A)throw A;window.open(I,"_blank")}catch(I){console.error("Error downloading file:",I),o("Failed to download file. Please try again later.")}};return c.jsxs("div",{className:"max-w-6xl mx-auto",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[c.jsx("h2",{className:"text-2xl font-bold text-text-dark",children:"Submissions"}),c.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-3 w-full md:w-auto",children:[c.jsxs("div",{className:"relative w-full md:w-64",children:[c.jsx("input",{type:"text",placeholder:"Search submissions...",value:u,onChange:m,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary pr-8"}),u&&c.jsx("button",{onClick:()=>d(""),className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:"×"})]}),c.jsxs("div",{className:"flex items-center w-full md:w-auto",children:[c.jsx("label",{htmlFor:"filter",className:"mr-2 text-text-dark whitespace-nowrap",children:"Filter:"}),c.jsx("select",{id:"filter",value:a,onChange:p,className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary w-full md:w-auto",children:x.map(b=>c.jsx("option",{value:b.value,children:b.label},b.value))}),c.jsx("button",{onClick:_,className:"ml-2 p-2 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",title:"Refresh",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})]})]}),i&&c.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:i}),n?c.jsx("div",{className:"flex justify-center items-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-secondary"})}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full bg-white rounded-lg overflow-hidden shadow-md",children:[c.jsx("thead",{className:"bg-gray-100 text-text-dark",children:c.jsxs("tr",{children:[c.jsx("th",{className:"py-3 px-4 text-left",children:"Name"}),c.jsx("th",{className:"py-3 px-4 text-left",children:"Original File"}),c.jsx("th",{className:"py-3 px-4 text-left",children:"Status"}),c.jsx("th",{className:"py-3 px-4 text-left",children:"Created"}),c.jsx("th",{className:"py-3 px-4 text-left",children:"Actions"})]})}),c.jsx("tbody",{children:e.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:"5",className:"py-8 text-center text-gray-500",children:u?"No submissions match your search.":"No submissions found. Start by uploading a CSV file."})}):e.map(b=>c.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[c.jsx("td",{className:"py-3 px-4",children:f===b.id?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"text",value:g,onChange:I=>y(I.target.value),className:"px-2 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-secondary w-full",autoFocus:!0}),c.jsx("button",{onClick:()=>E(b.id),className:"text-green-600 hover:text-green-800",title:"Save",children:"✓"}),c.jsx("button",{onClick:T,className:"text-red-600 hover:text-red-800",title:"Cancel",children:"✕"})]}):c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{children:b.custom_name||b.original_filename}),c.jsx("button",{onClick:()=>v(b),className:"text-gray-500 hover:text-gray-700",title:"Edit name",children:"✎"})]})}),c.jsx("td",{className:"py-3 px-4 text-gray-600 text-sm",children:b.original_filename}),c.jsx("td",{className:"py-3 px-4",children:c.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${b.status==="done"?"bg-green-100 text-green-800":b.status==="error"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:b.status==="processing"?"Processing":b.status==="done"?"Done":"Error"})}),c.jsx("td",{className:"py-3 px-4 text-sm",children:new Date(b.created_at).toLocaleString()}),c.jsx("td",{className:"py-3 px-4",children:c.jsx("button",{onClick:()=>k(b),className:`text-secondary hover:text-opacity-80 ${b.status!=="done"?"opacity-50 cursor-not-allowed":""}`,disabled:b.status!=="done",title:b.status!=="done"?"Available when processing is complete":"Download processed file",children:"Download"})})]},b.id))})]})}),c.jsxs("div",{className:"mt-6 bg-blue-50 p-4 rounded-md border border-blue-200",children:[c.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-2",children:"About CSV Processing"}),c.jsx("p",{className:"text-blue-800 mb-2",children:"LeadLines processes your CSV files through the following workflow:"}),c.jsxs("ol",{className:"list-decimal pl-5 space-y-1 text-blue-800",children:[c.jsx("li",{children:'When you submit a CSV file, the status is set to "Processing"'}),c.jsx("li",{children:"Your file is processed through our AI-powered system"}),c.jsx("li",{children:'When processing is complete, the status is updated to "Done"'}),c.jsx("li",{children:'If an error occurs, the status is updated to "Error"'}),c.jsx("li",{children:'You can download the processed file once the status is "Done"'}),c.jsx("li",{children:"You can edit the submission name at any time for better organization"})]})]})]})},ke=[];for(let t=0;t<256;++t)ke.push((t+256).toString(16).slice(1));function M$(t,e=0){return(ke[t[e+0]]+ke[t[e+1]]+ke[t[e+2]]+ke[t[e+3]]+"-"+ke[t[e+4]]+ke[t[e+5]]+"-"+ke[t[e+6]]+ke[t[e+7]]+"-"+ke[t[e+8]]+ke[t[e+9]]+"-"+ke[t[e+10]]+ke[t[e+11]]+ke[t[e+12]]+ke[t[e+13]]+ke[t[e+14]]+ke[t[e+15]]).toLowerCase()}let Gu;const z$=new Uint8Array(16);function B$(){if(!Gu){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Gu=crypto.getRandomValues.bind(crypto)}return Gu(z$)}const V$=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),_g={randomUUID:V$};function H$(t,e,r){var s;if(_g.randomUUID&&!t)return _g.randomUUID();t=t||{};const n=t.random??((s=t.rng)==null?void 0:s.call(t))??B$();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,M$(n)}const W$=()=>{const[t,e]=w.useState([]),[r,n]=w.useState(""),[s,i]=w.useState(""),[o,a]=w.useState(!1),[l,u]=w.useState({text:"",type:""}),d=w.useRef(null),f=w.useRef(null),{currentUser:h}=wt(),g="https://bluecraftleads.app.n8n.cloud/webhook-test/363e4379-80f1-49b0-8d2f-e5ad1bc61f85";w.useEffect(()=>{const k=f.current;if(!k)return;const b=N=>{N.preventDefault(),N.stopPropagation()},I=()=>{k.classList.add("dragover")},A=()=>{k.classList.remove("dragover")},U=N=>{A();const K=N.dataTransfer.files;x(K)};return["dragenter","dragover","dragleave","drop"].forEach(N=>{k.addEventListener(N,b,!1)}),["dragenter","dragover"].forEach(N=>{k.addEventListener(N,I,!1)}),["dragleave","drop"].forEach(N=>{k.addEventListener(N,A,!1)}),k.addEventListener("drop",U,!1),()=>{["dragenter","dragover","dragleave","drop"].forEach(N=>{k.removeEventListener(N,b,!1)}),["dragenter","dragover"].forEach(N=>{k.removeEventListener(N,I,!1)}),["dragleave","drop"].forEach(N=>{k.removeEventListener(N,A,!1)}),k.removeEventListener("drop",U,!1)}},[]);const y=k=>{const b=k.target.files;b.length>0&&x(b)},_=()=>{d.current&&d.current.click()},x=k=>{if(k.length===0)return;const b=Array.from(k).filter(I=>I.size>10*1024*1024?(m(`File ${I.name} is too large. Maximum size is 10MB.`,"error"),!1):I.name.toLowerCase().endsWith(".csv")?!0:(m(`File ${I.name} is not a CSV file.`,"error"),!1));b.length!==0&&e(I=>[...I,...b])},p=k=>{e(b=>b.filter((I,A)=>A!==k))},m=(k,b)=>{u({text:k,type:b}),setTimeout(()=>{u({text:"",type:""})},5e3)},v=async k=>{var b;if(k.preventDefault(),!!E()){a(!0);try{const I=H$(),A=new FormData;A.append("submission_id",I),A.append("user_id",h.uid),A.append("user_email",h.email),r.trim()&&A.append("number_of_emails",r),s.trim()&&A.append("additional_notes",s);for(let N=0;N<t.length;N++){A.append("files",t[N]),A.append("original_filename",t[N].name);const{data:F,error:K}=await In.createSubmission({id:I,user_id:h.uid,user_email:h.email,original_filename:t[N].name,custom_name:t[N].name,email_count:parseInt(r)||0,notes:s});if(K){m("Error creating submission record. Please try again.","error"),a(!1);return}const{error:pe}=await In.uploadFile(t[N],h.uid,I);if(pe){m("Error uploading file. Please try again.","error"),await In.deleteSubmission(I),a(!1);return}}(await fetch(g,{method:"POST",body:A,headers:{"x-user-id":h.uid,"x-user-email":h.email,"x-submission-id":I,"x-original-filename":((b=t[0])==null?void 0:b.name)||""}})).ok?(m("Files uploaded successfully! Check the Submissions page for status updates.","success"),T()):(m("Error uploading files. Please try again.","error"),await In.deleteSubmission(I))}catch(I){console.error("Error submitting form:",I),m("Error uploading files. Please try again.","error")}finally{a(!1)}}},E=()=>t.length===0?(m("Please select at least one CSV file.","error"),!1):r.trim()?!0:(m("Please enter the number of emails.","error"),!1),T=()=>{e([]),n(""),i(""),d.current&&(d.current.value="")};return c.jsxs("div",{className:"max-w-2xl mx-auto",children:[c.jsx("h2",{className:"text-2xl font-bold text-text-dark mb-6",children:"CSV Upload"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Upload your CSV file to generate personalized email sequences."}),c.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[c.jsxs("div",{className:"bg-secondary text-white p-5 text-center",children:[c.jsx("h3",{className:"text-xl font-bold",children:"LeadLines File Upload"}),c.jsx("p",{className:"opacity-90",children:"Upload Your CSV"})]}),c.jsxs("div",{className:"p-6",children:[l.text&&c.jsx("div",{className:`p-4 mb-6 rounded-md ${l.type==="success"?"bg-green-100 border border-green-300 text-green-700":"bg-red-100 border border-red-300 text-red-700"}`,children:l.text}),c.jsxs("form",{onSubmit:v,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"fileUpload",className:"block font-semibold mb-2 after:content-['*'] after:ml-0.5 after:text-red-500",children:"Files"}),c.jsxs("div",{ref:f,className:"border-2 border-dashed border-gray-300 rounded-md p-6 text-center cursor-pointer hover:border-secondary hover:bg-blue-50 transition-colors relative",onClick:_,children:[c.jsx("div",{className:"text-4xl mb-2",children:"📂"}),c.jsx("p",{children:"Drag & drop files here or click to browse"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum file size: 10MB"}),c.jsx("input",{type:"file",id:"fileUpload",ref:d,className:"hidden",multiple:!0,accept:".csv",onChange:y})]}),t.length>0&&c.jsxs("div",{className:"mt-4 p-3 bg-gray-100 rounded-md",children:[c.jsx("p",{className:"font-semibold",children:"Selected files:"}),c.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:t.map((k,b)=>c.jsxs("div",{className:"flex items-center bg-white border border-gray-300 rounded-md px-3 py-2 text-sm",children:[c.jsx("span",{className:"max-w-[180px] truncate",children:k.name}),c.jsx("button",{type:"button",className:"ml-2 text-red-500 font-bold",onClick:I=>{I.stopPropagation(),p(b)},children:"×"})]},b))})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"emailCount",className:"block font-semibold mb-2 after:content-['*'] after:ml-0.5 after:text-red-500",children:"Number of Emails"}),c.jsx("input",{type:"number",id:"emailCount",value:r,onChange:k=>n(k.target.value),min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",placeholder:"Enter the number of emails in your CSV",required:!0}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Specify how many email's you'd like to have in your sequence."})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"notes",className:"block font-semibold mb-2",children:"Additional Notes"}),c.jsx("textarea",{id:"notes",value:s,onChange:k=>i(k.target.value),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-secondary",placeholder:"Enter any additional information about your CSV file here..."}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Add any context or special instructions related to your upload."})]}),c.jsx("button",{type:"submit",className:"w-full bg-secondary text-white py-3 px-4 rounded-md font-semibold hover:bg-blue-600 transition-colors disabled:bg-blue-300 disabled:cursor-not-allowed",disabled:o,children:o?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"inline-block w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2 align-middle"}),c.jsx("span",{children:"Submitting..."})]}):"Submit"})]})]})]})]})},q$=()=>c.jsx("div",{className:"py-6",children:c.jsx(W$,{})});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K$="type.googleapis.com/google.protobuf.Int64Value",G$="type.googleapis.com/google.protobuf.UInt64Value";function D_(t,e){const r={};for(const n in t)t.hasOwnProperty(n)&&(r[n]=e(t[n]));return r}function _d(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>_d(e));if(typeof t=="function"||typeof t=="object")return D_(t,e=>_d(e));throw new Error("Data cannot be encoded in JSON: "+t)}function Ya(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case K$:case G$:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>Ya(e)):typeof t=="function"||typeof t=="object"?D_(t,e=>Ya(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xg={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ps extends At{constructor(e,r,n){super(`${ch}/${e}`,r||""),this.details=n}}function J$(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Y$(t,e){let r=J$(t),n=r,s;try{const i=e&&e.error;if(i){const o=i.status;if(typeof o=="string"){if(!xg[o])return new Ps("internal","internal");r=xg[o],n=o}const a=i.message;typeof a=="string"&&(n=a),s=i.details,s!==void 0&&(s=Ya(s))}}catch{}return r==="ok"?null:new Ps(r,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q${constructor(e,r,n){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||e.get().then(s=>this.auth=s,()=>{}),this.messaging||r.get().then(s=>this.messaging=s,()=>{}),this.appCheck||n.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const r=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return r.error?null:r.token}return null}async getContext(e){const r=await this.getAuthToken(),n=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:r,messagingToken:n,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd="us-central1";function X$(t){let e=null;return{promise:new Promise((r,n)=>{e=setTimeout(()=>{n(new Ps("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class Z${constructor(e,r,n,s,i=xd,o){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new Q$(r,n,s),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(i);this.customDomain=a.origin+(a.pathname==="/"?"":a.pathname),this.region=xd}catch{this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(e){const r=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${r}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${r}.cloudfunctions.net/${e}`}}function eD(t,e,r){t.emulatorOrigin=`http://${e}:${r}`}function tD(t,e,r){return n=>nD(t,e,n,{})}async function rD(t,e,r,n){r["Content-Type"]="application/json";let s;try{s=await n(t,{method:"POST",body:JSON.stringify(e),headers:r})}catch{return{status:0,json:null}}let i=null;try{i=await s.json()}catch{}return{status:s.status,json:i}}function nD(t,e,r,n){const s=t._url(e);return sD(t,s,r,n)}async function sD(t,e,r,n){r=_d(r);const s={data:r},i={},o=await t.contextProvider.getContext(n.limitedUseAppCheckTokens);o.authToken&&(i.Authorization="Bearer "+o.authToken),o.messagingToken&&(i["Firebase-Instance-ID-Token"]=o.messagingToken),o.appCheckToken!==null&&(i["X-Firebase-AppCheck"]=o.appCheckToken);const a=n.timeout||7e4,l=X$(a),u=await Promise.race([rD(e,s,i,t.fetchImpl),l.promise,t.cancelAllRequests]);if(l.cancel(),!u)throw new Ps("cancelled","Firebase Functions instance was deleted.");const d=Y$(u.status,u.json);if(d)throw d;if(!u.json)throw new Ps("internal","Response is not valid JSON object.");let f=u.json.data;if(typeof f>"u"&&(f=u.json.result),typeof f>"u")throw new Ps("internal","Response is missing data field.");return{data:Ya(f)}}const bg="@firebase/functions",Sg="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD="auth-internal",oD="app-check-internal",aD="messaging-internal";function lD(t,e){const r=(n,{instanceIdentifier:s})=>{const i=n.getProvider("app").getImmediate(),o=n.getProvider(iD),a=n.getProvider(aD),l=n.getProvider(oD);return new Z$(i,o,a,l,s,t)};Gt(new Nt(ch,r,"PUBLIC").setMultipleInstances(!0)),mt(bg,Sg,e),mt(bg,Sg,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(t=Ef(),e=xd){const n=Wn(Re(t),ch).getImmediate({identifier:e}),s=AE("functions");return s&&cD(n,...s),n}function cD(t,e,r){eD(Re(t),e,r)}function gn(t,e,r){return tD(Re(t),e)}lD(fetch.bind(self));class dD{constructor(){this.functions=uD(),this.auth=K0()}async getIdToken(){const e=this.auth.currentUser;if(!e)throw new Error("User not authenticated");return e.getIdToken()}async getUserAssistant(e){try{const{data:r,error:n}=await Z.from("user_assistants").select("assistant_id").eq("user_id",e).single();return n?(console.error("Error getting user assistant:",n),{assistantId:null,error:n}):{assistantId:r.assistant_id,error:null}}catch(r){return console.error("Error getting user assistant:",r),{assistantId:null,error:r}}}async getUserThreads(e){try{const{data:r,error:n}=await Z.from("assistant_threads").select("*").eq("user_id",e).order("last_message_at",{ascending:!1});if(n)throw n;return{threads:r,error:null}}catch(r){return console.error("Error getting user threads:",r),{threads:[],error:r}}}async createThread(e,r="New Conversation"){try{const i=(await gn(this.functions,"createThread")()).data,{data:o,error:a}=await Z.from("assistant_threads").insert([{user_id:e,thread_id:i.id,title:r}]).select();if(a)throw a;return{thread:o[0],error:null}}catch(n){return console.error("Error creating thread:",n),{thread:null,error:n}}}async getUserFiles(e){try{const{data:r,error:n}=await Z.from("assistant_files").select("*").eq("user_id",e).order("created_at",{ascending:!1});if(n)throw n;return{files:r,error:null}}catch(r){return console.error("Error getting user files:",r),{files:[],error:r}}}async uploadFile(e,r,n){try{const s=await this.fileToBase64(e),a=(await gn(this.functions,"uploadFile")({fileData:s,fileName:e.name,fileType:e.type,purpose:"assistants"})).data;await gn(this.functions,"attachFileToAssistant")({assistantId:n,fileId:a.id});const{data:u,error:d}=await Z.from("assistant_files").insert([{user_id:r,assistant_id:n,file_id:a.id,filename:e.name,file_size:e.size,file_type:e.type}]).select();if(d)throw d;return{file:u[0],error:null}}catch(s){return console.error("Error uploading file:",s),{file:null,error:s}}}async sendMessage(e,r,n){try{const{assistantId:s,error:i}=await this.getUserAssistant(n);if(i)throw i;const a=await gn(this.functions,"sendMessageAndWaitForResponse")({threadId:e,message:r,assistantId:s}),{error:l}=await Z.from("assistant_threads").update({last_message_at:new Date().toISOString()}).eq("thread_id",e).eq("user_id",n);if(l)throw l;return{response:a.data.response,error:null}}catch(s){return console.error("Error sending message:",s),{response:null,error:s}}}async deleteThread(e,r){try{await gn(this.functions,"deleteThread")({threadId:e});const{error:s}=await Z.from("assistant_threads").delete().eq("thread_id",e).eq("user_id",r);if(s)throw s;return{success:!0,error:null}}catch(n){return console.error("Error deleting thread:",n),{success:!1,error:n}}}async deleteFile(e,r){try{const{assistantId:n,error:s}=await this.getUserAssistant(r);if(s)throw s;await gn(this.functions,"removeFileFromAssistant")({assistantId:n,fileId:e}),await gn(this.functions,"deleteFile")({fileId:e});const{error:a}=await Z.from("assistant_files").delete().eq("file_id",e).eq("user_id",r);if(a)throw a;return{success:!0,error:null}}catch(n){return console.error("Error deleting file:",n),{success:!1,error:n}}}fileToBase64(e){return new Promise((r,n)=>{const s=new FileReader;s.readAsDataURL(e),s.onload=()=>{const i=s.result.split(",")[1];r(i)},s.onerror=i=>n(i)})}}const Sr=new dD;var L_={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Eg=Bt.createContext&&Bt.createContext(L_),fD=["attr","size","title"];function hD(t,e){if(t==null)return{};var r=pD(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pD(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Qa(){return Qa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qa.apply(this,arguments)}function kg(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Xa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kg(Object(r),!0).forEach(function(n){mD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kg(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mD(t,e,r){return e=gD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gD(t){var e=yD(t,"string");return typeof e=="symbol"?e:e+""}function yD(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function F_(t){return t&&t.map((e,r)=>Bt.createElement(e.tag,Xa({key:r},e.attr),F_(e.child)))}function xo(t){return e=>Bt.createElement(vD,Qa({attr:Xa({},t.attr)},e),F_(t.child))}function vD(t){var e=r=>{var{attr:n,size:s,title:i}=t,o=hD(t,fD),a=s||r.size||"1em",l;return r.className&&(l=r.className),t.className&&(l=(l?l+" ":"")+t.className),Bt.createElement("svg",Qa({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:l,style:Xa(Xa({color:t.color||r.color},r.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&Bt.createElement("title",null,i),t.children)};return Eg!==void 0?Bt.createElement(Eg.Consumer,null,r=>e(r)):e(L_)}function wD(t){return xo({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(t)}function _D(t){return xo({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"},child:[]}]})(t)}function xD(t){return xo({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function bD(t){return xo({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"},child:[]},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"},child:[]}]})(t)}function Tg(t){return xo({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}const SD=()=>{const{currentUser:t}=wt(),[e,r]=w.useState([]),[n,s]=w.useState(null),[i,o]=w.useState([]),[a,l]=w.useState(""),[u,d]=w.useState(!1),[f,h]=w.useState(null),[g,y]=w.useState(null),[_,x]=w.useState(!1),[p,m]=w.useState([]),[v,E]=w.useState(!1),T=w.useRef(null),k=w.useRef(null);w.useEffect(()=>{t&&(I(),A(),U())},[t]),w.useEffect(()=>{b()},[i]);const b=()=>{var $;($=T.current)==null||$.scrollIntoView({behavior:"smooth"})},I=async()=>{d(!0);try{const{assistantId:$,error:C}=await Sr.getUserAssistant(t.uid);if(C)throw y("Could not find an AI Assistant associated with your account. Please contact support."),C;h($),y(null)}catch($){console.error("Error initializing assistant:",$),y("Could not find an AI Assistant associated with your account. Please contact support.")}finally{d(!1)}},A=async()=>{try{const{threads:$,error:C}=await Sr.getUserThreads(t.uid);if(C)throw C;r($),$.length>0?(s($[0]),o([{role:"assistant",content:"Hello! How can I help you today?"}])):N()}catch($){console.error("Error loading threads:",$)}},U=async()=>{try{const{files:$,error:C}=await Sr.getUserFiles(t.uid);if(C)throw C;m($)}catch($){console.error("Error loading files:",$)}},N=async()=>{if(!f){y("No AI Assistant found for your account. Please contact support.");return}d(!0);try{const{thread:$,error:C}=await Sr.createThread(t.uid);if(C)throw C;r(R=>[$,...R]),s($),o([{role:"assistant",content:"Hello! How can I help you today?"}])}catch($){console.error("Error creating thread:",$)}finally{d(!1)}},F=async $=>{if($.preventDefault(),!a.trim()||!n||!f)return;const C={role:"user",content:a};o(R=>[...R,C]),l(""),d(!0);try{const{response:R,error:D}=await Sr.sendMessage(n.thread_id,a,t.uid);if(D)throw D;o(V=>[...V,{role:"assistant",content:R}])}catch(R){console.error("Error sending message:",R),o(D=>[...D,{role:"assistant",content:"Sorry, I encountered an error. Please try again."}])}finally{d(!1)}},K=async $=>{const C=$.target.files[0];if(!(!C||!f)){E(!0);try{const{file:R,error:D}=await Sr.uploadFile(C,t.uid,f);if(D)throw D;m(V=>[R,...V]),o(V=>[...V,{role:"assistant",content:`File "${C.name}" has been uploaded and is now available to the assistant.`}])}catch(R){console.error("Error uploading file:",R),o(D=>[...D,{role:"assistant",content:`Sorry, I couldn't upload the file "${C.name}". Please try again.`}])}finally{E(!1)}}},pe=async $=>{if(window.confirm("Are you sure you want to delete this conversation?"))try{const{success:C,error:R}=await Sr.deleteThread($,t.uid);if(R)throw R;if(r(D=>D.filter(V=>V.thread_id!==$)),(n==null?void 0:n.thread_id)===$)if(e.length>1){const D=e.find(V=>V.thread_id!==$);s(D),o([{role:"assistant",content:"Hello! How can I help you today?"}])}else N()}catch(C){console.error("Error deleting thread:",C)}},es=async $=>{if(window.confirm("Are you sure you want to delete this file?"))try{const{success:C,error:R}=await Sr.deleteFile($,t.uid);if(R)throw R;m(D=>D.filter(V=>V.file_id!==$))}catch(C){console.error("Error deleting file:",C)}},fn=$=>{s($),o([{role:"assistant",content:"Hello! How can I help you today?"}]),x(!1)};return g?c.jsx("div",{className:"flex flex-col items-center justify-center h-screen bg-white p-6",children:c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 max-w-md text-center",children:[c.jsx("h2",{className:"text-2xl font-bold mb-4 text-red-700",children:"AI Assistant Not Available"}),c.jsx("p",{className:"mb-4 text-gray-700",children:g}),c.jsx("button",{onClick:I,className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Try Again"})]})}):c.jsxs("div",{className:"flex flex-col h-screen bg-white",children:[c.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[c.jsx("h2",{className:"text-2xl font-bold",children:"AI Assistant"}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>x(!_),className:"p-2 rounded-full hover:bg-gray-100",title:"Show conversations",children:c.jsx(wD,{})}),c.jsx("button",{onClick:N,className:"p-2 rounded-full hover:bg-gray-100",title:"New conversation",disabled:!f,children:c.jsx(xD,{})}),c.jsxs("button",{onClick:()=>{var $;return($=k.current)==null?void 0:$.click()},className:"p-2 rounded-full hover:bg-gray-100",title:"Upload file",disabled:v||!f,children:[c.jsx(_D,{}),c.jsx("input",{type:"file",ref:k,onChange:K,className:"hidden"})]})]})]}),c.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[_&&c.jsx("div",{className:"w-64 border-r overflow-y-auto",children:c.jsxs("div",{className:"p-4",children:[c.jsx("h3",{className:"font-medium mb-2",children:"Conversations"}),c.jsx("ul",{children:e.map($=>c.jsxs("li",{className:`flex justify-between items-center p-2 rounded cursor-pointer ${(n==null?void 0:n.thread_id)===$.thread_id?"bg-blue-100":"hover:bg-gray-100"}`,children:[c.jsx("span",{className:"truncate flex-1",onClick:()=>fn($),children:$.title||"New Conversation"}),c.jsx("button",{onClick:()=>pe($.thread_id),className:"text-gray-500 hover:text-red-500",children:c.jsx(Tg,{size:16})})]},$.thread_id))}),c.jsx("h3",{className:"font-medium mt-6 mb-2",children:"Files"}),c.jsx("ul",{children:p.map($=>c.jsxs("li",{className:"flex justify-between items-center p-2 rounded hover:bg-gray-100",children:[c.jsx("span",{className:"truncate flex-1",title:$.filename,children:$.filename}),c.jsx("button",{onClick:()=>es($.file_id),className:"text-gray-500 hover:text-red-500",children:c.jsx(Tg,{size:16})})]},$.file_id))})]})}),c.jsxs("div",{className:"flex-1 flex flex-col",children:[c.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[i.map(($,C)=>c.jsx("div",{className:`mb-4 flex ${$.role==="user"?"justify-end":"justify-start"}`,children:c.jsx("div",{className:`max-w-3/4 p-3 rounded-lg ${$.role==="user"?"bg-blue-500 text-white rounded-br-none":"bg-gray-100 text-gray-800 rounded-bl-none"}`,children:$.content})},C)),u&&c.jsx("div",{className:"flex justify-start mb-4",children:c.jsx("div",{className:"bg-gray-100 p-3 rounded-lg rounded-bl-none text-gray-800",children:c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-400 animate-bounce"}),c.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-400 animate-bounce",style:{animationDelay:"0.2s"}}),c.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-400 animate-bounce",style:{animationDelay:"0.4s"}})]})})}),c.jsx("div",{ref:T})]}),c.jsx("div",{className:"border-t p-4",children:c.jsxs("form",{onSubmit:F,className:"flex",children:[c.jsx("input",{type:"text",value:a,onChange:$=>l($.target.value),placeholder:"Type your message...",className:"flex-1 border rounded-l-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:u||!n||!f}),c.jsx("button",{type:"submit",className:"bg-blue-500 text-white p-2 rounded-r-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:u||!a.trim()||!n||!f,children:c.jsx(bD,{})})]})})]})]})]})},Er=({children:t})=>{const{currentUser:e}=wt();return e?t:c.jsx(Jv,{to:"/login",replace:!0})};function ED(){return c.jsxs(mE,{children:[c.jsx(Xe,{path:"/",element:c.jsx(Jv,{to:"/login",replace:!0})}),c.jsx(Xe,{path:"/login",element:c.jsx(bt,{children:c.jsx(N$,{})})}),c.jsx(Xe,{path:"/register",element:c.jsx(bt,{children:c.jsx(P$,{})})}),c.jsx(Xe,{path:"/submissions",element:c.jsx(Er,{children:c.jsx(bt,{children:c.jsx(U$,{})})})}),c.jsx(Xe,{path:"/dashboard",element:c.jsx(Er,{children:c.jsx(bt,{children:c.jsx(O$,{})})})}),c.jsx(Xe,{path:"/upload",element:c.jsx(Er,{children:c.jsx(bt,{children:c.jsx(q$,{})})})}),c.jsx(Xe,{path:"/agent",element:c.jsx(Er,{children:c.jsx(bt,{children:c.jsx(SD,{})})})}),c.jsx(Xe,{path:"/workflow/:id",element:c.jsx(Er,{children:c.jsx(bt,{children:c.jsx(R$,{})})})}),c.jsx(Xe,{path:"/profile",element:c.jsx(Er,{children:c.jsx(bt,{children:c.jsx($$,{})})})}),c.jsx(Xe,{path:"/email-submission",element:c.jsx(Er,{children:c.jsx(bt,{children:c.jsx(L$,{})})})}),c.jsx(Xe,{path:"/schedule-call",element:c.jsx(Er,{children:c.jsx(bt,{children:c.jsx(F$,{})})})}),c.jsx(Xe,{path:"*",element:c.jsx(bt,{children:c.jsx(D$,{})})})]})}function kD(){return c.jsx(nP,{children:c.jsx(bE,{children:c.jsx(ED,{})})})}Ju.createRoot(document.getElementById("root")).render(c.jsx(Bt.StrictMode,{children:c.jsx(kD,{})}));export{Za as g};
